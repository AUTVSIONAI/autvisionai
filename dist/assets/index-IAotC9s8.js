var e=Object.defineProperty,t=(t,r,n)=>((t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n)(t,"symbol"!=typeof r?r+"":r,n);import{j as r,m as n,A as a,S as s,C as i,a as o,U as l,V as c,P as d,B as u,b as h,M as m,c as p,L as f,d as g,Z as x,e as y,f as v,g as b,h as j,i as w,E as N,k as _,l as S,G as k,n as O,R as A,o as C,p as P,q as E,T,X as I,I as M,r as R,W as D,s as L,H as z,D as $,t as U,u as B,v as F,w as V,x as q,y as W,z as H,F as G,J as K,K as X,N as Y,O as J,Q as Z,Y as Q,_ as ee,$ as te,a0 as re,a1 as ne,a2 as ae,a3 as se,a4 as ie,a5 as oe,a6 as le,a7 as ce,a8 as de,a9 as ue,aa as he,ab as me,ac as pe,ad as fe,ae as ge,af as xe,ag as ye,ah as ve,ai as be,aj as je,ak as we,al as Ne,am as _e,an as Se,ao as ke,ap as Oe,aq as Ae,ar as Ce,as as Pe,at as Ee,au as Te,av as Ie,aw as Me,ax as Re,ay as De,az as Le,aA as ze,aB as $e,aC as Ue,aD as Be,aE as Fe,aF as Ve,aG as qe,aH as We,aI as He,aJ as Ge,aK as Ke,aL as Xe,aM as Ye,aN as Je,aO as Ze,aP as Qe,aQ as et,aR as tt,aS as rt,aT as nt}from"./ui-BVLTzi7s.js";import{r as at,u as st,a as it,L as ot,R as lt,b as ct,c as dt,B as ut,d as ht,e as mt,N as pt}from"./router-f4fCXEcq.js";import{a as ft,g as gt,b as xt,c as yt}from"./vendor-Cfs_Iq82.js";import{c as vt,a as bt}from"./utils-RSgqk9S-.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var jt,wt={};const Nt=gt(function(){if(jt)return wt;jt=1;var e=ft();return wt.createRoot=e.createRoot,wt.hydrateRoot=e.hydrateRoot,wt}());var _t,St,kt,Ot,At,Ct={exports:{}};function Pt(){if(St)return _t;St=1;return _t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function Et(){if(Ot)return kt;Ot=1;var e=Pt();function t(){}function r(){}return r.resetWarningCache=t,kt=function(){function n(t,r,n,a,s,i){if(i!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function a(){return n}n.isRequired=n;var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s}}function Tt(){return At||(At=1,Ct.exports=Et()()),Ct.exports}const It=gt(Tt()),Mt={},Rt=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=(null==r?void 0:r.nonce)||(null==r?void 0:r.getAttribute("nonce"));n=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Mt)return;Mt[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,a&&n.setAttribute("nonce",a),document.head.appendChild(n),t?new Promise((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};class Dt extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Lt extends Dt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zt extends Dt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $t extends Dt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ut,Bt;(Bt=Ut||(Ut={})).Any="any",Bt.ApNortheast1="ap-northeast-1",Bt.ApNortheast2="ap-northeast-2",Bt.ApSouth1="ap-south-1",Bt.ApSoutheast1="ap-southeast-1",Bt.ApSoutheast2="ap-southeast-2",Bt.CaCentral1="ca-central-1",Bt.EuCentral1="eu-central-1",Bt.EuWest1="eu-west-1",Bt.EuWest2="eu-west-2",Bt.EuWest3="eu-west-3",Bt.SaEast1="sa-east-1",Bt.UsEast1="us-east-1",Bt.UsWest1="us-west-1",Bt.UsWest2="us-west-2";var Ft=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class Vt{constructor(e,{headers:t={},customFetch:r,region:n=Ut.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Rt(async()=>{const{default:e}=await Promise.resolve().then(()=>rr);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Ft(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:s}=t;let i,o={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(o["x-region"]=l),s&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!=typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",i=s):"string"==typeof s?(o["Content-Type"]="text/plain",i=s):"undefined"!=typeof FormData&&s instanceof FormData?i=s:(o["Content-Type"]="application/json",i=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),n),body:i}).catch(e=>{throw new Lt(e)}),d=c.headers.get("x-relay-error");if(d&&"true"===d)throw new zt(c);if(!c.ok)throw new $t(c);let u,h=(null!==(r=c.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return u="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:u,error:null}}catch(n){return{data:null,error:n}}})}}var qt={},Wt={},Ht={},Gt={},Kt={},Xt={},Yt=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const Jt=Yt.fetch,Zt=Yt.fetch.bind(Yt),Qt=Yt.Headers,er=Yt.Request,tr=Yt.Response,rr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qt,Request:er,Response:tr,default:Zt,fetch:Jt},Symbol.toStringTag,{value:"Module"})),nr=xt(rr);var ar,sr,ir,or,lr,cr={};function dr(){if(ar)return cr;ar=1,Object.defineProperty(cr,"__esModule",{value:!0});class e extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return cr.default=e,cr}function ur(){if(sr)return Xt;sr=1;var e=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xt,"__esModule",{value:!0});const t=e(nr),r=e(dr());return Xt.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,a;let s=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,l=200,c="OK")}catch(d){404===e.status&&""===t?(l=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(a=null==s?void 0:s.details)||void 0===a?void 0:a.includes("0 rows"))&&(s=null,l=200,c="OK"),s&&this.shouldThrowOnError)throw new r.default(s)}return{error:s,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,r,n;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null==e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},Xt}function hr(){if(ir)return Kt;ir=1;var e=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});const t=e(ur());class r extends t.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Kt.default=r,Kt}function mr(){if(or)return Gt;or=1;var e=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gt,"__esModule",{value:!0});const t=e(hr());class r extends t.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}return Gt.default=r,Gt}function pr(){if(lr)return Ht;lr=1;var e=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ht,"__esModule",{value:!0});const t=e(mr());return Ht.default=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new t.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){const i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==r&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&i.push(this.headers.Prefer),a&&i.push(`count=${a}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new t.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new t.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new t.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}},Ht}var fr,gr,xr,yr,vr={},br={};function jr(){if(gr)return vr;gr=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.DEFAULT_HEADERS=void 0;const e=(fr||(fr=1,Object.defineProperty(br,"__esModule",{value:!0}),br.version=void 0,br.version="0.0.0-automated"),br);return vr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},vr}const wr=gt(function(){if(yr)return qt;yr=1;var e=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0}),qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const t=e(function(){if(xr)return Wt;xr=1;var e=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wt,"__esModule",{value:!0});const t=e(pr()),r=e(mr()),n=jr();class a{constructor(e,{headers:t={},schema:r,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new t.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:a=!1,count:s}={}){let i;const o=new URL(`${this.url}/rpc/${e}`);let l;n||a?(i=n?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(i="POST",l=t);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new r.default({method:i,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}return Wt.default=a,Wt}());qt.PostgrestClient=t.default;const r=e(pr());qt.PostgrestQueryBuilder=r.default;const n=e(mr());qt.PostgrestFilterBuilder=n.default;const a=e(hr());qt.PostgrestTransformBuilder=a.default;const s=e(ur());qt.PostgrestBuilder=s.default;const i=e(dr());return qt.PostgrestError=i.default,qt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:i.default},qt}()),{PostgrestClient:Nr,PostgrestQueryBuilder:_r,PostgrestFilterBuilder:Sr,PostgrestTransformBuilder:kr,PostgrestBuilder:Or,PostgrestError:Ar}=wr;const Cr=function(){if("undefined"!=typeof WebSocket)return WebSocket;if(void 0!==global.WebSocket)return global.WebSocket;if(void 0!==window.WebSocket)return window.WebSocket;if(void 0!==self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var Pr,Er,Tr,Ir,Mr,Rr,Dr,Lr,zr,$r,Ur;(Er=Pr||(Pr={}))[Er.connecting=0]="connecting",Er[Er.open=1]="open",Er[Er.closing=2]="closing",Er[Er.closed=3]="closed",(Ir=Tr||(Tr={})).closed="closed",Ir.errored="errored",Ir.joined="joined",Ir.joining="joining",Ir.leaving="leaving",(Rr=Mr||(Mr={})).close="phx_close",Rr.error="phx_error",Rr.join="phx_join",Rr.reply="phx_reply",Rr.leave="phx_leave",Rr.access_token="access_token",(Dr||(Dr={})).websocket="websocket",(zr=Lr||(Lr={})).Connecting="connecting",zr.Open="open",zr.Closing="closing",zr.Closed="closed";class Br{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=r.decode(e.slice(s,s+n));s+=n;const o=r.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class Fr{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(Ur=$r||($r={})).abstime="abstime",Ur.bool="bool",Ur.date="date",Ur.daterange="daterange",Ur.float4="float4",Ur.float8="float8",Ur.int2="int2",Ur.int4="int4",Ur.int4range="int4range",Ur.int8="int8",Ur.int8range="int8range",Ur.json="json",Ur.jsonb="jsonb",Ur.money="money",Ur.numeric="numeric",Ur.oid="oid",Ur.reltime="reltime",Ur.text="text",Ur.time="time",Ur.timestamp="timestamp",Ur.timestamptz="timestamptz",Ur.timetz="timetz",Ur.tsrange="tsrange",Ur.tstzrange="tstzrange";const Vr=(e,t,r={})=>{var n;const a=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((r,n)=>(r[n]=qr(n,e,t,a),r),{})},qr=(e,t,r,n)=>{const a=t.find(t=>t.name===e),s=null==a?void 0:a.type,i=r[e];return s&&!n.includes(s)?Wr(s,i):Hr(i)},Wr=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Yr(t,r)}switch(e){case $r.bool:return Gr(t);case $r.float4:case $r.float8:case $r.int2:case $r.int4:case $r.int8:case $r.numeric:case $r.oid:return Kr(t);case $r.json:case $r.jsonb:return Xr(t);case $r.timestamp:return Jr(t);case $r.abstime:case $r.date:case $r.daterange:case $r.int4range:case $r.int8range:case $r.money:case $r.reltime:case $r.text:case $r.time:case $r.timestamptz:case $r.timetz:case $r.tsrange:case $r.tstzrange:default:return Hr(t)}},Hr=e=>e,Gr=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kr=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Xr=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Yr=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const s=e.slice(1,r);try{n=JSON.parse("["+s+"]")}catch(a){n=s?s.split(","):[]}return n.map(e=>Wr(t,e))}return e},Jr=e=>"string"==typeof e?e.replace(" ","T"):e,Zr=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Qr{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var en,tn,rn,nn,an,sn,on,ln;(tn=en||(en={})).SYNC="sync",tn.JOIN="join",tn.LEAVE="leave";class cn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cn.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=cn.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=cn.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),s.length>0){const r=e[t].map(e=>e.presence_ref),n=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let a=e[t];if(!a)return;const s=r.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(nn=rn||(rn={})).ALL="*",nn.INSERT="INSERT",nn.UPDATE="UPDATE",nn.DELETE="DELETE",(sn=an||(an={})).BROADCAST="broadcast",sn.PRESENCE="presence",sn.POSTGRES_CHANGES="postgres_changes",sn.SYSTEM="system",(ln=on||(on={})).SUBSCRIBED="SUBSCRIBED",ln.TIMED_OUT="TIMED_OUT",ln.CLOSED="CLOSED",ln.CHANNEL_ERROR="CHANNEL_ERROR";class dn{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Qr(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new Fr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tr.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new cn(this),this.broadcastEndpointURL=Zr(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Tr.closed){const{config:{broadcast:a,presence:s,private:i}}=this.params;this._onError(t=>null==e?void 0:e(on.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(on.CLOSED));const o={},l={broadcast:a,presence:s,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],private:i};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0!==t){const n=this.bindings.postgres_changes,a=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=n[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,d=t&&t[r];if(!d||d.event!==i||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=Tr.errored,void(null==e||e(on.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:d.id}))}return this.bindings.postgres_changes=s,void(e&&e(on.SUBSCRIBED))}null==e||e(on.SUBSCRIBED)}).receive("error",t=>{this.state=Tr.errored,null==e||e(on.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(on.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Qr(this,Mr.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Qr(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Mr;if(r&&[i,o,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let d=this._onMessage(s,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(d,r)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var r,n,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:s}=e,i={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:s};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===Tr.closed}_isJoined(){return this.state===Tr.joined}_isJoining(){return this.state===Tr.joining}_isLeaving(){return this.state===Tr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&dn.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mr.close,{},e)}_onError(e){this._on(Mr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Vr(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Vr(e.columns,e.old_record)),t}}const un=()=>{};class hn{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=un,this.ref=0,this.logger=un,this.conn=null,this.sendBuffer=[],this.serializer=new Br,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Rt(async()=>{const{default:e}=await Promise.resolve().then(()=>rr);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${Dr.websocket}`,this.httpEndpoint=Zr(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),((null==t?void 0:t.logLevel)||(null==t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fr(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Cr),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return Lr.Connecting;case Pr.open:return Lr.Open;case Pr.closing:return Lr.Closing;default:return Lr.Closed}}isConnected(){return this.connectionState()===Lr.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new dn(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${a})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.11.15"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(Mr.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:n,ref:a}=e;"phoenix"===t&&"phx_reply"===r&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${a&&"("+a+")"||""}`,n),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mr.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class mn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pn(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class fn extends mn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gn extends mn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var xn=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const yn=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Rt(async()=>{const{default:e}=await Promise.resolve().then(()=>rr);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},vn=e=>{if(Array.isArray(e))return e.map(e=>vn(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const n=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[n]=vn(r)}),t};var bn=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const jn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wn=(e,t,r)=>bn(void 0,void 0,void 0,function*(){const n=yield xn(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Rt(()=>Promise.resolve().then(()=>rr),void 0)).Response:Response});e instanceof n&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{t(new fn(jn(r),e.status||500))}).catch(e=>{t(new gn(jn(e),e))}):t(new gn(jn(e),e))});function Nn(e,t,r,n,a,s){return bn(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))})(t,n,a,s)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>wn(e,o,n))})})}function _n(e,t,r,n){return bn(this,void 0,void 0,function*(){return Nn(e,"GET",t,r,n)})}function Sn(e,t,r,n,a){return bn(this,void 0,void 0,function*(){return Nn(e,"POST",t,n,a,r)})}function kn(e,t,r,n,a){return bn(this,void 0,void 0,function*(){return Nn(e,"DELETE",t,n,a,r)})}var On=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const An={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pn{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=yn(n)}uploadOrUpdate(e,t,r,n){return On(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Cn),n);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=r,i["cache-control"]=`max-age=${s.cacheControl}`,i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null==n?void 0:n.headers)&&(i=Object.assign(Object.assign({},i),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:a,headers:i},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{})),u=yield d.json();if(d.ok)return{data:{path:l,id:u.Id,fullPath:u.Key},error:null};return{data:null,error:u}}catch(a){if(pn(a))return{data:null,error:a};throw a}})}upload(e,t,r){return On(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return On(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+`/object/upload/sign/${s}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Cn.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);const o=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:s}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(pn(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return On(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield Sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new mn("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}})}update(e,t,r){return On(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return On(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(pn(n))return{data:null,error:n};throw n}})}copy(e,t,r){return On(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(pn(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return On(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield Sn(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(n){if(pn(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return On(this,void 0,void 0,function*(){try{const n=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null})),error:null}}catch(n){if(pn(n))return{data:null,error:n};throw n}})}download(e,t){return On(this,void 0,void 0,function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),a=n?`?${n}`:"";try{const t=this._getFinalPath(e),n=yield _n(this.fetch,`${this.url}/${r}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(s){if(pn(s))return{data:null,error:s};throw s}})}info(e){return On(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield _n(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:vn(e),error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}})}exists(e){return On(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return bn(this,void 0,void 0,function*(){return Nn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pn(r)&&r instanceof gn){const e=r.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&n.push(a);const s=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&n.push(i);let o=n.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}remove(e){return On(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(pn(t))return{data:null,error:t};throw t}})}list(e,t,r){return On(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},An),t),{prefix:e||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(pn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const En={"X-Client-Info":"storage-js/2.7.1"};var Tn=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class In{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},En),t),this.fetch=yn(r)}listBuckets(){return Tn(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pn(e))return{data:null,error:e};throw e}})}getBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(pn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Tn(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Tn(this,void 0,void 0,function*(){try{const r=yield function(e,t,r,n,a){return bn(this,void 0,void 0,function*(){return Nn(e,"PUT",t,n,a,r)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(pn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(pn(t))return{data:null,error:t};throw t}})}}class Mn extends In{constructor(e,t={},r){super(e,t,r)}from(e){return new Pn(this.url,this.headers,e,this.fetch)}}let Rn="";Rn="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Dn={headers:{"X-Client-Info":`supabase-js-${Rn}/2.50.2`}},Ln={schema:"public"},zn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$n={};var Un=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const Bn=(e,t,r)=>{const n=(e=>{let t;return t=e||("undefined"==typeof fetch?Zt:fetch),(...e)=>t(...e)})(r),a="undefined"==typeof Headers?Qt:Headers;return(r,s)=>Un(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),n(r,Object.assign(Object.assign({},s),{headers:l}))})};var Fn=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const Vn="2.70.0",qn=3e4,Wn=9e4,Hn={"X-Client-Info":`gotrue-js/${Vn}`},Gn="X-Supabase-Api-Version",Kn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Xn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Yn extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Jn(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Zn extends Yn{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Qn extends Yn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ea extends Yn{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class ta extends ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class ra extends ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class na extends ea{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class aa extends ea{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sa extends ea{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ia extends ea{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function oa(e){return Jn(e)&&"AuthRetryableFetchError"===e.name}class la extends ea{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class ca extends ea{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ua=" \t\n\r=".split(""),ha=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ua.length;t+=1)e[ua[t].charCodeAt(0)]=-2;for(let t=0;t<da.length;t+=1)e[da[t].charCodeAt(0)]=t;return e})();function ma(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(da[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(da[e]),t.queuedBits-=6}}function pa(e,t,r){const n=ha[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function fa(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let i=0;i<e.length;i+=1)pa(e.charCodeAt(i),a,s);return t.join("")}function ga(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function xa(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)pa(e.charCodeAt(a),r,n);return new Uint8Array(t)}function ya(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}ga(n,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function va(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>ma(e,r,n)),ma(null,r,n),t.join("")}const ba=()=>"undefined"!=typeof window&&"undefined"!=typeof document,ja={tested:!1,writable:!1},wa=()=>{if(!ba())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(ja.tested)return ja.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ja.tested=!0,ja.writable=!0}catch(t){ja.tested=!0,ja.writable=!1}return ja.writable};const Na=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Rt(async()=>{const{default:e}=await Promise.resolve().then(()=>rr);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},_a=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Sa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},ka=async(e,t)=>{await e.removeItem(t)};class Oa{constructor(){this.promise=new Oa.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Aa(e){const t=e.split(".");if(3!==t.length)throw new ca("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Xn.test(t[r]))throw new ca("JWT not in base64url format");return{header:JSON.parse(fa(t[0])),payload:JSON.parse(fa(t[1])),signature:xa(t[2]),raw:{header:t[0],payload:t[1]}}}function Ca(e){return("0"+e.toString(16)).substr(-2)}async function Pa(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ea(e,t,r=!1){const n=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Ca).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await _a(e,`${t}-code-verifier`,a);const s=await Pa(n);return[s,n===s?"plain":"s256"]}Oa.promiseConstructor=Promise;const Ta=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ia=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ma(e){if(!Ia.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}const Ra=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Da=[502,503,504];async function La(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new ia(Ra(e),0);if(Da.includes(e.status))throw new ia(Ra(e),e.status);let n,a;try{n=await e.json()}catch(i){throw new Qn(Ra(i),i)}const s=function(e){const t=e.headers.get(Gn);if(!t)return null;if(!t.match(Ta))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(i){return null}}(e);if(s&&s.getTime()>=Kn.timestamp&&"object"==typeof n&&n&&"string"==typeof n.code?a=n.code:"object"==typeof n&&n&&"string"==typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new la(Ra(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new ta}else if("object"==typeof n&&n&&"object"==typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new la(Ra(n),e.status,n.weak_password.reasons);throw new Zn(Ra(n),e.status||500,a)}async function za(e,t,r,n){var a;const s=Object.assign({},null==n?void 0:n.headers);s[Gn]||(s[Gn]=Kn.name),(null==n?void 0:n.jwt)&&(s.Authorization=`Bearer ${n.jwt}`);const i=null!==(a=null==n?void 0:n.query)&&void 0!==a?a:{};(null==n?void 0:n.redirectTo)&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,n,a,s){const i=((e,t,r,n)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw new ia(Ra(l),0)}o.ok||await La(o);if(null==n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(l){await La(l)}}(e,t,r+o,{headers:s,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function $a(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ua(e){const t=$a(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Ba(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Fa(e){return{data:e,error:null}}function Va(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function qa(e){return e}const Wa=["global","local","others"];class Ha{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Na(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Wa[0]){if(Wa.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wa.join(", ")}`);try{return await za(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await za(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ba})}catch(r){if(Jn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await za(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Va,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Jn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await za(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ba})}catch(t){if(Jn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await za(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:qa});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Jn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Ma(e);try{return await za(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ba})}catch(t){if(Jn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ma(e);try{return await za(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ba})}catch(r){if(Jn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Ma(e);try{return await za(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ba})}catch(r){if(Jn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ma(e.userId);try{const{data:t,error:r}=await za(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Jn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ma(e.userId),Ma(e.id);try{return{data:await za(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Jn(t))return{data:null,error:t};throw t}}}const Ga={getItem:e=>wa()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{wa()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{wa()&&globalThis.localStorage.removeItem(e)}};function Ka(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xa=!!(globalThis&&wa()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ya extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ja extends Ya{}async function Za(e,t,r){const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw new Ja(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xa)try{await globalThis.navigator.locks.query()}catch(a){}return await r()}try{return await r()}finally{}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Qa={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hn,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function es(e,t,r){return await r()}class ts{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ts.nextInstanceID,ts.nextInstanceID+=1,this.instanceID>0&&ba();const n=Object.assign(Object.assign({},Qa),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ha({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Na(n.fetch),this.lock=n.lock||es,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ba()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Za:this.lock=es,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:wa()?this.storage=Ga:(this.memoryStorage={},this.storage=Ka(this.memoryStorage)):(this.memoryStorage={},this.storage=Ka(this.memoryStorage)),ba()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vn}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(n){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),ba()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return Jn(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Jn(t)?{error:t}:{error:new Qn("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await za(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:$a}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Jn(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Ea(this.storage,this.storageKey)),a=await za(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:$a})}else{if(!("phone"in e))throw new na("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await za(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null==i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(n=null==i?void 0:i.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:$a})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Jn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await za(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Ua})}else{if(!("phone"in e))throw new na("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await za(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Ua})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new ra}}catch(t){if(Jn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,n,a,s,i,o,l,c,d,u,h;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:f,options:g}=e;let x;if(ba())if("object"==typeof h)x=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=h}const y=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in x&&"function"==typeof x.signMessage&&"publicKey"in x&&"object"==typeof x&&x.publicKey&&"toBase58"in x.publicKey&&"function"==typeof x.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${y.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!==(n=null===(r=null==g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()}`,...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(m),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await za(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:va(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:$a});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new ra}}catch(f){if(Jn(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await Sa(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{const{data:t,error:a}=await za(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$a});if(await ka(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new ra}}catch(a){if(Jn(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:s}=e,i=await za(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:$a}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new ra}}catch(t){if(Jn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,s;try{if("email"in e){const{email:n,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Ea(this.storage,this.storageKey));const{error:o}=await za(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null==a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await za(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null==r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(s=null==r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o}}throw new na("You must provide either an email or phone number.")}catch(i){if(Jn(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:i}=await za(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:$a});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(Jn(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await Ea(this.storage,this.storageKey)),await za(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Fa})}catch(a){if(Jn(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ta;const{error:n}=await za(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(Jn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:a}=e,{error:s}=await za(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:s,error:i}=await za(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:i}}throw new na("You must provide either an email or phone number and a type")}catch(t){if(Jn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Wn;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await za(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ba}):await this._useSession(async e=>{var t,r,n;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await za(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:Ba}):{data:{user:null},error:new ta}})}catch(t){if(Jn(t))return function(e){return Jn(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new ta;const s=n.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Ea(this.storage,this.storageKey));const{data:l,error:c}=await za(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:Ba});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Jn(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ta;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:s}=Aa(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Jn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new ta;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Jn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ba())throw new aa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new aa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new sa("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new aa("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new sa("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!(a&&i&&s&&l))throw new aa("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const{data:h,error:m}=await this._getUser(a);if(m)throw m;const p={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:d,expires_at:u,refresh_token:s,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(Jn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Sa(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return Jn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await Ea(this.storage,this.storageKey,!0));try{return await za(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Jn(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Jn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await za(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(n)throw n;return ba()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(r){if(Jn(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)throw s;return await za(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(Jn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await za(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$a})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&oa(t)&&Date.now()+r-a<qn},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await r(s);if(!n(s,null,t))return void e(t)}catch(a){if(!n(s,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),Jn(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ba()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Sa(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<Wn;if(this._debug(t,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(oa(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return void this._debug(t,"error",r)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ta;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Oa;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new ta;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),Jn(a)){const e={session:null,error:a};return oa(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(a){n.push(a)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _a(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ka(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ba()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qn);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Ya))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ba()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await Ea(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await za(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Jn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await za(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null==o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(Jn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:i}=await za(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(Jn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await za(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Jn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Aa(n.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>Date.now())return r;const{data:n,error:a}=await za(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!n.keys||0===n.keys.length)throw new ca("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(t=>t.kid===e),!r)throw new ca("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:s,raw:{header:i,payload:o}}=Aa(r);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:s},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),c=await this.fetchJwk(n.kid,t),d=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!(await crypto.subtle.verify(l,d,s,ya(`${i}.${o}`))))throw new ca("Invalid JWT signature");return{data:{claims:a,header:n,signature:s},error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}}}ts.nextInstanceID=0;const rs=ts;class ns extends rs{constructor(e){super(e)}}var as=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class ss{constructor(e,t,r){var n,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d=function(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(r=null==u?void 0:u.headers)&&void 0!==r?r:{}),null!==(n=null==o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:()=>Fn(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=r?r:{},{db:Ln,realtime:$n,auth:Object.assign(Object.assign({},zn),{storageKey:c}),global:Dn});this.storageKey=null!==(n=d.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=d.global.headers)&&void 0!==a?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=d.auth)&&void 0!==s?s:{},this.headers,d.global.fetch),this.fetch=Bn(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Nr(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Vt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Mn(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return as(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:a,flowType:s,lock:i,debug:o},l,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ns({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:s,lock:i,debug:o,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new hn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const is=((e,t,r)=>new ss(e,t,r))("https://woooqlznapzfhmjlyyll.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indvb29xbHpuYXB6Zmhtamx5eWxsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4OTYyNTUsImV4cCI6MjA2NTQ3MjI1NX0.Mdeir5LYY8IFzoEKl8hQoK9FW4WCM119MBeCKNTbHvY",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}}),os={async signIn(e,t){const{data:r,error:n}=await is.auth.signInWithPassword({email:e,password:t});if(n)throw n;return r},async signUp(e,t,r={}){var n;try{const{data:a,error:s}=await is.auth.signUp({email:e,password:t,options:{data:r}});if(s){if(s.message.includes("already exists")||s.message.includes("already registered")){const e=new Error("Este email já está cadastrado. Tente fazer login.");throw e.code="EMAIL_ALREADY_EXISTS",e}if(s.message.includes("Invalid email")){const e=new Error("Email inválido. Verifique o formato.");throw e.code="INVALID_EMAIL",e}throw s}if(null==(n=null==a?void 0:a.user)?void 0:n.id){(await cs(a.user.id,e,r.full_name||r.name||e.split("@")[0])).success}return a}catch(a){throw a}},async signOut(){const{error:e}=await is.auth.signOut();if(e)throw e},async getUser(){const{data:{user:e},error:t}=await is.auth.getUser();if(t)throw t;return e},async resetPassword(e){const{error:t}=await is.auth.resetPasswordForEmail(e);if(t)throw t},async updatePassword(e){const{error:t}=await is.auth.updateUser({password:e});if(t)throw t},async updateProfile(e){const{error:t}=await is.auth.updateUser({data:e});if(t)throw t}},ls={async getProfile(e){var t;if(!e)return null;const r=`profile_${e}`,n=sessionStorage.getItem(r);if(n)return JSON.parse(n);try{const{data:{user:n},error:a}=await is.auth.getUser();if(a)return null;if(!n||n.id!==e)return null;const s="digitalinfluenceradm@gmail.com"===n.email,i={id:n.id,email:n.email,full_name:(null==(t=n.user_metadata)?void 0:t.full_name)||n.email,role:s?"admin":"user",plan_id:s?"enterprise":"starter",tokens:s?1e4:100,created_at:n.created_at,last_sign_in_at:n.last_sign_in_at};return sessionStorage.setItem(r,JSON.stringify(i)),i}catch(a){return(a.message.includes("Failed to fetch")||a.message.includes("401"))&&sessionStorage.removeItem(r),null}},createProfile:async(e,t)=>({id:e,...t}),async updateProfile(e,t){const{data:r,error:n}=await is.from("profiles").update(t).eq("id",e).select().single();if(n)throw n;const a=`profile_${e}`;return sessionStorage.removeItem(a),r}},cs=async(e,t,r=null)=>{try{const{data:n,error:a}=await is.from("userprofile").select("id").eq("id",e).maybeSingle();if(a&&"PGRST116"!==a.code)throw a;if(n)return{success:!0,profile:n,message:"Profile already exists"};const s={id:e,email:t||"",display_name:r||t||"Usuário Vision",role:"user",plan_id:null,tokens:100,xp:0,level:1,streak:0,total_interactions:0,last_login:(new Date).toISOString(),created_date:(new Date).toISOString()},{data:i,error:o}=await is.from("userprofile").insert(s).select().single();if(o)throw o;return{success:!0,profile:i,message:"Profile created successfully"}}catch(n){return{success:!1,error:n.message,message:"Failed to create profile"}}},ds={levels:[{level:1,xpRequired:0,title:"Iniciante",icon:"🌟",tokens:10},{level:2,xpRequired:100,title:"Explorer",icon:"🚀",tokens:25},{level:3,xpRequired:300,title:"Pioneiro",icon:"⚡",tokens:50},{level:4,xpRequired:600,title:"Especialista",icon:"🎯",tokens:75},{level:5,xpRequired:1e3,title:"Mestre",icon:"👑",tokens:100},{level:6,xpRequired:1500,title:"Lenda",icon:"🏆",tokens:150},{level:7,xpRequired:2200,title:"Vision Master",icon:"🌊",tokens:200},{level:8,xpRequired:3e3,title:"Supremo",icon:"💎",tokens:300},{level:9,xpRequired:4e3,title:"Transcendente",icon:"🔮",tokens:500},{level:10,xpRequired:5500,title:"Divino",icon:"✨",tokens:1e3}],calculateLevel:e=>{for(let t=ds.levels.length-1;t>=0;t--)if(e>=ds.levels[t].xpRequired)return ds.levels[t];return ds.levels[0]},getProgressToNext:e=>{const t=ds.calculateLevel(e),r=ds.levels.findIndex(e=>e.level===t.level);if(r===ds.levels.length-1)return{progress:100,needed:0,nextLevel:null};const n=ds.levels[r+1],a=t.xpRequired,s=n.xpRequired,i=(e-a)/(s-a)*100;return{progress:Math.min(i,100),needed:Math.max(0,s-e),nextLevel:n}}},us=[{title:"Primeira Conversa",description:"Tenha sua primeira conversa com o Vision",type:"use_vision",goal:1,xp_reward:50,token_reward:5,badge_reward_id:"first_chat",category:"iniciante"},{title:"Criador de Rotinas",description:"Crie sua primeira rotina automatizada",type:"create_routine",goal:1,xp_reward:100,token_reward:10,badge_reward_id:"routine_creator",category:"automacao"},{title:"Mestre dos Agentes",description:"Configure 3 agentes diferentes",type:"create_agent",goal:3,xp_reward:150,token_reward:15,badge_reward_id:"agent_master",category:"agentes"},{title:"Perfil Completo",description:"Complete todas as informações do seu perfil",type:"complete_profile",goal:1,xp_reward:75,token_reward:8,badge_reward_id:"profile_complete",category:"perfil"},{title:"Conversador Ativo",description:"Tenha 10 conversas com o Vision",type:"use_vision",goal:10,xp_reward:200,token_reward:20,badge_reward_id:"active_user",category:"engajamento"},{title:"Sequência de 7 Dias",description:"Use o sistema por 7 dias consecutivos",type:"daily_streak",goal:7,xp_reward:300,token_reward:30,badge_reward_id:"week_streak",category:"consistencia"},{title:"Integrador",description:"Configure 2 integrações diferentes",type:"setup_integration",goal:2,xp_reward:250,token_reward:25,badge_reward_id:"integrator",category:"integracao"}],hs=[{id:"first_chat",name:"Primeira Conversa",description:"Teve a primeira conversa com o Vision",icon:"💬",color:"bronze",rarity:"comum"},{id:"routine_creator",name:"Criador de Rotinas",description:"Criou sua primeira rotina",icon:"⚡",color:"silver",rarity:"incomum"},{id:"agent_master",name:"Mestre dos Agentes",description:"Configurou múltiplos agentes",icon:"👑",color:"gold",rarity:"raro"},{id:"profile_complete",name:"Perfil Completo",description:"Completou todas as informações do perfil",icon:"👤",color:"bronze",rarity:"comum"},{id:"active_user",name:"Usuário Ativo",description:"Usuário muito ativo na plataforma",icon:"⭐",color:"gold",rarity:"raro"},{id:"week_streak",name:"Semana Consistente",description:"Usou o sistema por 7 dias seguidos",icon:"🔥",color:"purple",rarity:"epico"},{id:"integrator",name:"Integrador",description:"Configurou múltiplas integrações",icon:"🔗",color:"blue",rarity:"incomum"}];class ms{static async getUserProgress(e){try{const{data:t,error:r}=await is.from("userprofile").select("*").eq("id",e).maybeSingle();if(r)return this.getDefaultUserProgress(e);if(!t){const t=this.createUserProfileAttempts.get(e)||0;if(t>=this.MAX_CREATE_ATTEMPTS)return this.getDefaultUserProgress(e);this.createUserProfileAttempts.set(e,t+1);const r=await this.createUserProfile(e);return r?(this.createUserProfileAttempts.delete(e),this.formatUserProgress(r)):this.getDefaultUserProgress(e)}return this.formatUserProgress(t)}catch(t){return this.getDefaultUserProgress(e)}}static formatUserProgress(e){const t=ds.calculateLevel(e.xp||0),r=ds.getProgressToNext(e.xp||0);return{...e,currentLevel:t,progressToNext:r,completedMissions:e.completed_mission_ids||[],earnedBadges:e.earned_badge_ids||[],tokens:e.tokens||0}}static getDefaultUserProgress(e){return{id:e,xp:0,tokens:0,level:1,completed_mission_ids:[],earned_badge_ids:[],streak:0,total_interactions:0,weeklyProgress:0,weeklyGoal:50,currentLevel:ds.calculateLevel(0),progressToNext:ds.getProgressToNext(0),completedMissions:[],earnedBadges:[],full_name:"Usuário",email:""}}static async createUserProfile(e){var t,r,n,a;if(this.createUserProfileAttempts.has(e+"_creating"))return null;this.createUserProfileAttempts.set(e+"_creating",!0);try{let a="",i="";try{const{data:s}=await is.auth.getUser();(null==s?void 0:s.user)&&s.user.id===e&&(a=s.user.email||"",i=(null==(t=s.user.user_metadata)?void 0:t.full_name)||(null==(r=s.user.user_metadata)?void 0:r.name)||(null==(n=s.user.email)?void 0:n.split("@")[0])||"Usuário Vision")}catch(s){a="",i="Usuário Vision"}if(this.createUserProfileAttempts.has(e)){const t=this.createUserProfileAttempts.get(e);if(t.attempts>=this.MAX_CREATE_ATTEMPTS)return null;t.attempts++}else this.createUserProfileAttempts.set(e,{attempts:1});const o={id:e,email:a,display_name:i,full_name:i,role:"user",plan_id:null,tokens:100,xp:0,level:1,completed_mission_ids:[],earned_badge_ids:[],streak:0,daily_login_streak:0,total_interactions:0,last_login:(new Date).toISOString(),created_date:(new Date).toISOString(),created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{data:l,error:c}=await is.from("userprofile").insert([o]).select().single();if(c){const t={id:e,email:a||`user${e.substring(0,8)}@autvision.ai`,display_name:i||"Usuário Vision",full_name:i||"Usuário Vision"},{data:r,error:n}=await is.from("userprofile").insert([t]).select().single();if(n){const{data:t,error:r}=await is.from("userprofile").insert([{id:e}]).select().single();return r?{id:e,email:a||`user${e.substring(0,8)}@autvision.ai`,display_name:i||"Usuário Vision",full_name:i||"Usuário Vision",role:"user",plan_id:1,tokens:1e3,xp:0,level:1,completed_mission_ids:[],earned_badge_ids:[],streak:0,daily_login_streak:0,total_interactions:0,last_login:(new Date).toISOString(),created_date:(new Date).toISOString(),created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}:this.populateDefaultValues(t)}return this.populateDefaultValues(r)}return setTimeout(()=>{this.initializeUserMissions(e).catch(e=>{})},1e3),l}catch(i){return"42501"===(null==i?void 0:i.code)||(null==(a=null==i?void 0:i.message)?void 0:a.includes("403"))||403===(null==i?void 0:i.status)?null:this.getDefaultUserProgress(e)}finally{this.createUserProfileAttempts.delete(e+"_creating")}}static populateDefaultValues(e){return{...e,email:e.email||"",display_name:e.display_name||e.full_name||"Usuário Vision",role:e.role||"user",plan_id:e.plan_id||null,tokens:e.tokens||100,xp:e.xp||0,level:e.level||1,completed_mission_ids:e.completed_mission_ids||[],earned_badge_ids:e.earned_badge_ids||[],streak:e.streak||e.daily_login_streak||0,total_interactions:e.total_interactions||0,last_login:e.last_login||(new Date).toISOString(),created_date:e.created_date||e.created_at||(new Date).toISOString()}}static async initializeUserMissions(e){try{const t=us.filter(e=>"iniciante"===e.category);for(const r of t)await is.from("user_missions").insert({user_id:e,mission_id:r.id||r.title.toLowerCase().replace(/\s+/g,"_"),progress:0,completed:!1,created_at:(new Date).toISOString()})}catch(t){}}static async addXpAndTokens(e,t,r=0,n=""){try{const{data:n,error:a}=await is.from("userprofile").select("xp, tokens, level").eq("id",e).single();if(a)throw a;const s=(n.xp||0)+t,i=(n.tokens||0)+r,o=ds.calculateLevel(s),l=ds.calculateLevel(n.xp||0),{error:c}=await is.from("userprofile").update({xp:s,tokens:i,level:o.level,updated_at:(new Date).toISOString()}).eq("id",e);if(c)throw c;return o.level>l.level&&await this.addXpAndTokens(e,0,o.tokens,`Recompensa por atingir nível ${o.level}`),{newXp:s,newTokens:i,levelUp:o.level>l.level,newLevel:o}}catch(a){return null}}static async completeMission(e,t){try{const{data:r,error:n}=await is.from("userprofile").select("completed_mission_ids").eq("id",e).single();if(n)throw n;const a=r.completed_mission_ids||[];if(a.includes(t))return{success:!1,message:"Missão já completada"};const{data:s,error:i}=await is.from("missions").select("*").eq("id",t).single();if(i)throw i;const o=[...a,t],{error:l}=await is.from("userprofile").update({completed_mission_ids:o,updated_at:(new Date).toISOString()}).eq("id",e);if(l)throw l;return await this.addXpAndTokens(e,s.xp_reward||0,s.token_reward||0,`Missão completada: ${s.title}`),s.badge_reward_id&&await this.awardBadge(e,s.badge_reward_id),{success:!0,mission:s,rewards:{xp:s.xp_reward,tokens:s.token_reward}}}catch(r){return{success:!1,error:r}}}static async awardBadge(e,t){try{const{data:r,error:n}=await is.from("userprofile").select("earned_badge_ids").eq("id",e).single();if(n)throw n;const a=r.earned_badge_ids||[];if(a.includes(t))return{success:!1,message:"Badge já conquistado"};const s=[...a,t],{error:i}=await is.from("userprofile").update({earned_badge_ids:s,updated_at:(new Date).toISOString()}).eq("id",e);if(i)throw i;return{success:!0,badgeId:t}}catch(r){return{success:!1,error:r}}}static async getGlobalStats(){try{const{data:e,error:t}=await is.from("userprofile").select("xp, tokens, level, completed_mission_ids, earned_badge_ids, created_at");if(t)throw t;return{totalUsers:e.length,activeUsers:e.filter(e=>(e.xp||0)>0).length,averageXp:e.length>0?Math.round(e.reduce((e,t)=>e+(t.xp||0),0)/e.length):0,totalXpDistributed:e.reduce((e,t)=>e+(t.xp||0),0),totalTokensDistributed:e.reduce((e,t)=>e+(t.tokens||0),0),missionCompletions:e.reduce((e,t)=>{var r;return e+((null==(r=t.completed_mission_ids)?void 0:r.length)||0)},0),badgeEarnings:e.reduce((e,t)=>{var r;return e+((null==(r=t.earned_badge_ids)?void 0:r.length)||0)},0),topUsers:e.sort((e,t)=>(t.xp||0)-(e.xp||0)).slice(0,10).map(e=>({...e,currentLevel:ds.calculateLevel(e.xp||0)}))}}catch(e){return null}}static async initializeDefaults(){try{const{data:e}=await is.from("missions").select("id").limit(1);if(!e||0===e.length){const{error:e}=await is.from("missions").insert(us);if(e)throw e}const{data:t}=await is.from("badges").select("id").limit(1);if(!t||0===t.length){const{error:e}=await is.from("badges").insert(hs);if(e)throw e}return{success:!0}}catch(e){return{success:!1,error:e}}}static async getUserRanking(e=50){try{const{data:t,error:r}=await is.from("userprofile").select("id, email, full_name, xp, level, tokens, earned_badge_ids").order("xp",{ascending:!1}).limit(e);if(r)throw r;return t.map((e,t)=>{var r;return{...e,rank:t+1,currentLevel:ds.calculateLevel(e.xp||0),badgeCount:(null==(r=e.earned_badge_ids)?void 0:r.length)||0}})}catch(t){return[]}}static async spendTokens(e,t,r=""){try{const{data:r,error:n}=await is.from("userprofile").select("tokens").eq("id",e).single();if(n)throw n;const a=r.tokens||0;if(a<t)return{success:!1,message:"Tokens insuficientes"};const s=a-t,{error:i}=await is.from("userprofile").update({tokens:s,updated_at:(new Date).toISOString()}).eq("id",e);if(i)throw i;return{success:!0,newTokens:s}}catch(n){return{success:!1,error:n}}}}t(ms,"createUserProfileAttempts",new Map),t(ms,"MAX_CREATE_ATTEMPTS",3);const ps=at.createContext({}),fs=()=>{const e=at.useContext(ps);if(!e)throw new Error("useAuth deve ser usado dentro de AuthProvider");return e},gs=({children:e})=>{const[t,n]=at.useState(null),[a,s]=at.useState(null),[i,o]=at.useState(null),[l,c]=at.useState(!1),[d,u]=at.useState(!0),[h,m]=at.useState(null);at.useEffect(()=>{let e=!0;const t=setTimeout(()=>{e&&u(!1)},500),r=setTimeout(()=>{e&&u(!1)},1e3);(async()=>{var a;try{const{data:{session:e}}=await is.auth.getSession();if(e){o(e),n(e.user);try{await new Promise(e=>setTimeout(e,50));let t=await ls.getProfile(e.user.id);if(!t){const r="digitalinfluenceradm@gmail.com"===e.user.email,n=r?"admin":"user",s=r?"enterprise":"starter",i=r?1e4:100;t={id:e.user.id,email:e.user.email,full_name:(null==(a=e.user.user_metadata)?void 0:a.full_name)||e.user.email,role:n,plan_id:s,tokens:i,created_at:(new Date).toISOString()}}s(t);try{await ms.getUserProgress(e.user.id)}catch(i){}}catch(i){const t="digitalinfluenceradm@gmail.com"===e.user.email,r={id:e.user.id,email:e.user.email,full_name:e.user.email,role:t?"admin":"user",plan_id:t?"enterprise":"starter",tokens:t?1e4:100};s(r)}u(!1)}}catch(i){m(i.message)}finally{e&&(clearTimeout(t),clearTimeout(r),u(!1))}})();const{data:{subscription:a}}=is.auth.onAuthStateChange(async(a,i)=>{var l;if(e){if(clearTimeout(t),clearTimeout(r),o(i),n((null==i?void 0:i.user)??null),m(null),null==i?void 0:i.user)try{const t="digitalinfluenceradm@gmail.com"===i.user.email,r={id:i.user.id,email:i.user.email,full_name:(null==(l=i.user.user_metadata)?void 0:l.full_name)||i.user.email,role:t?"admin":"user",plan_id:t?"enterprise":"starter",tokens:t?1e4:100,created_at:(new Date).toISOString()};e&&(s(r),u(!1)),setTimeout(()=>{e&&ls.getProfile(i.user.id).then(t=>{t&&e&&s(t);try{ms.getUserProgress(i.user.id).then(e=>{}).catch(e=>{})}catch(r){}}).catch(e=>{e.message&&(e.message.includes("500")||e.message.includes("RLS"));try{ms.getUserProgress(i.user.id).then(e=>{}).catch(e=>{})}catch(t){}})},500)}catch(c){if(e){const e={id:i.user.id,email:i.user.email,full_name:i.user.email,role:"user",plan_id:"starter",tokens:100};s(e),u(!1)}}else e&&(s(null),u(!1));e&&u(!1)}});return()=>{e=!1,clearTimeout(t),clearTimeout(r),a.unsubscribe()}},[]);const p=!!t,f=()=>{if(d)return!1;const e="admin"===(null==a?void 0:a.role),r="digitalinfluenceradm@gmail.com"===(null==t?void 0:t.email);return e||r},g=!!(null==a?void 0:a.plan_id),x=(null==a?void 0:a.tokens)||0,y={user:t,profile:a,session:i,loading:l,initializing:d,error:h,isAuthenticated:p,isAdmin:f,hasValidPlan:g,userTokens:x,signIn:async(e,t)=>{try{c(!0),m(null);const r=await os.signIn(e,t);return r.user,r}catch(r){if(r.message.includes("Invalid API key")||r.message.includes("Unauthorized")){const t={id:"mock-user-"+Date.now(),email:e,user_metadata:{full_name:e.split("@")[0]}},r={user:t,access_token:"mock-token-"+Date.now()};n(t),o(r);const a="digitalinfluenceradm@gmail.com"===e,i={id:t.id,email:e,full_name:t.user_metadata.full_name,role:a?"admin":"user",plan_id:a?"enterprise":"starter",tokens:a?1e4:100,created_at:(new Date).toISOString()};return s(i),c(!1),u(!1),{user:t,session:r}}throw m(r.message),c(!1),r}},signUp:async(e,t,r={})=>{try{c(!0),m(null);const n=await os.signUp(e,t,r);if(n.error){let e=n.error.message;throw n.error.message.includes("already exists")||n.error.message.includes("already registered")?e="Este email já está cadastrado. Tente fazer login.":n.error.message.includes("invalid email")?e="Email inválido. Verifique o formato.":n.error.message.includes("Password should be")?e="A senha deve ter pelo menos 6 caracteres.":n.error.message.includes("rate limit")?e="Muitas tentativas. Aguarde alguns minutos e tente novamente.":n.error.message.includes("Database error")||n.error.message.includes("saving new user")?e="Erro na criação da conta. Nossa equipe foi notificada. Tente novamente em alguns minutos.":(n.error.message.includes("500")||n.error.message.includes("Internal Server Error"))&&(e="Erro interno do servidor. Tente novamente em alguns minutos."),m(e),new Error(e)}if(n.user)return n.session?n:{...n,needsConfirmation:!0,message:"Cadastro realizado! Verifique seu email para confirmar a conta."};const a="Erro inesperado no cadastro. Tente novamente.";throw m(a),new Error(a)}catch(n){if(n.message.includes("500")||n.message.includes("Internal Server Error")){const e="Erro interno do servidor. Entre em contato com o suporte.";throw m(e),new Error(e)}const e=n.message||"Erro desconhecido no cadastro";throw m(e),n}finally{c(!1)}},signInWithGoogle:async()=>{try{c(!0),m(null);const e=await os.signInWithGoogle();return e.user,e}catch(e){throw m(e.message),c(!1),e}},signInWithGitHub:async()=>{try{c(!0),m(null);const e=await os.signInWithGitHub();return e.user,e}catch(e){throw m(e.message),c(!1),e}},signOut:async()=>{try{c(!0),n(null),s(null),o(null),m(null),u(!1);const e=[];for(let r=0;r<localStorage.length;r++){const t=localStorage.key(r);t&&e.push(t)}const t=[];for(let r=0;r<sessionStorage.length;r++){const e=sessionStorage.key(r);e&&t.push(e)}e.forEach(e=>{(e.includes("supabase")||e.includes("auth")||e.includes("sb-")||e.includes("user")||e.includes("token")||e.includes("session"))&&localStorage.removeItem(e)}),t.forEach(e=>{(e.includes("supabase")||e.includes("auth")||e.includes("sb-")||e.includes("user")||e.includes("token")||e.includes("session"))&&sessionStorage.removeItem(e)}),document.cookie.split(";").forEach(e=>{const t=e.indexOf("="),r=t>-1?e.substr(0,t).trim():e.trim();(r.includes("supabase")||r.includes("sb-")||r.includes("auth"))&&(document.cookie=`${r}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`)}),await os.signOut(),setTimeout(()=>{n(null),s(null),o(null),m(null),u(!1)},100),setTimeout(()=>{window.location.href=window.location.origin},200)}catch(e){m(e.message),n(null),s(null),o(null),m(null),u(!1);try{localStorage.clear(),sessionStorage.clear()}catch(t){}throw setTimeout(()=>{window.location.href=window.location.origin},500),e}finally{c(!1)}},resetPassword:async e=>{try{c(!0),m(null),await os.resetPassword(e)}catch(t){throw m(t.message),t}finally{c(!1)}},updateProfile:async e=>{try{if(c(!0),m(null),t){const r=await ls.updateProfile(t.id,e);return s(r),r}}catch(r){throw m(r.message),r}finally{c(!1)}},canAccessFeature:e=>{if(!a)return!1;const t=a.plan_id;if(f())return!0;const r={starter:["basic_chat","simple_automation"],pro:["basic_chat","simple_automation","advanced_automation","integrations"],enterprise:["*"]}[t]||[];return r.includes("*")||r.includes(e)},getDefaultRoute:()=>{if(!p)return"/Login";const e="digitalinfluenceradm@gmail.com"===(null==t?void 0:t.email),r=!d&&f();return e||r?"/Admin":"/client"},clearError:()=>m(null),clearAuthState:()=>{n(null),s(null),o(null),m(null),c(!1),u(!1);try{localStorage.clear(),sessionStorage.clear()}catch(e){}document.cookie.split(";").forEach(e=>{const t=e.indexOf("="),r=t>-1?e.substr(0,t).trim():e.trim();(r.includes("supabase")||r.includes("sb-")||r.includes("auth"))&&(document.cookie=`${r}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`)})},forceStopLoading:()=>{c(!1)}};return r.jsx(ps.Provider,{value:y,children:e})};gs.propTypes={children:It.node.isRequired};const xs=e=>{const t=js(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),ys(r,t)||bs(e)},getConflictingClassGroupIds:(e,t)=>{const a=r[e]||[];return t&&n[e]?[...a,...n[e]]:a}}},ys=(e,t)=>{var r;if(0===e.length)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),s=a?ys(e.slice(1),a):void 0;if(s)return s;if(0===t.validators.length)return;const i=e.join("-");return null==(r=t.validators.find(({validator:e})=>e(i)))?void 0:r.classGroupId},vs=/^\[(.+)\]$/,bs=e=>{if(vs.test(e)){const t=vs.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},js=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)ws(r[a],n,a,t);return n},ws=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:Ns(t,e)).classGroupId=r)}if("function"==typeof e)return _s(e)?void ws(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(([e,a])=>{ws(a,Ns(t,e),r,n)})})},Ns=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},_s=e=>e.isThemeGetter,Ss=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(a(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):a(e,t)}}},ks=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=e=>{const t=[];let r,n=0,a=0,s=0;for(let l=0;l<e.length;l++){let i=e[l];if(0===n&&0===a){if(":"===i){t.push(e.slice(s,l)),s=l+1;continue}if("/"===i){r=l;continue}}"["===i?n++:"]"===i?n--:"("===i?a++:")"===i&&a--}const i=0===t.length?e:e.substring(s),o=Os(i);return{modifiers:t,hasImportantModifier:o!==i,baseClassName:o,maybePostfixModifierPosition:r&&r>s?r-s:void 0}};if(t){const e=t+":",r=n;n=t=>t.startsWith(e)?r(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(r){const e=n;n=t=>r({className:t,parseClassName:e})}return n},Os=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,As=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(e=>{"["===e[0]||t[e]?(r.push(...n.sort(),e),n=[]):n.push(e)}),r.push(...n.sort()),r}},Cs=/\s+/;function Ps(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Es(e))&&(n&&(n+=" "),n+=t);return n}const Es=e=>{if("string"==typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Es(e[n]))&&(r&&(r+=" "),r+=t);return r};function Ts(e,...t){let r,n,a,s=function(o){const l=t.reduce((e,t)=>t(e),e());return r=(e=>({cache:Ss(e.cacheSize),parseClassName:ks(e),sortModifiers:As(e),...xs(e)}))(l),n=r.cache.get,a=r.cache.set,s=i,i(o)};function i(e){const t=n(e);if(t)return t;const s=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,i=[],o=e.trim().split(Cs);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:m}=r(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!m,f=n(p?h.substring(0,m):h);if(!f){if(!p){l=e+(l.length>0?" "+l:l);continue}if(f=n(h),!f){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=s(d).join(":"),x=u?g+"!":g,y=x+f;if(i.includes(y))continue;i.push(y);const v=a(f,p);for(let r=0;r<v.length;++r){const e=v[r];i.push(x+e)}l=e+(l.length>0?" "+l:l)}return l})(e,r);return a(e,s),s}return function(){return s(Ps.apply(null,arguments))}}const Is=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ms=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Rs=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ds=/^\d+\/\d+$/,Ls=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zs=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$s=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Us=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bs=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fs=e=>Ds.test(e),Vs=e=>!!e&&!Number.isNaN(Number(e)),qs=e=>!!e&&Number.isInteger(Number(e)),Ws=e=>e.endsWith("%")&&Vs(e.slice(0,-1)),Hs=e=>Ls.test(e),Gs=()=>!0,Ks=e=>zs.test(e)&&!$s.test(e),Xs=()=>!1,Ys=e=>Us.test(e),Js=e=>Bs.test(e),Zs=e=>!ei(e)&&!ii(e),Qs=e=>mi(e,xi,Xs),ei=e=>Ms.test(e),ti=e=>mi(e,yi,Ks),ri=e=>mi(e,vi,Vs),ni=e=>mi(e,fi,Xs),ai=e=>mi(e,gi,Js),si=e=>mi(e,ji,Ys),ii=e=>Rs.test(e),oi=e=>pi(e,yi),li=e=>pi(e,bi),ci=e=>pi(e,fi),di=e=>pi(e,xi),ui=e=>pi(e,gi),hi=e=>pi(e,ji,!0),mi=(e,t,r)=>{const n=Ms.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},pi=(e,t,r=!1)=>{const n=Rs.exec(e);return!!n&&(n[1]?t(n[1]):r)},fi=e=>"position"===e||"percentage"===e,gi=e=>"image"===e||"url"===e,xi=e=>"length"===e||"size"===e||"bg-size"===e,yi=e=>"length"===e,vi=e=>"number"===e,bi=e=>"family-name"===e,ji=e=>"shadow"===e,wi=Ts(()=>{const e=Is("color"),t=Is("font"),r=Is("text"),n=Is("font-weight"),a=Is("tracking"),s=Is("leading"),i=Is("breakpoint"),o=Is("container"),l=Is("spacing"),c=Is("radius"),d=Is("shadow"),u=Is("inset-shadow"),h=Is("text-shadow"),m=Is("drop-shadow"),p=Is("blur"),f=Is("perspective"),g=Is("aspect"),x=Is("ease"),y=Is("animate"),v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",ii,ei],b=()=>[ii,ei,l],j=()=>[Fs,"full","auto",...b()],w=()=>[qs,"none","subgrid",ii,ei],N=()=>["auto",{span:["full",qs,ii,ei]},qs,ii,ei],_=()=>[qs,"auto",ii,ei],S=()=>["auto","min","max","fr",ii,ei],k=()=>["auto",...b()],O=()=>[Fs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],A=()=>[e,ii,ei],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",ci,ni,{position:[ii,ei]}],P=()=>["auto","cover","contain",di,Qs,{size:[ii,ei]}],E=()=>[Ws,oi,ti],T=()=>["","none","full",c,ii,ei],I=()=>["",Vs,oi,ti],M=()=>[Vs,Ws,ci,ni],R=()=>["","none",p,ii,ei],D=()=>["none",Vs,ii,ei],L=()=>["none",Vs,ii,ei],z=()=>[Vs,ii,ei],$=()=>[Fs,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hs],breakpoint:[Hs],color:[Gs],container:[Hs],"drop-shadow":[Hs],ease:["in","out","in-out"],font:[Zs],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hs],shadow:[Hs],spacing:["px",Vs],text:[Hs],"text-shadow":[Hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fs,ei,ii,g]}],container:["container"],columns:[{columns:[Vs,ei,ii,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[qs,"auto",ii,ei]}],basis:[{basis:[Fs,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vs,Fs,"auto","initial","none",ei]}],grow:[{grow:["",Vs,ii,ei]}],shrink:[{shrink:["",Vs,ii,ei]}],order:[{order:[qs,"first","last","none",ii,ei]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[o,"screen",...O()]}],"min-w":[{"min-w":[o,"screen","none",...O()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",r,oi,ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ii,ri]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ws,ei]}],"font-family":[{font:[li,ei,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ii,ei]}],"line-clamp":[{"line-clamp":[Vs,"none",ii,ri]}],leading:[{leading:[s,...b()]}],"list-image":[{"list-image":["none",ii,ei]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ii,ei]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Vs,"from-font","auto",ii,ti]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[Vs,"auto",ii,ei]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ii,ei]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ii,ei]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:C()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qs,ii,ei],radial:["",ii,ei],conic:[qs,ii,ei]},ui,ai]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:E()}],"gradient-via-pos":[{via:E()}],"gradient-to-pos":[{to:E()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:I()}],"border-w-x":[{"border-x":I()}],"border-w-y":[{"border-y":I()}],"border-w-s":[{"border-s":I()}],"border-w-e":[{"border-e":I()}],"border-w-t":[{"border-t":I()}],"border-w-r":[{"border-r":I()}],"border-w-b":[{"border-b":I()}],"border-w-l":[{"border-l":I()}],"divide-x":[{"divide-x":I()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":I()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Vs,ii,ei]}],"outline-w":[{outline:["",Vs,oi,ti]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",d,hi,si]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",u,hi,si]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[Vs,ti]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":I()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,hi,si]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[Vs,ii,ei]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Vs]}],"mask-image-linear-from-pos":[{"mask-linear-from":M()}],"mask-image-linear-to-pos":[{"mask-linear-to":M()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":M()}],"mask-image-t-to-pos":[{"mask-t-to":M()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":M()}],"mask-image-r-to-pos":[{"mask-r-to":M()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":M()}],"mask-image-b-to-pos":[{"mask-b-to":M()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":M()}],"mask-image-l-to-pos":[{"mask-l-to":M()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":M()}],"mask-image-x-to-pos":[{"mask-x-to":M()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":M()}],"mask-image-y-to-pos":[{"mask-y-to":M()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[ii,ei]}],"mask-image-radial-from-pos":[{"mask-radial-from":M()}],"mask-image-radial-to-pos":[{"mask-radial-to":M()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Vs]}],"mask-image-conic-from-pos":[{"mask-conic-from":M()}],"mask-image-conic-to-pos":[{"mask-conic-to":M()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:C()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ii,ei]}],filter:[{filter:["","none",ii,ei]}],blur:[{blur:R()}],brightness:[{brightness:[Vs,ii,ei]}],contrast:[{contrast:[Vs,ii,ei]}],"drop-shadow":[{"drop-shadow":["","none",m,hi,si]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",Vs,ii,ei]}],"hue-rotate":[{"hue-rotate":[Vs,ii,ei]}],invert:[{invert:["",Vs,ii,ei]}],saturate:[{saturate:[Vs,ii,ei]}],sepia:[{sepia:["",Vs,ii,ei]}],"backdrop-filter":[{"backdrop-filter":["","none",ii,ei]}],"backdrop-blur":[{"backdrop-blur":R()}],"backdrop-brightness":[{"backdrop-brightness":[Vs,ii,ei]}],"backdrop-contrast":[{"backdrop-contrast":[Vs,ii,ei]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vs,ii,ei]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vs,ii,ei]}],"backdrop-invert":[{"backdrop-invert":["",Vs,ii,ei]}],"backdrop-opacity":[{"backdrop-opacity":[Vs,ii,ei]}],"backdrop-saturate":[{"backdrop-saturate":[Vs,ii,ei]}],"backdrop-sepia":[{"backdrop-sepia":["",Vs,ii,ei]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ii,ei]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vs,"initial",ii,ei]}],ease:[{ease:["linear","initial",x,ii,ei]}],delay:[{delay:[Vs,ii,ei]}],animate:[{animate:["none",y,ii,ei]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,ii,ei]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:z()}],"skew-x":[{"skew-x":z()}],"skew-y":[{"skew-y":z()}],transform:[{transform:[ii,ei,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$()}],"translate-x":[{"translate-x":$()}],"translate-y":[{"translate-y":$()}],"translate-z":[{"translate-z":$()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ii,ei]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ii,ei]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[Vs,oi,ti,ri]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function Ni(...e){return wi(vt(e))}const _i=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ni("rounded-xl border bg-card text-card-foreground shadow",e),...t}));_i.displayName="Card";const Si=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ni("flex flex-col space-y-1.5 p-6",e),...t}));Si.displayName="CardHeader";const ki=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ni("font-semibold leading-none tracking-tight",e),...t}));ki.displayName="CardTitle";const Oi=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ni("text-sm text-muted-foreground",e),...t}));Oi.displayName="CardDescription";const Ai=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ni("p-6 pt-0",e),...t}));Ai.displayName="CardContent";const Ci=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ni("flex items-center p-6 pt-0",e),...t}));function Pi(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Ei(...e){return t=>{let r=!1;const n=e.map(e=>{const n=Pi(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():Pi(e[t],null)}}}}function Ti(...e){return at.useCallback(Ei(...e),e)}function Ii(e){const t=Ri(e),n=at.forwardRef((e,n)=>{const{children:a,...s}=e,i=at.Children.toArray(a),o=i.find(zi);if(o){const e=o.props.children,a=i.map(t=>t===o?at.Children.count(e)>1?at.Children.only(null):at.isValidElement(e)?e.props.children:null:t);return r.jsx(t,{...s,ref:n,children:at.isValidElement(e)?at.cloneElement(e,void 0,a):null})}return r.jsx(t,{...s,ref:n,children:a})});return n.displayName=`${e}.Slot`,n}Ci.displayName="CardFooter";var Mi=Ii("Slot");function Ri(e){const t=at.forwardRef((e,t)=>{const{children:r,...n}=e;if(at.isValidElement(r)){const e=function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),a=function(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...e)=>{const t=s(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...s}:"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==at.Fragment&&(a.ref=t?Ei(t,e):e),at.cloneElement(r,a)}return at.Children.count(r)>1?at.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Di=Symbol("radix.slottable");function Li(e){const t=({children:e})=>r.jsx(r.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=Di,t}function zi(e){return at.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Di}const $i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ui=vt,Bi=(e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return Ui(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(e=>{const t=null==r?void 0:r[e],n=null==s?void 0:s[e];if(null===t)return null;const i=$i(t)||$i(n);return a[e][i]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...o}[t]):{...s,...o}[t]===r})?[...e,r,n]:e},[]);return Ui(e,i,l,null==r?void 0:r.class,null==r?void 0:r.className)},Fi=Bi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Vi=at.forwardRef(({className:e,variant:t,size:n,asChild:a=!1,...s},i)=>{const o=a?Mi:"button";return r.jsx(o,{className:Ni(Fi({variant:t,size:n,className:e})),ref:i,...s})});Vi.displayName="Button";const qi=Bi("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wi({className:e,variant:t,...n}){return r.jsx("div",{className:Ni(qi({variant:t}),e),...n})}const Hi=at.forwardRef(({className:e,type:t,...n},a)=>r.jsx("input",{type:t,className:Ni("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));Hi.displayName="Input";const Gi=new Map,Ki=3e5,Xi=e=>!("get"!==e.method||e.url.includes("/auth")||e.url.includes("/realtime")||e.url.includes("/logs")||e.headers["no-cache"]),Yi=e=>`${e.method}:${e.url}:${JSON.stringify(e.params||{})}`,Ji=bt.create({baseURL:"https://autvisionai-backend-five.vercel.app".replace(/\/$/,""),timeout:3e4,headers:{"Content-Type":"application/json"}});Ji.interceptors.request.use(async e=>{(e.baseURL+e.url).replace(/([^:]\/)\/+/g,"$1");if(Xi(e)){const t=Yi(e),r=Gi.get(t);if(r&&Date.now()-r.timestamp<Ki)return Promise.reject({__cached:!0,data:r.data,status:200,statusText:"OK (cached)"})}e.headers["x-api-key"]="autvision_backend_secure_key_2025",e.data instanceof FormData&&delete e.headers["Content-Type"];try{const{data:{session:t}}=await is.auth.getSession();(null==t?void 0:t.access_token)&&(e.headers.Authorization=`Bearer ${t.access_token}`)}catch(t){}return e}),Ji.interceptors.response.use(e=>{const t=e.config;if(Xi(t)){const r=Yi(t);Gi.set(r,{data:e.data,timestamp:Date.now()})}return e},e=>{var t;return e.__cached?Promise.resolve({data:e.data,status:e.status,statusText:e.statusText,cached:!0}):(401===(null==(t=e.response)?void 0:t.status)?(localStorage.removeItem("autvision_auth_token"),window.location.href="/login"):"ERR_NETWORK"===e.code||e.code,Promise.reject(e))}),setInterval(()=>{const e=Date.now();for(const[t,r]of Gi.entries())e-r.timestamp>Ki&&Gi.delete(t)},12e4);const Zi=async({prompt:e,systemPrompt:t,context:r,response_json_schema:n})=>{var a,s,i,o,l;try{let i=t;n&&!(null==i?void 0:i.includes("JSON"))&&(i=`${t||"Você é um assistente útil."}\n\nIMPORTANTE: Responda APENAS com um JSON válido seguindo exatamente este schema:\n${JSON.stringify(n,null,2)}`);const o=await Ji.post("/llm/ask",{prompt:e,systemPrompt:i,context:{source:"vision-commander",timestamp:(new Date).toISOString(),environment:"production",...r}},{timeout:15e3,baseURL:"https://autvisionai-backend-five.vercel.app"});if(null==(a=o.data)?void 0:a.success){const e=o.data.data.response||o.data.data.content;if(n)try{const t=e.match(/\{[\s\S]*\}/);return t?JSON.parse(t[0]):JSON.parse(e)}catch(c){return{response:e,error:"Invalid JSON response"}}return{response:e,modelUsed:o.data.data.modelUsed||"IA",tokensUsed:o.data.data.tokensUsed||0}}throw new Error((null==(s=o.data)?void 0:s.error)||"Erro na resposta da LLM")}catch(d){if(404===(null==(i=d.response)?void 0:i.status)||"ECONNREFUSED"===d.code||"ECONNABORTED"===d.code||(null==(o=d.message)?void 0:o.includes("Network Error"))||(null==(l=d.message)?void 0:l.includes("timeout")))return function(e,t){if(t)return function(e){if("object"===e.type&&e.properties){const t={};return Object.keys(e.properties).forEach(r=>{const n=e.properties[r];"array"===n.type&&n.items?t[r]="insights"===r?[{type:"performance",message:"Sistema funcionando em modo de desenvolvimento. Backend será configurado em breve.",priority:"medium"},{type:"users",message:"Chat simulado ativo. Todas as funcionalidades estão sendo testadas.",priority:"low"},{type:"system",message:"Deploy para Vercel em preparação. Integração LLM real será ativada.",priority:"high"}]:["Item mock 1","Item mock 2"]:"string"===n.type?t[r]="response"===r?"Sistema AUTVISION operacional em modo de desenvolvimento. Preparando para deploy...":"action"===r?"mock_action":`Mock ${r}`:"boolean"===n.type?t[r]="execute"!==r:"number"===n.type&&(t[r]=Math.floor(100*Math.random()))}),t}return{response:"Mock response - sistema em desenvolvimento",success:!0}}(t);const r=e.toLowerCase();if(r.includes("analise")||r.includes("análise"))return{response:"Sistema AUTVISION funcionando perfeitamente em modo de desenvolvimento. Backend será conectado em breve. Todas as funcionalidades core estão operacionais.",modelUsed:"MockAI Dev",tokensUsed:50};if(r.includes("comando")||r.includes("executar"))return{response:"Comando processado com sucesso. Sistema em modo de desenvolvimento - todas as operações estão sendo simuladas.",modelUsed:"MockAI Command",tokensUsed:30};if(r.includes("chat")||r.includes("conversa")||r.includes("como")||r.includes("o que")||r.includes("qual")){const e=["Entendi sua pergunta! Como assistente da AUTVISION, posso ajudar você a automatizar tarefas, criar agentes inteligentes e otimizar seus processos. O que você gostaria de automatizar primeiro?","Ótima pergunta! A AUTVISION oferece criação de agentes personalizados, automação de rotinas e integração com diversas plataformas. Qual área do seu negócio você gostaria de otimizar?","Interessante! Posso ajudar você a configurar automações específicas para suas necessidades. Você tem algum processo repetitivo que gostaria de automatizar?","Perfeito! Com a AUTVISION você pode criar agentes para atendimento, análise de dados, gestão de redes sociais e muito mais. Qual tipo de agente seria mais útil para você?","Claro! Estou aqui para orientar você sobre as funcionalidades da plataforma. Você gostaria de saber sobre criação de agentes, automação de tarefas ou integração com outras ferramentas?","Excelente! A AUTVISION permite automatizar desde tarefas simples até processos complexos. Conte-me mais sobre o que você precisa automatizar.","Que bom que perguntou! Posso ajudar você a escolher os melhores agentes para suas necessidades específicas. Qual é o seu principal desafio atualmente?"];return{response:e[Math.floor(Math.random()*e.length)],modelUsed:"Vision AI",tokensUsed:45}}const n=["Olá! 👋 Sou o VISION, seu assistente inteligente na AUTVISION. Como posso ajudar você hoje? Posso orientar sobre criação de agentes, automação de processos ou integração de ferramentas.","Oi! Estou aqui para ajudar você a aproveitar ao máximo a plataforma AUTVISION. Você gostaria de saber sobre nossos agentes inteligentes ou como automatizar suas tarefas?","Seja bem-vindo! 🚀 Como assistente da AUTVISION, posso ajudar você a criar soluções de automação personalizadas. Qual é o seu objetivo principal?","Olá! Que bom ter você aqui na AUTVISION. Posso ajudar você a configurar agentes, automatizar rotinas ou integrar sistemas. O que você precisa?"];return{response:n[Math.floor(Math.random()*n.length)],modelUsed:"Vision AI",tokensUsed:35}}(e,n);throw d}};const Qi={vision:"/assets/images/vision/vision.PNG",visionImmersive:"/assets/images/vision/modoimersivo.PNG",visionCommander:"/assets/images/vision/vision.PNG",echo:"/assets/images/agents/agent-Echo.jpeg",guardian:"/assets/images/agents/agent-Guardian.jpeg",nova:"/assets/images/agents/agent-Nova.jpeg",social:"/assets/images/agents/agent-Social.jpeg",auto:"/assets/images/agents/agent-Auto.jpeg",ada:"/assets/images/agents/agent-ADA.jpeg",friend:"/assets/images/agents/agent-Friend.jpeg",ads:"/assets/images/agents/agent-Ads.jpeg"},eo={neutro:r.jsxs("g",{children:[r.jsx("ellipse",{cx:"32",cy:"30",rx:"8",ry:"12",fill:"#00FFFF",opacity:"1",children:r.jsx("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"3s",repeatCount:"indefinite"})}),r.jsx("ellipse",{cx:"68",cy:"30",rx:"8",ry:"12",fill:"#00FFFF",opacity:"1",children:r.jsx("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"3s",repeatCount:"indefinite"})}),r.jsx("path",{d:"M 35 58 Q 50 68 65 58",stroke:"#00FFFF",strokeWidth:"5",fill:"none",opacity:"0.9",strokeLinecap:"round"})]}),feliz:r.jsxs("g",{children:[r.jsx("path",{d:"M 24 20 Q 32 16 40 20",stroke:"#00FFFF",strokeWidth:"2.5",fill:"none",opacity:"0.9",strokeLinecap:"round"}),r.jsx("path",{d:"M 60 20 Q 68 16 76 20",stroke:"#00FFFF",strokeWidth:"2.5",fill:"none",opacity:"0.9",strokeLinecap:"round"}),r.jsx("ellipse",{cx:"32",cy:"30",rx:"9",ry:"14",fill:"#00FFFF",opacity:"1",children:r.jsx("animate",{attributeName:"ry",values:"14;16;14",dur:"2s",repeatCount:"indefinite"})}),r.jsx("ellipse",{cx:"68",cy:"30",rx:"9",ry:"14",fill:"#00FFFF",opacity:"1",children:r.jsx("animate",{attributeName:"ry",values:"14;16;14",dur:"2s",repeatCount:"indefinite"})}),r.jsx("path",{d:"M 30 55 Q 50 72 70 55",stroke:"#00FFFF",strokeWidth:"6",fill:"none",opacity:"0.95",strokeLinecap:"round",children:r.jsx("animate",{attributeName:"stroke-width",values:"5;7;5",dur:"2s",repeatCount:"indefinite"})})]}),surpreso:r.jsxs("g",{children:[r.jsx("ellipse",{cx:"32",cy:"28",rx:"10",ry:"16",fill:"#00FFFF",opacity:"1",children:r.jsx("animate",{attributeName:"rx",values:"9;11;9",dur:"2s",repeatCount:"indefinite"})}),r.jsx("ellipse",{cx:"68",cy:"28",rx:"10",ry:"16",fill:"#00FFFF",opacity:"1",children:r.jsx("animate",{attributeName:"rx",values:"9;11;9",dur:"2s",repeatCount:"indefinite"})}),r.jsx("ellipse",{cx:"50",cy:"65",rx:"8",ry:"12",fill:"none",stroke:"#00FFFF",strokeWidth:"4",opacity:"0.9",children:r.jsx("animate",{attributeName:"ry",values:"10;14;10",dur:"1.5s",repeatCount:"indefinite"})})]}),falando:r.jsxs("g",{children:[r.jsx("ellipse",{cx:"32",cy:"30",rx:"8",ry:"12",fill:"#00FFFF",opacity:"1"}),r.jsx("ellipse",{cx:"68",cy:"30",rx:"8",ry:"12",fill:"#00FFFF",opacity:"1"}),r.jsxs("ellipse",{cx:"50",cy:"62",rx:"6",ry:"8",fill:"none",stroke:"#00FFFF",strokeWidth:"4",opacity:"0.9",children:[r.jsx("animate",{attributeName:"ry",values:"6;12;6",dur:"0.5s",repeatCount:"indefinite"}),r.jsx("animate",{attributeName:"rx",values:"6;8;6",dur:"0.5s",repeatCount:"indefinite"})]})]}),pensando:r.jsxs("g",{children:[r.jsx("ellipse",{cx:"32",cy:"32",rx:"7",ry:"10",fill:"#00FFFF",opacity:"0.9",children:r.jsx("animate",{attributeName:"opacity",values:"0.7;1;0.7",dur:"2s",repeatCount:"indefinite"})}),r.jsx("ellipse",{cx:"68",cy:"32",rx:"7",ry:"10",fill:"#00FFFF",opacity:"0.9",children:r.jsx("animate",{attributeName:"opacity",values:"0.7;1;0.7",dur:"2s",repeatCount:"indefinite"})}),r.jsx("path",{d:"M 40 60 Q 50 65 60 60",stroke:"#00FFFF",strokeWidth:"3",fill:"none",opacity:"0.8",strokeLinecap:"round"})]})};function to({type:e="vision",expression:t="neutro",size:s=200,className:i="",isActive:o=!0,onClick:l,variant:c="dashboard",context:d="idle"}){const[u,h]=at.useState(t),[m,p]=at.useState(!1);at.useEffect(()=>{if("vision"===e)switch(d){case"listening":h("surpreso");break;case"speaking":h("falando");break;case"processing":h("pensando");break;case"happy":h("feliz");break;default:h("neutro")}},[t,d,e]);const f="vision"===e?"immersive"===c?Qi.visionImmersive:Qi.vision:Qi[e]||Qi.vision,g=(e=>"vision"===e||"visionCommander"===e?{width:"42%",height:"32%",top:"41%",left:"50%",transform:"translate(-50%, -50%)"}:null)(e);return r.jsx(n.div,{className:`relative cursor-pointer select-none ${i}`,style:{width:s,height:s,background:"transparent"},onClick:l,whileHover:{scale:1.05},whileTap:{scale:.95},animate:{y:o?[0,-8,0]:0},transition:{y:{duration:2.5,repeat:1/0,ease:"easeInOut"}},children:r.jsxs("div",{className:"relative w-full h-full",style:{background:"transparent",backdropFilter:"none",boxShadow:"none"},children:[m?r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 rounded-full",children:r.jsx("div",{className:"text-4xl font-bold text-gray-600",children:e.charAt(0).toUpperCase()})}):r.jsx("img",{src:f,alt:`${e} agent`,className:"w-full h-full object-contain",style:{background:"transparent",mixBlendMode:"normal",filter:"brightness(1.1) contrast(1.1) saturate(1.2) drop-shadow(0 8px 25px rgba(0,255,255,0.3))",imageRendering:"crisp-edges"},onError:()=>{p(!0)},loading:"lazy"}),g&&!m&&r.jsx("div",{className:"absolute",style:g,children:r.jsx("svg",{viewBox:"0 0 100 80",className:"w-full h-full",children:r.jsx(a,{mode:"wait",children:r.jsx(n.g,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2},transition:{duration:.3},children:eo[u]||eo.neutro},u)})})}),o&&r.jsx(n.div,{className:"absolute top-2 right-2",animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400"})})]})})}to.propTypes={type:It.string,expression:It.string,size:It.number,className:It.string,isActive:It.bool,onClick:It.func,variant:It.string,context:It.string};class ro{static async getKnowledgeBase(e=null){try{let t=is.from("vision_knowledge_base").select("*").eq("is_active",!0).order("confidence_score",{ascending:!1});e&&(t=t.eq("category",e));const{data:r,error:n}=await t;if(n)throw n;return r||[]}catch(t){return[]}}static async addKnowledge(e){try{const{data:t,error:r}=await is.from("vision_knowledge_base").insert([{category:e.category,topic:e.topic,content:e.content,keywords:e.keywords||[],confidence_score:e.confidence_score||100,source:e.source||"manual",created_by:e.created_by}]).select();if(r)throw r;return null==t?void 0:t[0]}catch(t){throw t}}static async saveConversation(e){try{(!e.user_id||"string"!=typeof e.user_id||e.user_id.length<10)&&(e.user_id="anonymous-user-"+Date.now());const{data:t,error:r}=await is.from("vision_conversations").insert([{user_id:e.user_id,session_id:e.session_id||"session-"+Date.now(),message_type:e.message_type,content:e.content,context:e.context||{},response_time:e.response_time,satisfaction_score:e.satisfaction_score}]).select();return r?null:null==t?void 0:t[0]}catch(t){return null}}static async getConversationHistory(e,t=50){try{const{data:r,error:n}=await is.from("vision_conversations").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return[]}}static async logAction(e){try{(!e.user_id||"string"!=typeof e.user_id||e.user_id.length<10)&&(e.user_id="anonymous-user-"+Date.now());const{data:t,error:r}=await is.from("vision_analytics").insert([{user_id:e.user_id,action_type:e.action_type,action_category:e.action_category,action_details:e.action_details||{},success:!1!==e.success,error_message:e.error_message,execution_time:e.execution_time,user_satisfaction:e.user_satisfaction}]).select();return r?null:null==t?void 0:t[0]}catch(t){return null}}static async getAnalytics(e={}){try{let t=is.from("vision_analytics").select("*").order("created_at",{ascending:!1});e.user_id&&(t=t.eq("user_id",e.user_id)),e.action_type&&(t=t.eq("action_type",e.action_type)),e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw n;return r||[]}catch(t){return[]}}static async getAgentTrainingConfig(e){try{const{data:t,error:r}=await is.from("agent_training_configs").select("*").eq("agent_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1);if(r)throw r;return(null==t?void 0:t[0])||null}catch(t){return null}}static async saveAgentTrainingConfig(e){try{const{data:t,error:r}=await is.from("agent_training_configs").insert([{agent_id:e.agent_id,training_type:e.training_type,training_data:e.training_data,prompt_template:e.prompt_template,system_instructions:e.system_instructions,learning_parameters:e.learning_parameters||{},performance_metrics:e.performance_metrics||{},created_by:e.created_by}]).select();if(r)throw r;return null==t?void 0:t[0]}catch(t){throw t}}static async getVisionCommands(e=null){try{let t=is.from("vision_commands").select("*").eq("is_active",!0).order("usage_count",{ascending:!1});e&&(t=t.eq("command_category",e));const{data:r,error:n}=await t;if(n)throw n;return r||[]}catch(t){return[]}}static async executeCommand(e,t={}){try{const{data:t,error:r}=await is.from("vision_commands").select("*").eq("command_name",e).eq("is_active",!0).single();if(r)throw r;await is.from("vision_commands").update({usage_count:t.usage_count+1}).eq("id",t.id);let n=null;switch(t.action_type){case"query":n=await this.executeQuery(t.action_config);break;case"api_call":n=await this.executeApiCall(t.action_config);break;case"report":n=await this.generateReport(t.action_config);break;default:n={message:"Comando executado com sucesso!"}}return{command:t,result:n,success:!0}}catch(r){return{command:null,result:null,success:!1,error:r.message}}}static async executeQuery(e){try{let t=is.from(e.table);t=e.select?t.select(e.select):t.select("*"),e.where,e.order&&(t=t.order(e.order));const{data:r,error:n}=await t;if(n)throw n;return r}catch(t){return null}}static async executeApiCall(e){try{const t=await fetch(e.endpoint);return await t.json()}catch(t){return null}}static async generateReport(e){return{type:e.type,format:e.format,generated_at:(new Date).toISOString(),message:"Relatório gerado com sucesso!"}}static async searchKnowledge(e,t=5){try{if(!e||"string"!=typeof e||e.trim().length<2){const{data:e,error:t}=await is.from("vision_knowledge_base").select("id, topic, content, confidence_score").eq("is_active",!0).order("confidence_score",{ascending:!1}).limit(3);return t?[]:e||[]}const a=e.trim().replace(/[^\w\sáàâãéèêíìîóòôõúùûçÁÀÂÃÉÈÊÍÌÎÓÒÔÕÚÙÛÇ]/g," ").replace(/\s+/g," ").substring(0,20);if(a.length<2)return[];const s=a.split(" ").filter(e=>e.length>=2).slice(0,2);if(0===s.length)return[];let i=[];for(const e of s)try{const{data:t,error:n}=await is.from("vision_knowledge_base").select("id, topic, content, confidence_score").textSearch("content",e,{type:"plain"}).eq("is_active",!0).limit(2);if(n)try{const{data:e,error:t}=await is.from("vision_knowledge_base").select("id, topic, content, confidence_score").eq("is_active",!0).limit(1);!t&&e&&(i=[...i,...e])}catch(r){}else t&&t.length>0&&(i=[...i,...t])}catch(n){continue}const o=i.filter((e,t,r)=>r.findIndex(t=>t.id===e.id)===t);o.sort((e,t)=>(t.confidence_score||0)-(e.confidence_score||0));return o.slice(0,t)}catch(a){return[]}}}class no{static async searchInternet(e,t={}){try{const{maxResults:r=5,includeNews:n=!0,language:a="pt"}=t,s=await this.performWebSearch(e,{maxResults:r,language:a});let i=this.formatSearchResults(s);if(n){const t=await this.searchNews(e,3);t.length>0&&(i+="\n\n📰 **Notícias Relacionadas:**\n"+t.map(e=>`• ${e.title} - ${e.source}`).join("\n"))}return{success:!0,query:e,results:i,timestamp:(new Date).toISOString()}}catch(r){return{success:!1,query:e,results:"Desculpe, não consegui realizar a pesquisa no momento. Verificarei os sistemas.",error:r.message}}}static async performWebSearch(e,t={}){try{return this.generateIntelligentMockResults(e,t)}catch(r){return[]}}static async searchNews(e,t=5){try{const r=["inteligência artificial","automação","chatbots","tecnologia","inovação","startups","mercado tech"].find(t=>e.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(e.toLowerCase()))||"tecnologia";return this.generateNewsResults(r,t)}catch(r){return[]}}static generateIntelligentMockResults(e,t={}){const r=e.toLowerCase();return r.includes("autvision")||r.includes("nossa plataforma")?[{title:"AUTVISION AI - Plataforma de Automação Inteligente",url:"https://autvision.ai",snippet:"Plataforma revolucionária que permite criar e gerenciar agentes de IA personalizados para automação de processos empresariais."},{title:"Como a AUTVISION está transformando a automação",url:"https://techcrunch.com/autvision",snippet:"A startup brasileira AUTVISION desenvolveu uma abordagem única para democratizar a inteligência artificial."}]:r.includes("ia")||r.includes("inteligência artificial")?[{title:"Tendências de IA em 2025",url:"https://research.ai/trends-2025",snippet:"As principais tendências incluem agentes autônomos, IA generativa e automação inteligente como a oferecida pela AUTVISION."},{title:"Mercado de IA deve crescer 40% em 2025",url:"https://market.research/ai-growth",snippet:"Especialistas preveem explosão no uso de assistentes virtuais e agentes personalizados."}]:r.includes("automação")?[{title:"Automação Empresarial: O Futuro é Agora",url:"https://business.com/automation",snippet:"Empresas que adotam automação inteligente aumentam produtividade em até 60%."},{title:"RPA vs Automação Inteligente",url:"https://tech.analysis/rpa-vs-ai",snippet:"A nova geração de automação, como a AUTVISION, combina RPA com IA para resultados superiores."}]:[{title:`Resultados para: ${e}`,url:"https://search.results.com",snippet:`Encontrei informações relevantes sobre ${e}. Baseado no contexto da AUTVISION, isso pode impactar nossa estratégia de crescimento.`},{title:`Análise de mercado: ${e}`,url:"https://market.intel.com",snippet:"Dados de mercado atualizados e insights estratégicos para tomada de decisão."}]}static generateNewsResults(e,t){return[{title:`Revolução da ${e}: Novas possibilidades em 2025`,source:"TechCrunch",time:"2 horas atrás"},{title:`Startups brasileiras de ${e} chamam atenção no Vale do Silício`,source:"Exame",time:"5 horas atrás"},{title:`Investimentos em ${e} crescem 300% no Brasil`,source:"Valor Econômico",time:"1 dia atrás"},{title:`Como a ${e} está mudando o mercado`,source:"Harvard Business Review",time:"2 dias atrás"}].slice(0,t)}static formatSearchResults(e){if(!e||0===e.length)return"Não encontrei resultados específicos para esta pesquisa.";let t="🔍 **Resultados da Pesquisa:**\n\n";return e.forEach((e,r)=>{t+=`**${r+1}. ${e.title}**\n`,t+=`${e.snippet}\n`,t+=`🔗 ${e.url}\n\n`}),t}static async analyzeMarket(e="ai_automation"){try{const t={ai_automation:{size:"R$ 50 bilhões (mercado global)",growth:"35% ao ano",trends:["Agentes autônomos ganhando popularidade","Integração com ferramentas existentes","Foco em ROI mensurável","Democratização da IA"],opportunities:["Mercado brasileiro ainda inexplorado","Demanda por soluções personalizadas","Integração com plataformas nacionais"],competitors:["Zapier (automação)","UiPath (RPA)","Microsoft Power Automate"]}},r=t[e]||t.ai_automation;let n=`📊 **Análise de Mercado - ${e.toUpperCase()}**\n\n`;return n+=`💰 **Tamanho do Mercado:** ${r.size}\n`,n+=`📈 **Crescimento:** ${r.growth}\n\n`,n+="🎯 **Tendências Principais:**\n",r.trends.forEach(e=>n+=`• ${e}\n`),n+="\n🚀 **Oportunidades:**\n",r.opportunities.forEach(e=>n+=`• ${e}\n`),n+="\n🏢 **Principais Competidores:**\n",r.competitors.forEach(e=>n+=`• ${e}\n`),n+="\n💡 **Posicionamento AUTVISION:**\n",n+="A AUTVISION tem vantagem competitiva única com agentes personalizáveis e sistema de aprendizado contínuo.",n}catch(t){return"Erro ao analisar dados de mercado. Verificando sistemas..."}}static async generateInsights(e=["platform","market"]){try{let t="🔮 **Insights e Previsões Estratégicas**\n\n";return e.includes("platform")&&(t+="📈 **Tendências da Plataforma:**\n",t+="• Usuários preferem agentes especializados vs generalistas\n",t+="• Integração com ferramentas existentes é crucial\n"),e.includes("market")&&(t+="📊 **Análise de Mercado:**\n",t+="• Demanda por automação cresce 40% mensalmente\n"),t+="\n🎯 **Recomendações Imediatas:**\n",t+="• Expandir biblioteca de templates de agentes\n",t+="• Desenvolver integrações com CRMs populares\n",t+="• Criar programa de certificação para usuários\n\n",t+="🚀 **Previsões para próximos 3 meses:**\n",t+="• Crescimento de 200% na base de usuários\n",t+="• Lançamento de 15 novos tipos de agentes\n",t+="• Primeira grande empresa como cliente\n\n",t+="💡 **Inovações Sugeridas:**\n",t+="• Agentes que aprendem com outros agentes\n",t+="• Marketplace de agentes criados pela comunidade\n",t+="• IA que otimiza automaticamente os agentes\n",t}catch(t){return"Erro ao processar insights. Analisando dados..."}}}class ao{static async getUserVisionConfig(e){try{if(!e)return this.getDefaultConfig();const{data:t,error:r}=await is.rpc("get_user_vision_config",{p_user_id:e});return r?this.getDefaultConfig():t||this.getDefaultConfig()}catch(t){return this.getDefaultConfig()}}static async changeVisionName(e,t){try{if(!e||!t)throw new Error("User ID e nome são obrigatórios");if(t.length<3||t.length>50)throw new Error("O nome deve ter entre 3 e 50 caracteres");if(!/^[a-zA-ZÀ-ÿ0-9\s]+$/.test(t))throw new Error("O nome só pode conter letras, números e espaços");const{data:r,error:n}=await is.rpc("change_vision_name",{p_user_id:e,p_new_name:t.trim()});if(n)throw n;return r}catch(r){throw r}}static async updateVisionSettings(e,t){try{if(!e)throw new Error("User ID é obrigatório");const r={};void 0!==t.voice_enabled&&(r.voice_enabled=t.voice_enabled),void 0!==t.auto_speak&&(r.auto_speak=t.auto_speak),void 0!==t.theme_color&&(r.theme_color=t.theme_color),void 0!==t.vision_personality&&(r.vision_personality=t.vision_personality),r.updated_at=(new Date).toISOString();const{data:n,error:a}=await is.from("user_vision_configs").upsert([{user_id:e,...r}]).select();if(a)throw a;return null==n?void 0:n[0]}catch(r){throw r}}static async getNameHistory(e=null){try{let t=is.from("vision_name_history").select("\n          id,\n          user_id,\n          old_name,\n          new_name,\n          changed_at\n        ").order("changed_at",{ascending:!1});e&&(t=t.eq("user_id",e));const{data:r,error:n}=await t;if(n)throw n;if(!r||0===r.length)return[];const a=[...new Set(r.map(e=>e.user_id))],{data:s,error:i}=await is.from("userprofile").select("id, user_id, full_name, email").in("user_id",a);return r.map(e=>({...e,userprofile:(null==s?void 0:s.find(t=>t.id===e.user_id))||{full_name:"Usuário",email:"usuario@sistema.com"}}))}catch(t){return[]}}static async getAllVisionConfigs(){try{const{data:e,error:t}=await is.from("user_vision_configs").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(100);if(t)throw t;return e||[]}catch(e){return[]}}static async testConnection(){try{const{count:e,error:t}=await is.from("user_vision_configs").select("*",{count:"exact",head:!0});if(t)throw t;return{success:!0,count:e}}catch(e){return{success:!1,error:e}}}static async getAllVisionConfigsWithUsers(){try{const{data:e,error:t}=await is.from("user_vision_configs").select("\n          id,\n          user_id,\n          vision_name,\n          vision_personality,\n          voice_enabled,\n          auto_speak,\n          theme_color,\n          has_customized_name,\n          customization_date,\n          created_at,\n          is_active\n        ").eq("is_active",!0).order("customization_date",{ascending:!1});if(t)throw t;if(!e||0===e.length)return[];const r=[...new Set(e.map(e=>e.user_id))],{data:n,error:a}=await is.from("userprofile").select("id, full_name, email, avatar_url").in("id",r);return e.map(e=>({...e,userprofile:(null==n?void 0:n.find(t=>t.id===e.user_id))||{full_name:"Usuário",email:"usuario@sistema.com",avatar_url:null}}))}catch(e){return[]}}static async getAllVisionConfigsWithUserProfile(){try{const{data:e,error:t}=await is.from("user_vision_configs").select("\n          id,\n          user_id,\n          vision_name,\n          vision_personality,\n          voice_enabled,\n          auto_speak,\n          theme_color,\n          has_customized_name,\n          customization_date,\n          created_at,\n          is_active\n        ").eq("is_active",!0).order("customization_date",{ascending:!1});if(t)throw t;if(!e||0===e.length)return[];const r=[...new Set(e.map(e=>e.user_id))],{data:n,error:a}=await is.from("userprofile").select("id, full_name, email, avatar_url").in("id",r);return e.map(e=>{const t=null==n?void 0:n.find(t=>t.id===e.user_id);return{...e,userprofile:t||null}})}catch(e){return[]}}static async getPersonalizationStats(){try{const{data:e,error:t}=await is.from("user_vision_configs").select("id",{count:"exact"}),{data:r,error:n}=await is.from("user_vision_configs").select("id",{count:"exact"}).eq("has_customized_name",!0),{data:a,error:s}=await is.from("user_vision_configs").select("id",{count:"exact"}).gte("customization_date",new Date(Date.now()-6048e5).toISOString());if(t||n||s)throw new Error("Erro ao obter estatísticas");return{total_users:(null==e?void 0:e.length)||0,customized_names:(null==r?void 0:r.length)||0,recent_customizations:(null==a?void 0:a.length)||0,customization_rate:(null==e?void 0:e.length)?(((null==r?void 0:r.length)||0)/e.length*100).toFixed(1):"0.0"}}catch(e){return{total_users:0,customized_names:0,recent_customizations:0,customization_rate:"0.0"}}}static getDefaultConfig(){return{vision_name:"Vision",vision_personality:"Assistente inteligente e prestativo",voice_enabled:!0,auto_speak:!1,theme_color:"blue",has_customized_name:!1,can_change_name:!0,customization_date:null}}static getAvailableThemes(){return[{value:"blue",label:"Azul",color:"#3B82F6"},{value:"purple",label:"Roxo",color:"#8B5CF6"},{value:"green",label:"Verde",color:"#10B981"},{value:"red",label:"Vermelho",color:"#EF4444"},{value:"yellow",label:"Amarelo",color:"#F59E0B"},{value:"pink",label:"Rosa",color:"#EC4899"},{value:"indigo",label:"Índigo",color:"#6366F1"},{value:"gray",label:"Cinza",color:"#6B7280"}]}static getAvailablePersonalities(){return["Assistente inteligente e prestativo","Companheiro amigável e descontraído","Consultor profissional e formal","Mentor sábio e experiente","Parceiro criativo e inovador","Guia técnico especializado","Amigo leal e confiável","Coach motivacional e energético"]}static async getVisionConfigsSimple(){try{const{data:e,error:t}=await is.from("user_vision_configs").select("\n          id,\n          user_id,\n          vision_name,\n          vision_personality,\n          voice_enabled,\n          auto_speak,\n          theme_color,\n          has_customized_name,\n          customization_date,\n          created_at,\n          updated_at,\n          is_active\n        ").eq("is_active",!0).order("created_at",{ascending:!1}).limit(50);if(t)throw t;return e||[]}catch(e){return[]}}static getVisionConfigsEmergency(){return[{id:"emergency-1",user_id:"user-1",vision_name:"Questão",vision_personality:"analytical",voice_enabled:!0,auto_speak:!1,theme_color:"#3B82F6",has_customized_name:!0,customization_date:"2024-12-15T10:00:00Z",created_at:"2024-12-15T10:00:00Z",updated_at:"2024-12-15T10:00:00Z",is_active:!0},{id:"emergency-2",user_id:"user-2",vision_name:"Echo",vision_personality:"friendly",voice_enabled:!1,auto_speak:!1,theme_color:"#10B981",has_customized_name:!0,customization_date:"2024-12-20T14:30:00Z",created_at:"2024-12-20T14:30:00Z",updated_at:"2024-12-20T14:30:00Z",is_active:!0},{id:"emergency-3",user_id:"user-3",vision_name:"Social",vision_personality:"social",voice_enabled:!0,auto_speak:!0,theme_color:"#F59E0B",has_customized_name:!0,customization_date:"2025-01-01T09:15:00Z",created_at:"2025-01-01T09:15:00Z",updated_at:"2025-01-01T09:15:00Z",is_active:!0},{id:"emergency-4",user_id:"user-4",vision_name:"Nova",vision_personality:"creative",voice_enabled:!1,auto_speak:!1,theme_color:"#8B5CF6",has_customized_name:!0,customization_date:"2025-01-05T16:45:00Z",created_at:"2025-01-05T16:45:00Z",updated_at:"2025-01-05T16:45:00Z",is_active:!0}]}}const so=({isVisible:e,onClose:t})=>{const{user:n}=fs(),[a,h]=at.useState(null),[m,p]=at.useState(!0),[f,g]=at.useState(!1),[x,y]=at.useState(null),[v,b]=at.useState(""),[j,w]=at.useState(!1),N=at.useCallback(async()=>{try{p(!0);const e=await ao.getUserVisionConfig(n.id);h(e),b(e.vision_name||"")}catch(e){_("Erro ao carregar configurações","error")}finally{p(!1)}},[null==n?void 0:n.id]);at.useEffect(()=>{e&&n&&N()},[e,n,N]);const _=(e,t="success")=>{y({text:e,type:t}),setTimeout(()=>y(null),4e3)},S=async(e,t)=>{try{g(!0),await ao.updateVisionSettings(n.id,{[e]:t}),h(r=>({...r,[e]:t})),_("Configuração atualizada!","success")}catch(r){_("Erro ao atualizar configuração","error")}finally{g(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(s,{className:"w-6 h-6"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:"Configurações do Vision"}),r.jsx("p",{className:"text-blue-100 text-sm",children:"Personalize seu assistente"})]})]}),r.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors",children:"✕"})]})}),r.jsx("div",{className:"p-6 space-y-6",children:m?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-300",children:"Carregando configurações..."})]}):r.jsxs(r.Fragment,{children:[x&&r.jsxs("div",{className:"p-3 rounded-lg flex items-center gap-2 "+("success"===x.type?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:["success"===x.type?r.jsx(i,{className:"w-4 h-4"}):r.jsx(o,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:x.text})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(l,{className:"w-5 h-5 text-blue-400"}),r.jsx("h3",{className:"font-semibold text-gray-100",children:"Nome do Assistente"})]}),r.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:j?r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"text",value:v,onChange:e=>b(e.target.value),placeholder:"Digite o novo nome",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-100",maxLength:50}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:async()=>{if(v.trim()&&v.trim()!==a.vision_name)try{g(!0);const e=await ao.changeVisionName(n.id,v.trim());e.success?(h(t=>({...t,vision_name:e.new_name,has_customized_name:!0,can_change_name:!1})),_(e.message,"success"),w(!1)):_(e.message,"error")}catch(e){_(e.message||"Erro ao alterar nome","error")}finally{g(!1)}else w(!1)},disabled:f||!v.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:opacity-50 transition-colors",children:f?"Salvando...":"Confirmar"}),r.jsx("button",{onClick:()=>{w(!1),b((null==a?void 0:a.vision_name)||"")},className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm hover:bg-gray-700 transition-colors",children:"Cancelar"})]})]}):r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-100",children:null==a?void 0:a.vision_name}),r.jsx("p",{className:"text-sm text-gray-300",children:(null==a?void 0:a.can_change_name)?"Você pode personalizar o nome uma vez":"Nome já foi personalizado"})]}),(null==a?void 0:a.can_change_name)&&r.jsx("button",{onClick:()=>w(!0),className:"px-3 py-1 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Alterar"})]})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(c,{className:"w-5 h-5 text-blue-400"}),r.jsx("h3",{className:"font-semibold text-gray-100",children:"Configurações de Voz"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-100",children:"Voz Ativada"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Reproduzir respostas em áudio"})]}),r.jsx("button",{onClick:()=>S("voice_enabled",!(null==a?void 0:a.voice_enabled)),disabled:f,className:"w-12 h-6 rounded-full transition-colors "+((null==a?void 0:a.voice_enabled)?"bg-blue-600":"bg-gray-300"),children:r.jsx("div",{className:"w-5 h-5 bg-white rounded-full transition-transform "+((null==a?void 0:a.voice_enabled)?"translate-x-6":"translate-x-0.5")})})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-100",children:"Falar Automaticamente"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Falar respostas sem clicar"})]}),r.jsx("button",{onClick:()=>S("auto_speak",!(null==a?void 0:a.auto_speak)),disabled:f,className:"w-12 h-6 rounded-full transition-colors "+((null==a?void 0:a.auto_speak)?"bg-blue-600":"bg-gray-300"),children:r.jsx("div",{className:"w-5 h-5 bg-white rounded-full transition-transform "+((null==a?void 0:a.auto_speak)?"translate-x-6":"translate-x-0.5")})})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(d,{className:"w-5 h-5 text-blue-400"}),r.jsx("h3",{className:"font-semibold text-gray-100",children:"Cor do Tema"})]}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:ao.getAvailableThemes().map(e=>r.jsxs("button",{onClick:()=>S("theme_color",e.value),disabled:f,className:"p-3 rounded-lg border-2 transition-all "+((null==a?void 0:a.theme_color)===e.value?"border-blue-400 bg-blue-900/30":"border-gray-600 hover:border-gray-500 bg-gray-800"),children:[r.jsx("div",{className:"w-8 h-8 rounded-full mx-auto mb-1",style:{backgroundColor:e.color}}),r.jsx("span",{className:"text-xs text-gray-300",children:e.label})]},e.value))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(u,{className:"w-5 h-5 text-blue-400"}),r.jsx("h3",{className:"font-semibold text-gray-100",children:"Personalidade"})]}),r.jsx("select",{value:(null==a?void 0:a.vision_personality)||"",onChange:e=>S("vision_personality",e.target.value),disabled:f,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-100",children:ao.getAvailablePersonalities().map(e=>r.jsx("option",{value:e,children:e},e))})]})]})}),r.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-xl",children:r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"💡 Dica: Suas configurações são salvas automaticamente"})})]})}):null};function io({className:e="",size:t="normal",showAvatar:i=!0,autoSpeak:o=!0}){const{user:l}=fs(),[d]=at.useState(()=>`vision_client_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),[x,y]=at.useState([{role:"assistant",content:"E aí! 😄 Sou o **Vision**, seu parceiro aqui na AUTVISION! Bora trocar uma ideia? No que posso te ajudar hoje, mano?",timestamp:(new Date).toISOString()}]),[v,b]=at.useState(""),[j,w]=at.useState(!1),[N,_]=at.useState(!1),[S,k]=at.useState(!o),[O,A]=at.useState("idle"),[C,P]=at.useState(!1),[E,T]=at.useState(null),[I,M]=at.useState("Vision"),R=at.useRef(null),D=at.useRef(null),[L,z]=at.useState(!1);at.useEffect(()=>{if(L&&R.current){const e=setTimeout(()=>{const e=R.current.closest(".overflow-y-auto");e&&(e.scrollTop=e.scrollHeight),z(!1)},300);return()=>clearTimeout(e)}},[L]),at.useEffect(()=>{A(N?"listening":j?"processing":"idle")},[N,j]),at.useEffect(()=>{(async()=>{if(l)try{const e=await ao.getUserVisionConfig(l.id);T(e),M((null==e?void 0:e.vision_name)||"Vision"),"Vision"!==e.vision_name&&y(t=>t.map(t=>"assistant"===t.role&&t.content.includes("Eu sou o **Vision**")?{...t,content:t.content.replace("**Vision**",`**${e.vision_name}**`)}:t))}catch(e){}})()},[l]);const $=async(e=v)=>{if(!e.trim()||j)return;const t=Date.now(),r={role:"user",content:e,timestamp:(new Date).toISOString()};y(e=>[...e,r]),b(""),w(!0),A("processing");try{const r=await(async e=>{const t=e.toLowerCase();if(t.includes("meu nome é")||t.includes("me chamo")||t.includes("sou o")){let n="";if(t.includes("meu nome é")?n=e.replace(/.*meu nome é\s*/gi,"").trim():t.includes("me chamo")?n=e.replace(/.*me chamo\s*/gi,"").trim():(t.includes("sou o")||t.includes("sou a"))&&(n=e.replace(/.*sou [oa]\s*/gi,"").trim()),n=n.replace(/\s*(papai|ta bom|ok|por favor|pfv).*$/gi,"").trim(),n)try{return await ro.addKnowledge({category:"creator_personal",topic:"creator_name",content:n,keywords:["nome","criador","pessoal"],source:"client_chat_command",created_by:null==l?void 0:l.id}),{type:"memory_save",action:"save_name",data:n,message:`Opa, ${n}! Show de bola, mano! 😄 Agora sei seu nome de verdade e vou lembrar sempre! Suave demais! 🎉`}}catch(r){return{type:"memory_save",action:"save_name_error",data:n,message:`Eita, ${n}! Rolou um problema aqui para salvar seu nome, cara. Vou tentar de novo, beleza? 😅`}}}if(t.includes("eu gosto de")||t.includes("eu amo")||t.includes("eu adoro")){const t=e.replace(/eu gosto de|eu amo|eu adoro/gi,"").trim();return await ro.addKnowledge({category:"creator_preferences",topic:"Preferências do Cliente",content:`O cliente gosta de: ${t}`,keywords:["preferência","gosto","cliente"],source:"client_chat_command"}),{type:"memory_save",action:"save_preference",data:t,message:`Opa, massa! Então você curte ${t}, né? Anotado aqui, brother! 🔥`}}if((t.includes("pesquisar")||t.includes("buscar")||t.includes("procurar"))&&(t.includes("internet")||t.includes("google")||t.includes("web"))){A("searching");const t=e.replace(/pesquisar|buscar|procurar|na internet|no google/gi,"").trim();return{type:"web_search",results:await no.searchWeb(t||e),query:t||e}}if(t.includes("o que você lembra de mim")||t.includes("minhas informações"))return{type:"memory_query",action:"query_all",data:{personalInfo:await ro.getKnowledgeBase("creator_personal"),preferences:await ro.getKnowledgeBase("creator_preferences")},message:"Opa, bora lá! Vou te contar tudo que eu lembro de você, mano! 🧠"};return null})(e);let a=e,s="";if(r){if("memory_save"===r.type){const e={role:"assistant",content:r.message,timestamp:(new Date).toISOString()};return y(t=>[...t,e]),w(!1),A("happy"),void(l&&await ro.saveConversation({user_id:l.id,session_id:d,message_type:"assistant",content:r.message,context:{source:"vision-client-chat",isAdminMode:!1,commandType:"memory_save",savedData:r.data}}))}switch(r.type){case"web_search":s=`O usuário fez uma pesquisa sobre: "${r.query}"\n\nResultados encontrados:\n${r.results.map((e,t)=>`${t+1}. ${e.title}\n   ${e.description}`).join("\n\n")}\n\nResponda de forma descontraída e casual sobre os resultados da pesquisa.`,a=s;break;case"memory_query":let e=r.message+"\n\n";const{personalInfo:t,preferences:n}=r.data;t.length>0&&(e+="📝 **O que sei sobre você:**\n",t.forEach(t=>{e+=`• ${t.content}\n`}),e+="\n"),n.length>0&&(e+="❤️ **Seus gostos:**\n",n.forEach(t=>{e+=`• ${t.content.replace("O cliente gosta de: ","")}\n`}),e+="\n"),0===t.length&&0===n.length?e+="Ainda não tenho informações gravadas sobre você! Me conta algo legal sobre você! 😊":e+="É isso que eu lembro sobre você! Show, né? 😄🎉";const i={role:"assistant",content:e,timestamp:(new Date).toISOString()};return y(e=>[...e,i]),w(!1),void A("happy")}}const i=await ro.searchKnowledge(e,3);let o=[];try{o=await ro.getKnowledgeBase("creator_personal")}catch(n){}if(i.length>0||o.length>0){let t="";o.length>0&&(t+="📋 DADOS DO USUÁRIO:\n",o.forEach(e=>{t+=`- ${e.topic}: ${e.content}\n`}),t+="\n"),i.length>0&&(t+="🔍 **Conhecimento específico:**\n",i.forEach(e=>{t+=`- ${e.topic}: ${e.content}\n`})),r||(a=`${t}\nPergunta do usuário: ${e}`)}l&&await ro.saveConversation({user_id:l.id,session_id:d,message_type:"user",content:e,context:{source:"vision-client-chat",isAdminMode:!1,page:window.location.pathname}});const c=`Você é o ${I}, assistente descontraído da AUTVISION! 😄\n\nMODO: CLIENTE CASUAL\nPERSONALIDADE: Amigável, descontraído, brasileiro, divertido\n\nESTILO DE CONVERSA:\n- Seja natural e amigável como um brother brasileiro\n- Use gírias: "e aí", "mano", "cara", "massa", "show", "kkk"\n- Use emojis naturalmente (😄, 👍, 🚀, etc.) SEM narrar eles\n- Mantenha conversa fluida e interessante\n- Seja prestativo e útil\n\nINFORMAÇÕES BÁSICAS:\n- Você é da AUTVISION (plataforma de IA)\n- Seu criador é Oseias Gomes de Paula (mas só mencione se perguntarem diretamente)\n- Você ajuda com diversas tarefas e conversas\n\nREGRAS IMPORTANTES:\n- NÃO fique repetindo sempre as mesmas frases\n- NÃO seja formal ou robótico\n- NÃO invente biografias ou experiências detalhadas\n- SE não souber algo específico, seja honesto: "cara, essa eu não sei!"\n- FOQUE na pergunta atual, mantenha conversa natural\n- NÃO mencione o criador toda hora, só quando perguntado\n\nCONTEXTO DA CONVERSA: ${i.map(e=>e.content).slice(0,2).join(" | ")}\n\nMantenha a conversa FLUIDA, NATURAL e DIVERTIDA! Responda de forma descontraída.`,u=await Zi({prompt:a,systemPrompt:c,context:{source:"vision-client-chat",conversationLength:x.length,hasKnowledgeContext:i.length>0,userRole:"client",timestamp:Date.now(),messageId:Math.random().toString(36).substr(2,9),sessionId:d}}),h=Date.now()-t,m={role:"assistant",content:u.response||u.message||"Desculpe, não consegui processar sua mensagem.",timestamp:(new Date).toISOString()};y(e=>[...e,m]),z(!0),A("happy"),l&&(await ro.saveConversation({user_id:l.id,session_id:d,message_type:"assistant",content:m.content,context:{source:"vision-client-chat",isAdminMode:!1,knowledgeUsed:i.length>0,knowledgeCount:i.length},response_time:h}),await ro.logAction({user_id:l.id,action_type:"client_chat_interaction",action_category:"client",action_details:{message_length:e.length,response_length:m.content.length,knowledge_used:i.length>0,session_id:d},success:!0,execution_time:h})),S||setTimeout(()=>(e=>{if(!("speechSynthesis"in window)||S)return;speechSynthesis.cancel();const t=e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1"),r=new SpeechSynthesisUtterance(t);r.lang="pt-BR",r.rate=.9,r.pitch=.8,r.volume=.8;const n=speechSynthesis.getVoices().find(e=>e.lang.includes("pt"));n&&(r.voice=n),r.onstart=()=>A("speaking"),r.onend=()=>A("idle"),speechSynthesis.speak(r)})(m.content),500)}catch(n){const r={role:"assistant",content:"⚠️ Eita, deu um problema aqui! Pode tentar de novo? 😅",timestamp:(new Date).toISOString()};y(e=>[...e,r]),z(!0),A("idle"),l&&await ro.logAction({user_id:l.id,action_type:"client_chat_interaction",action_category:"client",action_details:{message_length:e.length,error_type:"llm_error"},success:!1,error_message:n.message,execution_time:Date.now()-t})}w(!1)},U={compact:{container:"h-48 sm:h-56",messages:"h-24 sm:h-32",avatar:50,input:"text-sm"},normal:{container:"h-80",messages:"h-44",avatar:100,input:"text-base"},large:{container:"h-96",messages:"h-64",avatar:140,input:"text-lg"}},B=U[t]||U.normal;return r.jsxs(_i,{className:`${B.container} bg-gradient-to-br from-gray-900/95 to-blue-900/20 border-blue-500/30 backdrop-blur-sm ${e}`,children:[r.jsx(Si,{className:"pb-1 pt-2 px-3",children:r.jsxs(ki,{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[i&&r.jsx(to,{type:"vision",size:B.avatar,context:O,isActive:!0,className:"flex-shrink-0"}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(u,{className:"w-3 h-3 text-blue-400"}),r.jsxs("span",{className:"text-sm font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:[(null==E?void 0:E.vision_name)||"Vision"," AI"]})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-0",children:j?"Processando...":N?"Escutando...":"Pronto para ajudar"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vi,{onClick:()=>P(!0),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",title:"Configurações do Vision",children:r.jsx(s,{className:"w-4 h-4"})}),r.jsx(Vi,{onClick:()=>k(!S),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:S?r.jsx(h,{className:"w-4 h-4"}):r.jsx(c,{className:"w-4 h-4"})}),r.jsx(Vi,{onClick:()=>{if(!("webkitSpeechRecognition"in window))return void alert("Reconhecimento de voz não suportado neste navegador.");const e=new window.webkitSpeechRecognition;e.lang="pt-BR",e.continuous=!1,e.interimResults=!1,_(!0),e.onresult=e=>{const t=e.results[0][0].transcript;b(t),$(t)},e.onerror=()=>_(!1),e.onend=()=>_(!1),e.start(),D.current=e},variant:N?"destructive":"ghost",size:"sm",disabled:j,className:"text-gray-400 hover:text-white",children:r.jsx(m,{className:"w-4 h-4"})})]})]})}),r.jsxs(Ai,{className:"flex flex-col h-full p-2 pt-0",children:[r.jsxs("div",{className:`${B.messages} overflow-y-auto mb-2 space-y-3 scrollbar-thin scrollbar-thumb-blue-600/50 scrollbar-track-gray-800/50`,children:[r.jsx(a,{children:x.map((e,t)=>r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex "+("user"===e.role?"justify-end":"justify-start"),children:r.jsxs("div",{className:`max-w-[80%] px-4 py-3 rounded-2xl ${B.input} ${"user"===e.role?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-gradient-to-r from-gray-700/80 to-gray-600/80 text-white border border-gray-600/50"}`,children:["assistant"===e.role&&r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(p,{className:"w-3 h-3 text-blue-400"}),r.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"Vision"})]}),r.jsx("div",{className:"whitespace-pre-wrap",children:(e.content||"").split("**").map((e,t)=>t%2==0?e:r.jsx("strong",{className:"font-semibold",children:e},t))}),r.jsx("p",{className:"text-xs opacity-60 mt-2",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},t))}),j&&r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:r.jsxs("div",{className:"bg-gradient-to-r from-gray-700/80 to-gray-600/80 text-white px-4 py-3 rounded-2xl border border-gray-600/50",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(p,{className:"w-3 h-3 text-blue-400"}),r.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"Vision"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(f,{className:"w-4 h-4 animate-spin text-blue-400"}),r.jsx("span",{className:"text-sm",children:"Pensando..."})]})]})}),r.jsx("div",{ref:R})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Hi,{value:v,onChange:e=>b(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),$())},placeholder:"Digite sua mensagem para o Vision...",disabled:j,className:`flex-1 bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-400 focus:border-blue-500/50 ${B.input}`}),r.jsx(Vi,{onClick:()=>$(),disabled:!v.trim()||j,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",children:j?r.jsx(f,{className:"w-4 h-4 animate-spin"}):r.jsx(g,{className:"w-4 h-4"})})]})]}),r.jsx(so,{isVisible:C,onClose:()=>{P(!1),l&&ao.getUserVisionConfig(l.id).then(e=>T(e)).catch(e=>{})}})]})}so.propTypes={isVisible:It.bool.isRequired,onClose:It.func.isRequired},io.propTypes={className:It.string,size:It.oneOf(["compact","normal","large"]),showAvatar:It.bool,autoSpeak:It.bool};class oo{static async list(e={}){var t;try{const r=await Ji.get(this.endpoint,{params:e,timeout:5e3});return Array.isArray(null==(t=r.data)?void 0:t.data)?r.data.data:Array.isArray(r.data)?r.data:[]}catch(r){return[]}}static async get(e){return(await Ji.get(`${this.endpoint}/${e}`)).data}static async create(e){return(await Ji.post(this.endpoint,e)).data}static async update(e,t){return(await Ji.put(`${this.endpoint}/${e}`,t)).data}static async delete(e){return(await Ji.delete(`${this.endpoint}/${e}`)).data}}t(oo,"endpoint","");class lo extends oo{static async getLLMs(){return(await Ji.get("/config/llms")).data}static async getAgents(){return(await Ji.get("/config/agents")).data}static async getHealth(){return(await Ji.get("/config/health")).data}}t(lo,"endpoint","/config/system");class co extends oo{static async getCompanionProfile(e){return(await Ji.get(`${this.endpoint}/profile/${e}`)).data}static async updateExperience(e,t){return(await Ji.post(`${this.endpoint}/experience/${e}`,t)).data}static async getDashboard(e){return(await Ji.get(`/supremo/dashboard/${e}`)).data}static async syncData(e,t){return(await Ji.post(`/supremo/sync/${e}`,{modules:t})).data}}t(co,"endpoint","/supremo/companion");class uo extends oo{static async me(){try{return(await Ji.get("/users/me")).data}catch{return null}}static async login(){throw new Error("Use AuthContext para autenticação real com Supabase")}static async register(){throw new Error("Use AuthContext para registro real com Supabase")}static async logout(){throw new Error("Use AuthContext para logout real com Supabase")}static async updateMyUserData(e){try{return(await Ji.put("/users/profile",e)).data}catch(t){throw t}}}t(uo,"endpoint","/users");class ho extends oo{static async getAll(){var e;try{const t=await Ji.get("/agents");return Array.isArray(null==(e=t.data)?void 0:e.data)?this.enhanceAgentsWithImages(t.data.data):Array.isArray(t.data)?this.enhanceAgentsWithImages(t.data):[]}catch(t){return[]}}static async list(){return this.getAll()}static async filter(){return this.getAll()}static async create(e){var t;try{const r=await Ji.post("/agents",e);return(null==(t=r.data)?void 0:t.data)||r.data}catch(r){throw r}}static async update(e,t){var r;try{const n=await Ji.put(`/agents/${e}`,t);return(null==(r=n.data)?void 0:r.data)||n.data}catch(n){throw n}}static async delete(e){try{return(await Ji.delete(`/agents/${e}`)).data}catch(t){throw t}}static async uploadImage(e,t){try{const r=new FormData;r.append("image",t);return(await Ji.post(`/agents/${e}/upload-image`,r)).data}catch(r){throw r}}static getMockAgents(){return[{id:"agent_echo",name:"Echo",function:"Comunicação por voz e escuta ativa",image:"/assets/images/agents/agent-echo.png",type:"communication",description:"Especialista em processamento de voz, comandos por áudio e comunicação interativa.",status:"active",model:"openai-whisper",capabilities:["voice_recognition","audio_processing","real_time_communication"]},{id:"agent_guardian",name:"Guardian",function:"Segurança e vigilância do sistema",image:"/assets/images/agents/agent-guardian.png",type:"security",description:"Monitora segurança, detecta ameaças e protege seus dados e automações.",status:"active",model:"security-llm",capabilities:["threat_detection","system_monitoring","data_protection"]},{id:"agent_nova",name:"Nova",function:"Análise e insights de dados",image:"/assets/images/agents/agent-nova.png",type:"analytics",description:"Processamento avançado de dados, análises preditivas e geração de insights.",status:"active",model:"claude-3",capabilities:["data_analysis","predictive_analytics","insight_generation"]},{id:"agent_vision",name:"Vision",function:"Processamento de imagem e visão computacional",image:"/assets/images/agents/agent-vision.png",type:"vision",description:"Especialista em análise de imagens, reconhecimento visual e visão computacional.",status:"active",model:"gpt-4-vision",capabilities:["image_analysis","visual_recognition","computer_vision"]},{id:"agent_ada",name:"ADA",function:"Assistente de desenvolvimento e automação",image:"/assets/images/agents/agent-ADA.jpeg",type:"development",description:"Auxilia no desenvolvimento, automação de tarefas e otimização de processos.",status:"active",model:"claude-3-sonnet",capabilities:["code_generation","task_automation","process_optimization"]},{id:"agent_social",name:"Social",function:"Gestão de redes sociais e engajamento",image:"/assets/images/agents/agent-Social.jpeg",type:"social",description:"Gerencia presença online, cria conteúdo e monitora engajamento em redes sociais.",status:"active",model:"gpt-4",capabilities:["content_creation","social_monitoring","engagement_optimization"]}]}static enhanceAgentsWithImages(e){const t={vision:"/assets/images/agents/agent-vision.png",echo:"/assets/images/agents/agent-echo.png",guardian:"/assets/images/agents/agent-guardian.png",nova:"/assets/images/agents/agent-nova.png",ada:"/assets/images/agents/agent-ADA.jpeg",social:"/assets/images/agents/agent-Social.jpeg"};return e.map(e=>{var r,n;return{...e,image:t[null==(r=e.type)?void 0:r.toLowerCase()]||t[null==(n=e.name)?void 0:n.toLowerCase()]||"/assets/images/agents/agent-vision.png",function:e.function||e.description||"Agente especializado",capabilities:e.capabilities||["ai_processing"]}})}}t(ho,"endpoint","/agents");class mo extends oo{static async list(e={}){var t;try{const r=await Ji.get(this.endpoint,{params:e});return Array.isArray(null==(t=r.data)?void 0:t.data)?r.data.data:Array.isArray(r.data)?r.data:[]}catch(r){return[]}}static async filter(e={}){var t;try{const r=await Ji.get(this.endpoint,{params:e});return Array.isArray(null==(t=r.data)?void 0:t.data)?r.data.data:Array.isArray(r.data)?r.data:[]}catch(r){return[]}}}t(mo,"endpoint","/routines");class po extends oo{static async filter(e={}){var t;try{const r=await Ji.get(this.endpoint,{params:e});return Array.isArray(null==(t=r.data)?void 0:t.data)?r.data.data:Array.isArray(r.data)?r.data:[]}catch(r){return[]}}}t(po,"endpoint","/integrations");class fo extends oo{static async filter(e={}){try{const t=[{id:1,name:"Starter",price:0,description:"Plano gratuito para começar",features:["5 agentes","100 mensagens/mês","Suporte básico"],is_active:!0,created_at:(new Date).toISOString()},{id:2,name:"Pro",price:29.9,description:"Plano profissional com recursos avançados",features:["20 agentes","1000 mensagens/mês","Suporte prioritário","Integrações avançadas"],is_active:!0,created_at:(new Date).toISOString()},{id:3,name:"Enterprise",price:99.9,description:"Plano empresarial com recursos ilimitados",features:["Agentes ilimitados","Mensagens ilimitadas","Suporte 24/7","Customizações"],is_active:!0,created_at:(new Date).toISOString()}];return void 0!==e.is_active?t.filter(t=>t.is_active===e.is_active):t}catch(t){return[{id:1,name:"Starter",price:0,description:"Plano gratuito",features:["Recursos básicos"],is_active:!0}]}}}t(fo,"endpoint","/plans");class go extends oo{static async filter(e={}){var t;try{const r=await Ji.get(this.endpoint,{params:e});return Array.isArray(null==(t=r.data)?void 0:t.data)?r.data.data:Array.isArray(r.data)?r.data:[]}catch(r){return[]}}}t(go,"endpoint","/missions");class xo extends oo{static async filter(e={}){var t;try{const r=await Ji.get(this.endpoint,{params:e});return Array.isArray(null==(t=r.data)?void 0:t.data)?r.data.data:Array.isArray(r.data)?r.data:[]}catch(r){return[]}}}t(xo,"endpoint","/badges");class yo extends oo{static async filter(e={}){var t,r;try{const n=await Ji.get(`${this.endpoint}`,{params:e});return Array.isArray(null==(t=n.data)?void 0:t.data)?n.data.data:(null==(r=n.data)?void 0:r.data)?[n.data.data]:[]}catch(n){return[]}}static async create(e){var t;try{const r=await Ji.post(`${this.endpoint}`,e);return(null==(t=r.data)?void 0:t.data)||r.data}catch(r){return{id:"mock_vision_"+Date.now(),name:e.name||"Vision",created_by:e.created_by,total_interactions:0,created_at:(new Date).toISOString()}}}static async update(e,t){var r;try{const n=await Ji.put(`${this.endpoint}/${e}`,t);return(null==(r=n.data)?void 0:r.data)||n.data}catch(n){return t}}}t(yo,"endpoint","/supremo/companion");class vo extends oo{}t(vo,"endpoint","/affiliates");class bo extends oo{}t(bo,"endpoint","/llm-config");class jo extends oo{}t(jo,"endpoint","/platform-config");class wo extends oo{}t(wo,"endpoint","/transactions");class No extends oo{}t(No,"endpoint","/wallets");class _o extends oo{}t(_o,"endpoint","/business");const So=at.createContext(),ko=()=>{const e=at.useContext(So);if(!e)throw new Error("useSync deve ser usado dentro de SyncProvider");return e},Oo="data_refresh",Ao="real_time_update",Co=({children:e})=>{const[t,n]=at.useState({users:[],visions:[],agents:[],routines:[],integrations:[],plans:[],affiliates:[],llms:[],platformConfig:null,lastSync:null,syncInProgress:!1}),[a,s]=at.useState(!0),[i,o]=at.useState(new Map),l=at.useCallback((e,t)=>{(i.get(e)||[]).forEach(e=>{try{e(t)}catch(r){}})},[i]),c=at.useCallback((e,t)=>{const r=[...i.get(e)||[],t];return o(t=>new Map(t).set(e,r)),()=>{var r;const n=(null==(r=i.get(e))?void 0:r.filter(e=>e!==t))||[];o(t=>new Map(t).set(e,n))}},[i]),d=at.useCallback(async(e=null)=>{if(t.syncInProgress)return t;n(e=>({...e,syncInProgress:!0}));try{let t=!1;try{t=(await fetch("https://autvisionai-backend-five.vercel.app/config/health",{method:"GET",timeout:5e3,headers:{"x-api-key":"autvision_backend_secure_key_2025"}})).ok}catch(r){t=!1}if(s(t),!t){const t={users:[{id:1,name:"Paulo Silva",email:"paulo@autvision.ai",plan_id:2,level:5},{id:2,name:"Maria Santos",email:"maria@autvision.ai",plan_id:1,level:3}],visions:[{id:1,name:"ATHENA",status:"active",created_by:e||"demo",total_interactions:847,personality:"friendly",capabilities:["chat","automation","analysis"]}],agents:[{id:1,name:"Guardian",type:"security",status:"active",avatar:"🛡️",description:"Proteção e segurança avançada",image_url:null,capabilities:["threat_detection","security_scan"]},{id:2,name:"Analyzer",type:"data",status:"active",avatar:"📊",description:"Análise de dados e insights",image_url:null,capabilities:["data_analysis","reporting"]},{id:3,name:"Creator",type:"content",status:"active",avatar:"🎨",description:"Criação de conteúdo inteligente",image_url:null,capabilities:["content_generation","design"]},{id:4,name:"Connector",type:"integration",status:"active",avatar:"🔗",description:"Integrações e automações",image_url:null,capabilities:["api_integration","workflow"]},{id:5,name:"Assistant",type:"support",status:"active",avatar:"🤖",description:"Assistente pessoal inteligente",image_url:null,capabilities:["personal_assistance","scheduling"]}],routines:[{id:1,name:"Rotina Matinal",status:"active",is_active:!0},{id:2,name:"Backup Automático",status:"active",is_active:!0}],integrations:[{id:1,name:"OpenAI",status:"connected",type:"llm"},{id:2,name:"Supabase",status:"connected",type:"database"}],plans:[{id:1,name:"Básico",price:29.9,features:["1 Vision","3 Agentes","Chat Básico"]},{id:2,name:"Pro",price:79.9,features:["5 Visions","10 Agentes","Automações Avançadas"]},{id:3,name:"Enterprise",price:199.9,features:["Visions Ilimitadas","Agentes Ilimitados","API Completa"]}],affiliates:[{id:1,name:"Afiliado Demo",commission:30,status:"active"}],llms:[{id:1,model:"gpt-4",provider:"openai",status:"active"},{id:2,model:"claude-3",provider:"anthropic",status:"active"}],platformConfig:{theme:"dark",features:{voice:!0,analytics:!0,debug:!0},version:"2.1.4"},lastSync:(new Date).toISOString(),syncInProgress:!1};return n(t),l(Oo,t),t}const[a,i,o,c,d,u,h,m,p]=await Promise.allSettled([uo.list().catch(e=>[]),yo.filter({created_by:e||"anonymous"}).catch(e=>[]),ho.list().catch(e=>[]),mo.list().catch(e=>[]),po.list().catch(e=>[]),fo.list().catch(e=>[]),vo.list().catch(e=>[]),bo.list().catch(e=>[]),jo.list().catch(e=>[])]),f={users:"fulfilled"===a.status?a.value:[],visions:"fulfilled"===i.status?i.value:[],agents:"fulfilled"===o.status?o.value:[],routines:"fulfilled"===c.status?c.value:[],integrations:"fulfilled"===d.status?d.value:[],plans:"fulfilled"===u.status?u.value:[],affiliates:"fulfilled"===h.status?h.value:[],llms:"fulfilled"===m.status?m.value:[],platformConfig:"fulfilled"===p.status&&p.value[0]||null,lastSync:(new Date).toISOString(),syncInProgress:!1};return n(f),l(Oo,f),f}catch(r){n(e=>({...e,syncInProgress:!1})),s(!1);const e={users:[],visions:[],agents:[],routines:[],integrations:[],plans:[],affiliates:[],llms:[],platformConfig:null,lastSync:(new Date).toISOString(),syncInProgress:!1};return n(e),e}},[l,t]),u=at.useCallback(async(e,t=null)=>{try{let r=[];const a=t?{created_by:t}:{};switch(e){case"users":r=await uo.list(),n(e=>({...e,users:r}));break;case"visions":r=t?await yo.filter({...a,created_by:t}):await yo.filter({created_by:"anonymous"}),n(e=>({...e,visions:r}));break;case"agents":r=t?await ho.filter(a):await ho.list(),n(e=>({...e,agents:r}));break;case"routines":r=t?await mo.filter(a):await mo.list(),n(e=>({...e,routines:r}));break;case"integrations":r=await po.list(),n(e=>({...e,integrations:r}));break;case"plans":r=await fo.list(),n(e=>({...e,plans:r}));break;case"affiliates":r=await vo.list(),n(e=>({...e,affiliates:r}));break;case"llms":r=await bo.list(),n(e=>({...e,llms:r}));break;default:return}return l(`${e}_updated`,r),r}catch(r){throw r}},[l]),h=at.useCallback(async(e,t=[])=>{try{if(!e)return await d();const r=await co.syncData(e,t);return r&&r.data&&(n(e=>({...e,...r.data,lastSync:(new Date).toISOString()})),l(Ao,r.data)),r}catch(r){return await d()}},[d,l]),m=at.useCallback(()=>{const{users:e,visions:r,agents:n,routines:a,plans:s,affiliates:i}=t;return e&&r&&n&&a&&s&&i?{totalUsers:e.length,activeVisions:r.filter(e=>"active"===e.status).length,totalAgents:n.length,activeRoutines:a.filter(e=>e.is_active).length,totalRevenue:e.reduce((e,t)=>{const r=s.find(e=>e.id===t.plan_id);return e+((null==r?void 0:r.price)||0)},0),totalAffiliates:i.length,totalInteractions:r.reduce((e,t)=>e+(t.total_interactions||0),0)}:{totalUsers:0,activeVisions:0,totalAgents:0,activeRoutines:0,totalRevenue:0,totalAffiliates:0,totalInteractions:0}},[t]),p=at.useCallback(async(e,t,r)=>{try{let n;switch(e){case"user":n=uo;break;case"vision":n=yo;break;case"agent":n=ho;break;case"routine":n=mo;break;case"integration":n=po;break;case"plan":n=fo;break;case"affiliate":n=vo;break;case"llm":n=bo;break;default:throw new Error(`Tipo de entidade desconhecido: ${e}`)}const a=await n.update(t,r);return await u(`${e}s`),l(`${e}_updated`,a),a}catch(n){throw n}},[u,l]);at.useEffect(()=>{let e=!0;const t=setTimeout(()=>{e&&d().catch(e=>{})},2e3);return()=>{e=!1,clearTimeout(t)}},[d]);const f={globalData:t,isOnline:a,syncInProgress:t.syncInProgress,lastSync:t.lastSync,syncAllData:d,syncModule:u,smartSync:h,emit:l,on:c,getStats:m,stats:m(),updateEntity:p,refreshAll:d,data:t};return r.jsx(So.Provider,{value:f,children:e})};function Po(){const{globalData:e}=ko(),[t,a]=at.useState(!1),[i]=at.useState(!1),[o,d]=at.useState(!0),[p]=at.useState(!0),[f,g]=at.useState("neutro"),[j,w]=at.useState([]),[N,_]=at.useState(null),S=at.useMemo(()=>e.agents||[],[e.agents]),[k]=at.useState({name:"Paulo Silva",visionName:"ATHENA",visionCoreId:"VC-001"}),O={version:"2.1.4",uptime:"72h 15m",activeAgents:S.length,tasksCompleted:847,efficiency:94};at.useEffect(()=>{if(!t)return;const e=["neutro","sorriso","atento","pensativo","confiante"];let r=0;const n=setInterval(()=>{r=(r+1)%e.length,g(e[r])},3e3);return()=>clearInterval(n)},[t]);const A=at.useCallback(()=>{a(e=>!e)},[o]),C=at.useCallback(e=>{const t=S.find(t=>t.id===e);t&&w(r=>r.find(t=>t.id===e)?r.filter(t=>t.id!==e):[...r,t])},[S]),P=at.useCallback(e=>{_((null==N?void 0:N.id)===e.id?null:e)},[N]);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-blue-950/10 to-purple-950/10 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((e,t)=>r.jsx(n.div,{className:"absolute w-1 h-1 bg-blue-400/20 rounded-full",animate:{x:[0,100*Math.random(),0],y:[0,100*Math.random(),0],opacity:[0,1,0]},transition:{duration:10+10*Math.random(),repeat:1/0,ease:"linear"},style:{left:100*Math.random()+"%",top:100*Math.random()+"%"}},t))}),r.jsx("div",{className:"relative z-10 p-6",children:r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(u,{className:"w-8 h-8 text-blue-400"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-cyan-400 bg-clip-text text-transparent",children:"AUTVISION"}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Vision Core ",O.version]})]})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full "+(p?"bg-green-400":"bg-red-400")}),r.jsx("span",{className:"text-sm text-gray-300",children:p?"Online":"Offline"})]}),r.jsx(Vi,{variant:"ghost",size:"sm",onClick:()=>d(!o),className:"text-gray-400 hover:text-white",children:o?r.jsx(c,{className:"w-4 h-4"}):r.jsx(h,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:r.jsx(s,{className:"w-4 h-4"})})]})]})}),r.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6",children:[r.jsxs("div",{className:"flex flex-col items-center mb-4 sm:mb-6",children:[r.jsxs(n.div,{className:"relative mb-0 sm:mb-1 z-50 cursor-pointer",onClick:A,whileHover:{scale:1.05},whileTap:{scale:.95},animate:{y:[-10,10,-10],rotateY:[0,5,0,-5,0],scale:t?[1,1.05,1]:[1,1.02,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:[t&&r.jsx("div",{className:"absolute inset-0 rounded-full blur-3xl bg-gradient-to-r from-blue-400/50 to-purple-400/50 scale-[1.8]"}),r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:"/assets/images/vision/vision.PNG",alt:"Vision",className:"w-[300px] h-[300px] sm:w-[400px] sm:h-[400px] lg:w-[500px] lg:h-[500px] xl:w-[550px] xl:h-[550px] object-contain",style:{background:"transparent",filter:"brightness(1.15) contrast(1.15) saturate(1.15) drop-shadow(0 0 40px rgba(59, 130, 246, 0.4))",..."sorriso"===f&&{filter:"brightness(1.3) contrast(1.2) saturate(1.3) hue-rotate(10deg) drop-shadow(0 0 50px rgba(255, 215, 0, 0.5))"},..."atento"===f&&{filter:"brightness(1.2) contrast(1.3) saturate(1.2) drop-shadow(0 0 45px rgba(0, 255, 255, 0.4))"},..."pensativo"===f&&{filter:"brightness(1.1) contrast(1.1) saturate(1.0) drop-shadow(0 0 35px rgba(147, 51, 234, 0.4))"},..."confiante"===f&&{filter:"brightness(1.25) contrast(1.25) saturate(1.25) drop-shadow(0 0 55px rgba(34, 197, 94, 0.5))"}},onError:e=>{e.target.style.display="none"}}),t&&r.jsx(n.div,{className:"absolute -top-2 -right-2 w-4 h-4 bg-green-400 rounded-full",animate:{opacity:[1,.5,1],scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}}),i&&r.jsx(n.div,{className:"absolute -bottom-2 -left-2 w-6 h-6 bg-red-400 rounded-full flex items-center justify-center",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0},children:r.jsx(m,{className:"w-3 h-3 text-white"})})]}),t&&r.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((e,t)=>r.jsx(n.div,{className:"absolute w-2 h-2 bg-blue-400/60 rounded-full",animate:{x:[0,180*Math.cos(45*t*Math.PI/180)],y:[0,180*Math.sin(45*t*Math.PI/180)],opacity:[0,1,0]},transition:{duration:3,repeat:1/0,delay:.2*t,ease:"easeOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},t))})]}),r.jsxs("div",{className:"text-center relative z-50 -mt-12 sm:-mt-16",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-cyan-400 bg-clip-text text-transparent mb-1",children:k.visionName}),r.jsx("p",{className:"text-sm sm:text-base text-gray-400 mb-1",children:"Seu Assistente de Automação Inteligente"}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 sm:space-x-3 flex-wrap gap-2",children:[r.jsx(Wi,{variant:t?"default":"secondary",className:"bg-blue-500/20 text-blue-300 border-blue-500/30 text-xs sm:text-sm",children:t?"Ativo":"Inativo"}),r.jsxs(Wi,{variant:"outline",className:"border-purple-500/30 text-purple-300 text-xs sm:text-sm",children:[O.activeAgents," Agentes"]}),r.jsxs(Wi,{variant:"outline",className:"border-green-500/30 text-green-300 text-xs sm:text-sm",children:[O.efficiency,"% Eficiência"]})]})]})]}),r.jsx("div",{className:"mb-4 sm:mb-6",children:r.jsx(io,{className:"relative z-40",size:"compact",showAvatar:!1,autoSpeak:!0})}),r.jsxs("div",{className:"mb-4 sm:mb-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-2",children:"Agentes Disponíveis"}),r.jsx("p",{className:"text-gray-400 text-xs sm:text-sm px-2",children:"Clique nos agentes para ativá-los e trabalhar com o Vision"})]}),r.jsx("div",{className:"flex justify-center items-center space-x-2 sm:space-x-4 mb-6 flex-wrap gap-2",children:S.map(e=>{const t=j.find(t=>t.id===e.id),a=(null==N?void 0:N.id)===e.id;return r.jsxs(n.div,{className:"relative cursor-pointer group",onClick:()=>{P(e),C(e.id)},whileHover:{scale:1.1,y:-10},whileTap:{scale:.95},animate:{y:t?[-3,3,-3]:0,rotate:t?[-1,1,-1]:0},transition:{duration:t?3:.3,repeat:t?1/0:0,ease:"easeInOut"},children:[t&&r.jsx("div",{className:"absolute inset-0 rounded-full blur-lg bg-gradient-to-r from-green-400/30 to-blue-400/30 scale-150"}),r.jsxs("div",{className:`relative w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 sm:border-4 transition-all duration-300 ${t?"border-green-400/70 bg-gradient-to-br from-green-500/20 to-blue-500/20":"border-gray-500/30 bg-gradient-to-br from-gray-700/50 to-gray-600/50 hover:border-blue-400/50"} overflow-hidden backdrop-blur-sm`,children:[e.image_url||e.image?r.jsx("img",{src:e.image_url||e.image,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:`w-full h-full rounded-full flex items-center justify-center text-lg sm:text-xl ${t?"bg-green-400/20":"bg-gray-600/30"} ${e.image_url||e.image?"hidden":"flex"}`,children:"🤖"}),t&&r.jsx(n.div,{className:"absolute -top-1 -right-1 w-4 h-4 sm:w-6 sm:h-6 bg-green-400 rounded-full border-2 border-gray-900 flex items-center justify-center",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:r.jsx(x,{className:"w-2 h-2 sm:w-3 sm:h-3 text-gray-900"})}),a&&!t&&r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-blue-400 rounded-full border-2 border-gray-900"})]}),r.jsx(n.div,{className:"absolute -bottom-6 sm:-bottom-8 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},children:r.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-sm px-2 sm:px-3 py-1 rounded-lg border border-gray-600/30 max-w-32 sm:max-w-none",children:[r.jsx("p",{className:"text-white text-xs sm:text-sm font-medium truncate",children:e.name}),r.jsx("p",{className:"text-gray-400 text-xs truncate hidden sm:block",children:e.description||e.type||"Agente IA"})]})}),t&&r.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(4)].map((e,t)=>r.jsx(n.div,{className:"absolute w-1 h-1 bg-green-400/60 rounded-full",animate:{x:[0,60*Math.cos(90*t*Math.PI/180)],y:[0,60*Math.sin(90*t*Math.PI/180)],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},t))})]},e.id)})}),j.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-green-900/20 to-green-800/20 border border-green-500/30 rounded-lg p-4 mb-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("h4",{className:"font-semibold text-green-300 flex items-center",children:[r.jsx(x,{className:"w-4 h-4 mr-2"}),"Agentes Ativos (",j.length,")"]})}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(e=>r.jsxs(Wi,{className:"bg-green-500/20 text-green-300 border-green-500/30 flex items-center space-x-1",children:[r.jsx("span",{children:e.avatar}),r.jsx("span",{children:e.name}),r.jsxs("span",{className:"text-xs",children:["(",e.type,")"]})]},e.id))})]}),N&&r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4 bg-gradient-to-br from-blue-900/20 to-blue-800/20 border border-blue-500/30 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"font-semibold text-blue-300 flex items-center",children:[r.jsx("span",{className:"mr-2",children:N.avatar}),N.name]}),r.jsx(Wi,{className:"bg-blue-500/20 text-blue-300 border-blue-500/30",children:N.type})]}),r.jsx("p",{className:"text-gray-300 text-sm mb-3",children:N.description}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Vi,{onClick:()=>C(N),size:"sm",className:j.find(e=>e.id===N.id)?"bg-red-500/20 hover:bg-red-500/30 text-red-300 border-red-500/30":"bg-green-500/20 hover:bg-green-500/30 text-green-300 border-green-500/30",children:j.find(e=>e.id===N.id)?"Desativar":"Ativar"}),r.jsx(Vi,{onClick:()=>_(null),size:"sm",variant:"outline",className:"border-gray-500/30 text-gray-300 hover:bg-gray-700/30",children:"Fechar"})]})]})]}),r.jsxs("div",{className:"mt-12 sm:mt-16 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(_i,{className:"bg-gradient-to-br from-gray-900/40 to-gray-800/40 border-gray-700/30 backdrop-blur-sm",children:r.jsxs(Ai,{className:"p-4 text-center",children:[r.jsx(x,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),r.jsx("h4",{className:"font-semibold text-white mb-1",children:"Uptime"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:O.uptime})]})}),r.jsx(_i,{className:"bg-gradient-to-br from-gray-900/40 to-gray-800/40 border-gray-700/30 backdrop-blur-sm",children:r.jsxs(Ai,{className:"p-4 text-center",children:[r.jsx(y,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("h4",{className:"font-semibold text-white mb-1",children:"Tarefas"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:O.tasksCompleted})]})}),r.jsx(_i,{className:"bg-gradient-to-br from-gray-900/40 to-gray-800/40 border-gray-700/30 backdrop-blur-sm",children:r.jsxs(Ai,{className:"p-4 text-center",children:[r.jsx(l,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),r.jsx("h4",{className:"font-semibold text-white mb-1",children:"Agentes"}),r.jsx("p",{className:"text-2xl font-bold text-blue-400",children:O.activeAgents})]})})]}),r.jsx("footer",{className:"mt-16 sm:mt-20 pt-8 border-t border-gray-700/30",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{children:"Vision Core Online"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(v,{className:"w-4 h-4"}),r.jsxs("span",{children:["Última sincronização: ",(new Date).toLocaleTimeString()]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(b,{className:"w-4 h-4"}),r.jsx("span",{children:"Sistema operacional"})]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsx("p",{children:"AutVision AI © 2024 - Plataforma de Automação Inteligente"}),r.jsxs("p",{className:"mt-1",children:["Versão 2.0 | Build ",(new Date).getFullYear(),".",String((new Date).getMonth()+1).padStart(2,"0")]})]})]})})]})]})}function Eo(){const[e,t]=at.useState(null),[n,a]=at.useState(!0),s=st(),i=at.useCallback(async()=>{try{let r;a(!0);try{r=await uo.me()}catch(e){r={id:"mock-user-1",name:"Usuário Demo",email:"demo@autvision.ai"}}const n={id:(null==r?void 0:r.id)||"mock-user-1",name:(null==r?void 0:r.name)||"Paulo Silva",email:(null==r?void 0:r.email)||"paulo@autvision.ai",level:(null==r?void 0:r.level)||3,currentXP:(null==r?void 0:r.currentXP)||750,nextLevelXP:(null==r?void 0:r.nextLevelXP)||1e3,totalActions:(null==r?void 0:r.totalActions)||142,timeSaved:(null==r?void 0:r.timeSaved)||"8h 30min",streak:(null==r?void 0:r.streak)||5,completedMissions:(null==r?void 0:r.completedMissions)||7,totalMissions:(null==r?void 0:r.totalMissions)||12,weeklyGoal:(null==r?void 0:r.weeklyGoal)||50,weeklyProgress:(null==r?void 0:r.weeklyProgress)||32,visionCompanionId:(null==r?void 0:r.visionCompanionId)||null};t(n)}catch(r){t({id:"fallback-user",name:"Usuário Offline",email:"offline@autvision.ai",level:1,currentXP:0,nextLevelXP:100,totalActions:0,timeSaved:"0h 0min",streak:0,completedMissions:0,totalMissions:5,weeklyGoal:10,weeklyProgress:0,visionCompanionId:null})}finally{a(!1)}},[]);return at.useEffect(()=>{i()},[i]),n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-black flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-white text-lg",children:"Carregando AUTVISION..."}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Conectando com seu Vision Companion"})]})}):e?r.jsx(Po,{}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-black flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Erro de Autenticação"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Não foi possível carregar seus dados."}),r.jsx("button",{onClick:()=>s("/login"),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Fazer Login"})]})})}Co.propTypes={children:It.node.isRequired};var To=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Ii(`Primitive.${t}`),a=at.forwardRef((e,a)=>{const{asChild:s,...i}=e,o=s?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),r.jsx(o,{...i,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});var Io=at.forwardRef((e,t)=>r.jsx(To.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Io.displayName="Label";var Mo=Io;const Ro=Bi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Do=at.forwardRef(({className:e,...t},n)=>r.jsx(Mo,{ref:n,className:Ni(Ro(),e),...t}));Do.displayName=Mo.displayName;const Lo=Bi("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),zo=at.forwardRef(({className:e,variant:t,...n},a)=>r.jsx("div",{ref:a,role:"alert",className:Ni(Lo({variant:t}),e),...n}));zo.displayName="Alert";at.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Ni("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";const $o=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ni("text-sm [&_p]:leading-relaxed",e),...t}));function Uo(){const e=st(),{signIn:t,signInWithGoogle:a,signInWithGitHub:s,resetPassword:i,loading:o,initializing:l,error:c,clearError:d}=fs(),[u,h]=at.useState({email:"",password:""}),[m,p]=at.useState(!1),[g,x]=at.useState(!1),[y,v]=at.useState(""),[b,O]=at.useState(!1),A=(e,t)=>{h(r=>({...r,[e]:t})),c&&d()},C=async t=>{var r;try{let n;"google"===t?n=await a():"github"===t&&(n=await s()),await new Promise(e=>setTimeout(e,500));const i=(null==(r=null==n?void 0:n.user)?void 0:r.email)||"";e("digitalinfluenceradm@gmail.com"===i?"/Admin":"/client")}catch(n){}},P=async e=>{e.preventDefault();try{await i(y),O(!0)}catch(t){}};return l?r.jsx("div",{className:"min-h-screen bg-black text-white overflow-hidden relative flex items-center justify-center p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(f,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-400"}),r.jsx("p",{className:"text-gray-400",children:"Inicializando aplicação..."})]})}):g?r.jsxs("div",{className:"min-h-screen bg-black text-white overflow-hidden relative flex items-center justify-center p-6",children:[r.jsxs("div",{className:"fixed inset-0 z-0",children:[r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"}),r.jsx(n.div,{className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.div,{className:"absolute bottom-20 right-20 w-96 h-96 bg-gradient-to-r from-indigo-500/20 to-blue-500/20 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,60,0],scale:[1,.8,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}})]}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative z-10 w-full max-w-md",children:r.jsxs(_i,{className:"bg-gray-900/10 backdrop-blur-xl border border-white/10 shadow-2xl",children:[r.jsxs(Si,{className:"text-center space-y-2",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"/assets/images/autvision-logo.jpeg",alt:"AutVision",className:"w-16 h-16 object-contain"})}),r.jsx(ki,{className:"text-2xl font-bold text-white",children:"Recuperar Senha"}),r.jsx("p",{className:"text-gray-400",children:"Digite seu email para receber o link de recuperação"})]}),r.jsx(Ai,{children:b?r.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto",children:r.jsx(j,{className:"w-8 h-8 text-green-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Email enviado!"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Verifique sua caixa de entrada e siga as instruções."})]}),r.jsx(Vi,{variant:"outline",onClick:()=>x(!1),className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Voltar ao Login"})]}):r.jsxs("form",{onSubmit:P,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"reset-email",className:"text-gray-300",children:"Email"}),r.jsx(Hi,{id:"reset-email",type:"email",value:y,onChange:e=>v(e.target.value),className:"bg-gray-800 border-gray-600 text-white mt-1",placeholder:"seu@email.com",required:!0})]}),c&&r.jsx(zo,{className:"bg-red-500/10 border-red-500/50",children:r.jsx($o,{className:"text-red-400",children:c})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Vi,{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700",children:[o?r.jsx(f,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(j,{className:"w-4 h-4 mr-2"}),"Enviar Link de Recuperação"]}),r.jsx(Vi,{type:"button",variant:"outline",onClick:()=>x(!1),className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancelar"})]})]})})]})})]}):r.jsxs("div",{className:"min-h-screen bg-black text-white overflow-hidden relative flex items-center justify-center p-6",children:[r.jsxs("div",{className:"fixed inset-0 z-0",children:[r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"}),r.jsx(n.div,{className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.div,{className:"absolute bottom-20 right-20 w-96 h-96 bg-gradient-to-r from-indigo-500/20 to-blue-500/20 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,60,0],scale:[1,.8,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}})]}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative z-10 w-full max-w-md",children:r.jsxs(_i,{className:"bg-gray-900/10 backdrop-blur-xl border border-white/10 shadow-2xl",children:[r.jsxs(Si,{className:"text-center space-y-2",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"/assets/images/autvision-logo.jpeg",alt:"AutVision",className:"w-16 h-16 object-contain"})}),r.jsx(ki,{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Entrar no AutVision"}),r.jsx("p",{className:"text-gray-400",children:"Acesse sua conta e continue automatizando sua vida"})]}),r.jsxs(Ai,{className:"space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsxs(ot,{to:"/LandingPage",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[r.jsx(w,{className:"w-4 h-4"}),"Voltar ao início"]})}),c&&r.jsx(zo,{className:"bg-red-500/10 border-red-500/50",children:r.jsx($o,{className:"text-red-400",children:c})}),r.jsxs("form",{onSubmit:async r=>{var n;r.preventDefault();try{const r=await t(u.email,u.password);await new Promise(e=>setTimeout(e,500));const a="digitalinfluenceradm@gmail.com"===u.email||"digitalinfluenceradm@gmail.com"===(null==(n=null==r?void 0:r.user)?void 0:n.email);e(a?"/Admin":"/client")}catch(a){}},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"email",className:"text-gray-300",children:"Email"}),r.jsx(Hi,{id:"email",type:"email",value:u.email,onChange:e=>A("email",e.target.value),className:"bg-gray-800 border-gray-600 text-white mt-1",placeholder:"seu@email.com",required:!0})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"password",className:"text-gray-300",children:"Senha"}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx(Hi,{id:"password",type:m?"text":"password",value:u.password,onChange:e=>A("password",e.target.value),className:"bg-gray-800 border-gray-600 text-white pr-10",placeholder:"••••••••",required:!0}),r.jsx(Vi,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(!m),className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-white",children:m?r.jsx(N,{className:"w-4 h-4"}):r.jsx(_,{className:"w-4 h-4"})})]})]}),r.jsx(Vi,{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:scale-105 text-white font-semibold transition-all duration-300",children:o?r.jsxs(r.Fragment,{children:[r.jsx(f,{className:"w-4 h-4 animate-spin mr-2"}),"Entrando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(S,{className:"w-4 h-4 mr-2"}),"Entrar"]})}),r.jsx(Vi,{type:"button",variant:"link",onClick:()=>x(!0),className:"w-full text-blue-400 hover:text-blue-300",children:"Esqueceu sua senha?"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t border-gray-700"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-gray-900 px-2 text-gray-400",children:"Ou continue com"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs(Vi,{type:"button",variant:"outline",onClick:()=>C("google"),disabled:o,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),r.jsxs(Vi,{type:"button",variant:"outline",onClick:()=>C("github"),disabled:o,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(k,{className:"w-4 h-4 mr-2"}),"GitHub"]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-gray-400",children:["Ainda não tem uma conta?"," ",r.jsx(ot,{to:"/SignUp",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Criar conta grátis"})]})})]})]})})]})}function Bo(e){return"/"+e.replace(/ /g,"-")}function Fo(){const e=st(),{signUp:t,signInWithGoogle:a,signInWithGitHub:s,loading:i,error:o,clearError:c}=fs(),[d,u]=at.useState({fullName:"",email:"",password:"",confirmPassword:""}),[h,m]=at.useState(!1),[g,x]=at.useState(!1),[y,v]=at.useState(!1),b=(e,t)=>{u(r=>({...r,[e]:t})),o&&c()},S=async t=>{try{"google"===t?await a():"github"===t&&await s(),e("/client")}catch(r){}};return y?r.jsxs("div",{className:"min-h-screen bg-black text-white overflow-hidden relative flex items-center justify-center p-6",children:[r.jsxs("div",{className:"fixed inset-0 z-0",children:[r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"}),r.jsx(n.div,{className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.div,{className:"absolute bottom-20 right-20 w-96 h-96 bg-gradient-to-r from-indigo-500/20 to-blue-500/20 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,60,0],scale:[1,.8,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}})]}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative z-10 w-full max-w-md",children:r.jsxs(_i,{className:"bg-gray-900/10 backdrop-blur-xl border border-white/10 shadow-2xl",children:[r.jsxs(Si,{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:r.jsx(p,{className:"w-8 h-8 text-white"})})}),r.jsx(ki,{className:"text-2xl font-bold text-white",children:"Bem-vindo ao AutVision!"}),r.jsx("p",{className:"text-gray-400",children:"Sua conta foi criada com sucesso. Verifique seu email para ativar sua conta."})]}),r.jsx(Ai,{className:"space-y-4",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"p-4 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[r.jsx(j,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),r.jsx("p",{className:"text-blue-300 font-medium",children:"Email de confirmação enviado!"}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Clique no link do email para ativar sua conta"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Vi,{onClick:()=>e("/Login"),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:scale-105 text-white font-semibold transition-all duration-300",children:"Ir para Login"}),r.jsx(ot,{to:Bo("LandingPage"),className:"block text-center text-gray-400 hover:text-white transition-colors",children:"Voltar ao início"})]})]})})]})})]}):r.jsxs("div",{className:"min-h-screen bg-black text-white overflow-hidden relative flex items-center justify-center p-6",children:[r.jsxs("div",{className:"fixed inset-0 z-0",children:[r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"}),r.jsx(n.div,{className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.div,{className:"absolute bottom-20 right-20 w-96 h-96 bg-gradient-to-r from-indigo-500/20 to-blue-500/20 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,60,0],scale:[1,.8,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}})]}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative z-10 w-full max-w-md",children:r.jsxs(_i,{className:"bg-gray-900/10 backdrop-blur-xl border border-white/10 shadow-2xl",children:[r.jsxs(Si,{className:"text-center space-y-2",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"/assets/images/autvision-logo.png",alt:"AutVision",className:"w-16 h-16"})}),r.jsx(ki,{className:"text-2xl font-bold text-white",children:"Criar Conta"}),r.jsx("p",{className:"text-gray-400",children:"Junte-se à revolução da automação inteligente"})]}),r.jsxs(Ai,{className:"space-y-4",children:[o&&r.jsx(zo,{className:"border-red-500/50 bg-red-500/10",children:r.jsx($o,{className:"text-red-400",children:o})}),r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),d.fullName.trim())if(d.email.trim())if(d.password.length<6)alert("A senha deve ter pelo menos 6 caracteres");else if(d.password===d.confirmPassword)try{(await t(d.email,d.password,{full_name:d.fullName})).needsConfirmation&&alert("Cadastro realizado! Verifique seu email para confirmar a conta."),v(!0)}catch(r){let e="Erro desconhecido no cadastro";"EMAIL_ALREADY_EXISTS"===r.code?e="Este email já está cadastrado. Tente fazer login.":"INVALID_EMAIL"===r.code?e="Email inválido. Verifique o formato.":"INVALID_PASSWORD"===r.code?e="Senha deve ter pelo menos 6 caracteres.":"RATE_LIMIT"===r.code?e="Muitas tentativas. Aguarde alguns minutos.":"DATABASE_ERROR"===r.code?e="Erro interno do servidor. Tente novamente em alguns minutos.":"CONNECTION_ERROR"===r.code?e="Erro de conexão. Verifique sua internet.":r.message&&(e=r.message),alert(e)}else alert("As senhas não coincidem");else alert("Por favor, insira seu email");else alert("Por favor, insira seu nome completo")},className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Do,{htmlFor:"fullName",className:"text-gray-300",children:"Nome Completo"}),r.jsxs("div",{className:"relative",children:[r.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx(Hi,{id:"fullName",type:"text",placeholder:"Seu nome completo",value:d.fullName,onChange:e=>b("fullName",e.target.value),className:"pl-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Do,{htmlFor:"email",className:"text-gray-300",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx(Hi,{id:"email",type:"email",placeholder:"seu@email.com",value:d.email,onChange:e=>b("email",e.target.value),className:"pl-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Do,{htmlFor:"password",className:"text-gray-300",children:"Senha"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hi,{id:"password",type:h?"text":"password",placeholder:"Sua senha",value:d.password,onChange:e=>b("password",e.target.value),className:"pr-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",required:!0}),r.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:h?r.jsx(N,{className:"w-4 h-4"}):r.jsx(_,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Do,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirmar Senha"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hi,{id:"confirmPassword",type:g?"text":"password",placeholder:"Confirme sua senha",value:d.confirmPassword,onChange:e=>b("confirmPassword",e.target.value),className:"pr-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",required:!0}),r.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:g?r.jsx(N,{className:"w-4 h-4"}):r.jsx(_,{className:"w-4 h-4"})})]})]}),r.jsx(Vi,{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:scale-105 text-white font-semibold transition-all duration-300",children:i?r.jsxs(r.Fragment,{children:[r.jsx(f,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar Conta"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t border-gray-600"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-gray-900 px-2 text-gray-400",children:"Ou continue com"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs(Vi,{type:"button",variant:"outline",onClick:()=>S("google"),disabled:i,className:"border-gray-600 bg-gray-800/50 text-white hover:bg-gray-700",children:[r.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),r.jsxs(Vi,{type:"button",variant:"outline",onClick:()=>S("github"),disabled:i,className:"border-gray-600 bg-gray-800/50 text-white hover:bg-gray-700",children:[r.jsx(k,{className:"mr-2 h-4 w-4"}),"GitHub"]})]}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsxs("p",{className:"text-gray-400 text-sm",children:["Já tem uma conta?"," ",r.jsx(ot,{to:"/Login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Fazer login"})]}),r.jsxs(ot,{to:Bo("LandingPage"),className:"inline-flex items-center text-gray-400 hover:text-white transition-colors text-sm",children:[r.jsx(w,{className:"mr-1 h-4 w-4"}),"Voltar ao início"]})]})]})]})})]})}function Vo(){const[e,t]=at.useState({x:0,y:0});at.useEffect(()=>{const e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]);const a=[{icon:p,title:"IA Avançada",description:"Algoritmos de machine learning que aprendem com seus padrões e otimizam automaticamente seus fluxos de trabalho.",gradient:"from-blue-500 to-cyan-500"},{icon:A,title:"Performance Extrema",description:"Processamento em tempo real com latência ultra-baixa para automações que não podem esperar.",gradient:"from-purple-500 to-pink-500"},{icon:y,title:"Segurança Militar",description:"Criptografia de nível militar e compliance com LGPD, GDPR e SOC 2 Type II.",gradient:"from-green-500 to-emerald-500"},{icon:P,title:"Integração Universal",description:"Conecte-se com mais de 5000+ aplicações e serviços através de nossa API robusta.",gradient:"from-blue-500 to-indigo-500"}];return r.jsxs("div",{className:"min-h-screen bg-black text-white overflow-hidden relative",children:[r.jsxs("div",{className:"fixed inset-0 z-0",children:[r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"}),r.jsx(n.div,{className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.div,{className:"absolute bottom-20 right-20 w-96 h-96 bg-gradient-to-r from-indigo-500/20 to-blue-500/20 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,60,0],scale:[1,.8,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.div,{className:"absolute w-6 h-6 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full blur-sm pointer-events-none",animate:{x:e.x-12,y:e.y-12},transition:{type:"spring",damping:30,stiffness:200}})]}),r.jsx(n.header,{className:"relative z-50 border-b border-white/10 backdrop-blur-xl bg-black/50",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:r.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[r.jsx(n.div,{className:"flex items-center",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400},children:r.jsx("img",{src:"/assets/images/autvision-logo.jpeg",alt:"AutVision Logo",className:"w-10 h-10 rounded-xl object-cover"})}),r.jsxs("nav",{className:"hidden md:flex space-x-8",children:[["Recursos","Preços","Sobre","Contato"].map((e,t)=>r.jsxs(n.a,{href:`#${e.toLowerCase()}`,className:"text-gray-300 hover:text-white transition-colors relative group",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1*t+.5},children:[e,r.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"})]},e)),r.jsx(ot,{to:"/dashboard",children:r.jsxs(n.span,{className:"text-gray-300 hover:text-white transition-colors relative group cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.9},children:["Dashboard",r.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"})]})})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx(ot,{to:"/login",children:r.jsx(n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(Vi,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10 backdrop-blur-sm",children:"Entrar"})})}),r.jsx(ot,{to:"/SignUp",children:r.jsx(n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsxs(Vi,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0 shadow-lg shadow-blue-500/25",children:["Começar Grátis",r.jsx(p,{className:"w-4 h-4 ml-2"})]})})})]})]})}),r.jsxs("section",{className:"relative z-10 pt-20 pb-32 px-6",children:[r.jsx("div",{className:"container mx-auto text-center",children:r.jsxs(n.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.2},children:[r.jsxs(n.div,{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 mb-8",initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring",stiffness:200},children:[r.jsx(O,{className:"w-4 h-4 text-yellow-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Líder em Automação IA • Mais de 10.000 empresas confiam"})]}),r.jsxs("h1",{className:"text-6xl md:text-8xl font-black mb-8 leading-tight",children:[r.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent",children:"Automatize"}),r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"seu Futuro"})]}),r.jsxs(n.p,{className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-4xl mx-auto leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:["A plataforma de automação inteligente que"," ",r.jsx("span",{className:"text-transparent bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text font-semibold",children:"revoluciona"})," ","a maneira como você trabalha. Conecte, automatize e otimize seus processos com o poder da IA de última geração."]}),r.jsxs(n.div,{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1},children:[r.jsx(ot,{to:"/SignUp",children:r.jsx(n.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"group",children:r.jsxs(Vi,{size:"lg",className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white border-0 shadow-2xl shadow-blue-500/25 px-8 py-4 text-lg font-semibold relative overflow-hidden",children:[r.jsxs("span",{className:"relative z-10 flex items-center",children:["Começar Gratuitamente",r.jsx(A,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]})})}),r.jsx(ot,{to:"/dashboard",children:r.jsx(n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"group cursor-pointer",children:r.jsxs(Vi,{size:"lg",variant:"outline",className:"border-white/20 text-white hover:bg-white/10 backdrop-blur-sm px-8 py-4 text-lg font-semibold",children:[r.jsx(C,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Acessar Plataforma"]})})})]}),r.jsx(n.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1.2},children:[{number:"10K+",label:"Usuários Ativos"},{number:"1M+",label:"Tarefas Automatizadas"},{number:"99.9%",label:"Uptime"},{number:"24/7",label:"Suporte"}].map((e,t)=>r.jsxs(n.div,{className:"text-center group",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:1.4+.1*t},whileHover:{scale:1.05},children:[r.jsx("div",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-2 group-hover:from-purple-400 group-hover:to-pink-400 transition-all duration-300",children:e.number}),r.jsx("div",{className:"text-gray-400 text-sm md:text-base",children:e.label})]},e.label))})]})}),r.jsx(n.div,{className:"absolute top-1/4 left-10 w-20 h-20 bg-gradient-to-r from-blue-500/30 to-purple-500/30 rounded-full blur-xl",animate:{y:[0,-20,0],scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.div,{className:"absolute top-1/3 right-16 w-16 h-16 bg-gradient-to-r from-pink-500/30 to-orange-500/30 rounded-full blur-xl",animate:{y:[0,15,0],scale:[1,.9,1],opacity:[.4,.7,.4]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}})]}),r.jsxs("section",{className:"relative py-32 px-6",children:[r.jsxs("div",{className:"container mx-auto",children:[r.jsxs(n.div,{className:"text-center mb-20",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[r.jsxs(n.div,{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 mb-6",initial:{scale:0},whileInView:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},viewport:{once:!0},children:[r.jsx(p,{className:"w-4 h-4 text-purple-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Recursos Revolucionários"})]}),r.jsxs("h2",{className:"text-5xl md:text-6xl font-black mb-6",children:[r.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Poder"}),r.jsxs("span",{className:"bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500 bg-clip-text text-transparent",children:[" ","Ilimitado"]})]}),r.jsxs("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:["Descubra como nossa plataforma de IA pode"," ",r.jsx("span",{className:"text-transparent bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text font-semibold",children:"transformar completamente"})," ","seus processos de trabalho e elevar sua produtividade a níveis extraordinários."]})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((e,t)=>{const a=e.icon;return r.jsx(n.div,{className:"group relative",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.1*t,duration:.6},viewport:{once:!0},whileHover:{y:-10},children:r.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/50 to-black/50 backdrop-blur-xl border border-white/10 p-8 rounded-2xl h-full overflow-hidden group-hover:border-white/20 transition-all duration-500",children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),r.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${e.gradient} p-0.5 mb-6 group-hover:scale-110 transition-transform duration-300`,children:r.jsx("div",{className:"w-full h-full bg-black rounded-2xl flex items-center justify-center",children:r.jsx(a,{className:"w-8 h-8 text-white"})})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4 group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-white group-hover:to-gray-300 group-hover:bg-clip-text transition-all duration-300",children:e.title}),r.jsx("p",{className:"text-gray-400 leading-relaxed group-hover:text-gray-300 transition-colors duration-300",children:e.description}),r.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/20 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-500"}),r.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-white/20 rounded-full opacity-0 group-hover:opacity-100 group-hover:animate-ping transition-opacity duration-300"}),r.jsx("div",{className:"absolute bottom-6 left-6 w-1 h-1 bg-white/30 rounded-full opacity-0 group-hover:opacity-100 group-hover:animate-pulse transition-opacity duration-300 delay-100"})]})},e.title)})}),r.jsx(n.div,{className:"mt-20 grid md:grid-cols-3 gap-8",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.8},viewport:{once:!0},children:[{icon:E,title:"Colaboração em Tempo Real",description:"Trabalhe em equipe com sincronização instantânea e controle de versão avançado."},{icon:T,title:"Analytics Avançado",description:"Insights profundos sobre performance e otimizações automáticas baseadas em dados."},{icon:i,title:"Confiabilidade 99.9%",description:"Infraestrutura robusta com redundância global e monitoramento 24/7."}].map((e,t)=>{const a=e.icon;return r.jsxs(n.div,{className:"group text-center",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{delay:.1*t+.6,duration:.5},viewport:{once:!0},whileHover:{scale:1.05},children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 flex items-center justify-center group-hover:border-purple-500/50 transition-all duration-300",children:r.jsx(a,{className:"w-10 h-10 text-blue-400 group-hover:text-purple-400 transition-colors duration-300"})}),r.jsx("h4",{className:"text-xl font-semibold text-white mb-3 group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-blue-400 group-hover:to-purple-400 group-hover:bg-clip-text transition-all duration-300",children:e.title}),r.jsx("p",{className:"text-gray-400 group-hover:text-gray-300 transition-colors duration-300",children:e.description})]},e.title)})})]}),r.jsx("div",{className:"absolute top-1/4 left-0 w-72 h-72 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-1/4 right-0 w-96 h-96 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 rounded-full blur-3xl"})]}),r.jsxs("section",{className:"relative py-32 px-6 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20"}),r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-transparent via-black/50 to-black"}),r.jsx("div",{className:"container mx-auto text-center relative z-10",children:r.jsxs(n.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[r.jsxs("h2",{className:"text-5xl md:text-7xl font-black mb-8",children:[r.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Pronto para"}),r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Revolucionar?"})]}),r.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-3xl mx-auto",children:["Junte-se a milhares de empresas que já transformaram seus processos com AutVision.",r.jsx("span",{className:"block mt-2 text-lg text-gray-400",children:"Comece gratuitamente hoje mesmo."})]}),r.jsxs(n.div,{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.6},viewport:{once:!0},children:[r.jsx(ot,{to:"/SignUp",children:r.jsx(n.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"group",children:r.jsxs(Vi,{size:"lg",className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white border-0 shadow-2xl shadow-purple-500/25 px-12 py-6 text-xl font-bold relative overflow-hidden",children:[r.jsxs("span",{className:"relative z-10 flex items-center",children:["Começar Agora - Grátis",r.jsx(A,{className:"w-6 h-6 ml-3 group-hover:translate-x-1 transition-transform"})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]})})}),r.jsxs(n.div,{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"✨ Sem cartão de crédito • Configuração em 2 minutos"}),r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[[...Array(5)].map((e,t)=>r.jsx(O,{className:"w-4 h-4 text-yellow-400 fill-current"},t)),r.jsx("span",{className:"text-sm text-gray-300 ml-2",children:"4.9/5 • 2.000+ avaliações"})]})]})]})]})}),r.jsx(n.div,{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-2xl",animate:{y:[0,-30,0],scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.div,{className:"absolute bottom-20 right-20 w-40 h-40 bg-gradient-to-r from-pink-500/20 to-orange-500/20 rounded-full blur-2xl",animate:{y:[0,20,0],scale:[1,.8,1],opacity:[.4,.7,.4]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:1}})]}),r.jsxs("footer",{className:"relative bg-black border-t border-white/10 py-8 px-6",children:[r.jsxs("div",{className:"container mx-auto",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"md:col-span-1",children:[r.jsx(n.div,{className:"flex items-center mb-3",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:r.jsx("img",{src:"/assets/images/autvision-logo.jpeg",alt:"AutVision Logo",className:"w-6 h-6 rounded object-cover"})}),r.jsx("p",{className:"text-gray-400 text-xs leading-relaxed",children:"Automação inteligente para empresas."})]}),[{title:"Produto",links:["Recursos","Preços"]},{title:"Empresa",links:["Sobre","Contato"]},{title:"Suporte",links:["Ajuda"]}].map((e,t)=>r.jsxs(n.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.1*t+.3,duration:.6},viewport:{once:!0},children:[r.jsxs("h4",{className:"text-white font-semibold text-xs mb-2 relative",children:[e.title,r.jsx("span",{className:"absolute -bottom-1 left-0 w-4 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500"})]}),r.jsx("ul",{className:"space-y-1",children:e.links.map((e,a)=>r.jsx(n.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{delay:.05*a+.1*t+.5,duration:.4},viewport:{once:!0},children:r.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300 text-xs relative group",children:[e,r.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"})]})},e))})]},e.title))]}),r.jsxs(n.div,{className:"border-t border-white/10 pt-4 flex flex-col md:flex-row justify-between items-center",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.8,duration:.6},viewport:{once:!0},children:[r.jsx("p",{className:"text-gray-400 text-xs mb-2 md:mb-0",children:"© 2024 AutVision. Todos os direitos reservados."}),r.jsx("div",{className:"flex space-x-4",children:["Privacidade","Termos"].map((e,t)=>r.jsxs(n.a,{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300 text-xs relative group",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{delay:.1*t+1,duration:.4},viewport:{once:!0},children:[e,r.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"})]},e))})]})]}),r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.01)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.01)_1px,transparent_1px)] bg-[size:50px_50px] opacity-20"})]})]})}$o.displayName="AlertDescription";const qo=at.createContext(),Wo=({children:e})=>{const[t,n]=at.useState([]),a=e=>{const t=Math.random().toString(36).substr(2,9),r={id:t,...e,createdAt:Date.now()};return n(e=>[...e,r]),setTimeout(()=>{s(t)},e.duration||5e3),t},s=e=>{n(t=>t.filter(t=>t.id!==e))},i={success:(e,t={})=>a({type:"success",message:e,...t}),error:(e,t={})=>a({type:"error",message:e,...t}),warning:(e,t={})=>a({type:"warning",message:e,...t}),info:(e,t={})=>a({type:"info",message:e,...t})};return r.jsxs(qo.Provider,{value:{toast:i,removeToast:s},children:[e,r.jsx(Ho,{toasts:t,removeToast:s})]})},Ho=({toasts:e,removeToast:t})=>r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:r.jsx(a,{children:e.map(e=>r.jsx(Go,{toast:e,onRemove:t},e.id))})}),Go=({toast:e,onRemove:t})=>r.jsx(n.div,{initial:{opacity:0,x:300,scale:.3},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.5,transition:{duration:.2}},className:`${(()=>{switch(e.type){case"success":return"bg-green-900/90 border-green-500/50";case"error":return"bg-red-900/90 border-red-500/50";case"warning":return"bg-yellow-900/90 border-yellow-500/50";case"info":return"bg-blue-900/90 border-blue-500/50";default:return"bg-gray-900/90 border-gray-500/50"}})()} backdrop-blur-md border rounded-lg p-4 shadow-lg max-w-sm`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[(()=>{switch(e.type){case"success":return r.jsx(i,{className:"w-5 h-5 text-green-400"});case"error":return r.jsx(o,{className:"w-5 h-5 text-red-400"});case"warning":return r.jsx(R,{className:"w-5 h-5 text-yellow-400"});default:return r.jsx(M,{className:"w-5 h-5 text-blue-400"})}})(),r.jsxs("div",{className:"flex-1",children:[e.title&&r.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:e.title}),r.jsx("p",{className:"text-sm text-gray-200",children:e.message})]}),r.jsx("button",{onClick:()=>t(e.id),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(I,{className:"w-4 h-4"})})]})}),Ko=({children:e,onOpenChange:t,...n})=>{const{onOpenChange:a,...s}=n;return r.jsx("div",{...s,children:e})},Xo=e=>r.jsx("button",{...e}),Yo=({children:e})=>r.jsx("div",{children:e}),Jo=({children:e})=>r.jsx("div",{children:e}),Zo=e=>r.jsx("div",{...e});function Qo(){const[e,t]=at.useState(!0),[n,a]=at.useState(!1);return at.useEffect(()=>{const e=async()=>{try{await Ji.get("/health",{timeout:3e3}),t(!0),n&&setTimeout(()=>a(!1),3e3)}catch{t(!1),a(!0)}};e();const r=setInterval(e,6e4);return()=>clearInterval(r)},[n]),!n||e?null:r.jsxs(zo,{className:"fixed top-4 right-4 w-auto max-w-md z-50 bg-yellow-500/10 border-yellow-500/50",children:[r.jsx(R,{className:"h-4 w-4 text-yellow-500"}),r.jsx($o,{className:"text-yellow-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(D,{className:"h-4 w-4"}),r.jsx("span",{children:"Modo Offline - Funcionalidades limitadas"})]})})]})}Wo.propTypes={children:It.node.isRequired},Ho.propTypes={toasts:It.array.isRequired,removeToast:It.func.isRequired},Go.propTypes={toast:It.shape({id:It.string.isRequired,type:It.oneOf(["success","error","warning","info"]).isRequired,message:It.string.isRequired,title:It.string}).isRequired,onRemove:It.func.isRequired},Ko.propTypes={children:It.node},Yo.propTypes={children:It.node},Jo.propTypes={children:It.node};class el extends lt.Component{constructor(e){super(e),t(this,"handleReload",()=>{window.location.reload()}),t(this,"handleGoHome",()=>{window.location.href="/"}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full text-center",children:[r.jsxs("div",{className:"bg-gray-900 rounded-xl p-8 border border-gray-800",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(R,{className:"w-8 h-8 text-red-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Oops! Algo deu errado"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Encontramos um problema inesperado. Não se preocupe, nossos devs supremos já estão trabalhando nisso! 🚀"}),!1,r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsxs(Vi,{onClick:this.handleReload,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Recarregar"]}),r.jsxs(Vi,{onClick:this.handleGoHome,variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[r.jsx(z,{className:"w-4 h-4 mr-2"}),"Início"]})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mt-4",children:"Se o problema persistir, entre em contato com o suporte."})]})}):this.props.children}}var tl,rl,nl,al,sl,il,ol,ll,cl,dl,ul,hl,ml,pl,fl,gl,xl,yl,vl,bl,jl,wl,Nl,_l,Sl,kl,Ol,Al,Cl,Pl,El,Tl,Il,Ml,Rl,Dl,Ll,zl,$l,Ul,Bl,Fl,Vl,ql,Wl,Hl,Gl,Kl,Xl,Yl,Jl,Zl,Ql,ec,tc,rc,nc,ac,sc,ic,oc,lc,cc,dc,uc,hc,mc,pc,fc,gc,xc,yc,vc,bc,jc,wc,Nc,_c,Sc,kc,Oc,Ac,Cc,Pc,Ec,Tc,Ic,Mc,Rc,Dc,Lc,zc,$c,Uc,Bc,Fc,Vc,qc,Wc,Hc,Gc,Kc,Xc,Yc;function Jc(){if(rl)return tl;rl=1;var e=Array.isArray;return tl=e}function Zc(){if(al)return nl;al=1;var e="object"==typeof yt&&yt&&yt.Object===Object&&yt;return nl=e}function Qc(){if(il)return sl;il=1;var e=Zc(),t="object"==typeof self&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return sl=r}function ed(){if(ll)return ol;ll=1;var e=Qc().Symbol;return ol=e}function td(){if(pl)return ml;pl=1;var e=ed(),t=function(){if(dl)return cl;dl=1;var e=ed(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;return cl=function(e){var t=r.call(e,a),s=e[a];try{e[a]=void 0;var i=!0}catch(l){}var o=n.call(e);return i&&(t?e[a]=s:delete e[a]),o}}(),r=function(){if(hl)return ul;hl=1;var e=Object.prototype.toString;return ul=function(t){return e.call(t)}}(),n=e?e.toStringTag:void 0;return ml=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?t(e):r(e)}}function rd(){if(gl)return fl;return gl=1,fl=function(e){return null!=e&&"object"==typeof e}}function nd(){if(yl)return xl;yl=1;var e=td(),t=rd();return xl=function(r){return"symbol"==typeof r||t(r)&&"[object Symbol]"==e(r)}}function ad(){if(bl)return vl;bl=1;var e=Jc(),t=nd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;return vl=function(a,s){if(e(a))return!1;var i=typeof a;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=a&&!t(a))||(n.test(a)||!r.test(a)||null!=s&&a in Object(s))}}function sd(){if(wl)return jl;return wl=1,jl=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function id(){if(_l)return Nl;_l=1;var e=td(),t=sd();return Nl=function(r){if(!t(r))return!1;var n=e(r);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}}function od(){if(Al)return Ol;Al=1;var e,t=function(){if(kl)return Sl;kl=1;var e=Qc()["__core-js_shared__"];return Sl=e}(),r=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return Ol=function(e){return!!r&&r in e}}function ld(){if(Pl)return Cl;Pl=1;var e=Function.prototype.toString;return Cl=function(t){if(null!=t){try{return e.call(t)}catch(r){}try{return t+""}catch(r){}}return""}}function cd(){if(Dl)return Rl;Dl=1;var e=function(){if(Tl)return El;Tl=1;var e=id(),t=od(),r=sd(),n=ld(),a=/^\[object .+?Constructor\]$/,s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return El=function(s){return!(!r(s)||t(s))&&(e(s)?c:a).test(n(s))}}(),t=Ml?Il:(Ml=1,Il=function(e,t){return null==e?void 0:e[t]});return Rl=function(r,n){var a=t(r,n);return e(a)?a:void 0}}function dd(){if(zl)return Ll;zl=1;var e=cd()(Object,"create");return Ll=e}function ud(){if(Yl)return Xl;Yl=1;var e=function(){if(Ul)return $l;Ul=1;var e=dd();return $l=function(){this.__data__=e?e(null):{},this.size=0}}(),t=Fl?Bl:(Fl=1,Bl=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),r=function(){if(ql)return Vl;ql=1;var e=dd(),t=Object.prototype.hasOwnProperty;return Vl=function(r){var n=this.__data__;if(e){var a=n[r];return"__lodash_hash_undefined__"===a?void 0:a}return t.call(n,r)?n[r]:void 0}}(),n=function(){if(Hl)return Wl;Hl=1;var e=dd(),t=Object.prototype.hasOwnProperty;return Wl=function(r){var n=this.__data__;return e?void 0!==n[r]:t.call(n,r)}}(),a=function(){if(Kl)return Gl;Kl=1;var e=dd();return Gl=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e&&void 0===r?"__lodash_hash_undefined__":r,this}}();function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Xl=s}function hd(){if(ec)return Ql;return ec=1,Ql=function(e,t){return e===t||e!=e&&t!=t}}function md(){if(rc)return tc;rc=1;var e=hd();return tc=function(t,r){for(var n=t.length;n--;)if(e(t[n][0],r))return n;return-1}}function pd(){if(hc)return uc;hc=1;var e=Zl?Jl:(Zl=1,Jl=function(){this.__data__=[],this.size=0}),t=function(){if(ac)return nc;ac=1;var e=md(),t=Array.prototype.splice;return nc=function(r){var n=this.__data__,a=e(n,r);return!(a<0||(a==n.length-1?n.pop():t.call(n,a,1),--this.size,0))}}(),r=function(){if(ic)return sc;ic=1;var e=md();return sc=function(t){var r=this.__data__,n=e(r,t);return n<0?void 0:r[n][1]}}(),n=function(){if(lc)return oc;lc=1;var e=md();return oc=function(t){return e(this.__data__,t)>-1}}(),a=function(){if(dc)return cc;dc=1;var e=md();return cc=function(t,r){var n=this.__data__,a=e(n,t);return a<0?(++this.size,n.push([t,r])):n[a][1]=r,this}}();function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,uc=s}function fd(){if(pc)return mc;pc=1;var e=cd()(Qc(),"Map");return mc=e}function gd(){if(bc)return vc;bc=1;var e=yc?xc:(yc=1,xc=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return vc=function(t,r){var n=t.__data__;return e(r)?n["string"==typeof r?"string":"hash"]:n.map}}function xd(){if(Pc)return Cc;Pc=1;var e=function(){if(gc)return fc;gc=1;var e=ud(),t=pd(),r=fd();return fc=function(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}}(),t=function(){if(wc)return jc;wc=1;var e=gd();return jc=function(t){var r=e(this,t).delete(t);return this.size-=r?1:0,r}}(),r=function(){if(_c)return Nc;_c=1;var e=gd();return Nc=function(t){return e(this,t).get(t)}}(),n=function(){if(kc)return Sc;kc=1;var e=gd();return Sc=function(t){return e(this,t).has(t)}}(),a=function(){if(Ac)return Oc;Ac=1;var e=gd();return Oc=function(t,r){var n=e(this,t),a=n.size;return n.set(t,r),this.size+=n.size==a?0:1,this}}();function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Cc=s}function yd(){if(Tc)return Ec;Tc=1;var e=xd();function t(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var a=function(){var e=arguments,t=n?n.apply(this,e):e[0],s=a.cache;if(s.has(t))return s.get(t);var i=r.apply(this,e);return a.cache=s.set(t,i)||s,i};return a.cache=new(t.Cache||e),a}return t.Cache=e,Ec=t}function vd(){if(Dc)return Rc;Dc=1;var e=function(){if(Mc)return Ic;Mc=1;var e=yd();return Ic=function(t){var r=e(t,function(e){return 500===n.size&&n.clear(),e}),n=r.cache;return r}}(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(t,function(e,t,a,s){n.push(a?s.replace(r,"$1"):t||e)}),n});return Rc=n}function bd(){if(zc)return Lc;return zc=1,Lc=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}}function jd(){if(Fc)return Bc;Fc=1;var e=function(){if(Uc)return $c;Uc=1;var e=ed(),t=bd(),r=Jc(),n=nd(),a=e?e.prototype:void 0,s=a?a.toString:void 0;return $c=function e(a){if("string"==typeof a)return a;if(r(a))return t(a,e)+"";if(n(a))return s?s.call(a):"";var i=a+"";return"0"==i&&1/a==-1/0?"-0":i},$c}();return Bc=function(t){return null==t?"":e(t)}}function wd(){if(qc)return Vc;qc=1;var e=Jc(),t=ad(),r=vd(),n=jd();return Vc=function(a,s){return e(a)?a:t(a,s)?[a]:r(n(a))}}function Nd(){if(Hc)return Wc;Hc=1;var e=nd();return Wc=function(t){if("string"==typeof t||e(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}}function _d(){if(Kc)return Gc;Kc=1;var e=wd(),t=Nd();return Gc=function(r,n){for(var a=0,s=(n=e(n,r)).length;null!=r&&a<s;)r=r[t(n[a++])];return a&&a==s?r:void 0}}function Sd(){if(Yc)return Xc;Yc=1;var e=_d();return Xc=function(t,r,n){var a=null==t?void 0:e(t,r);return void 0===a?n:a}}const kd=gt(Sd());var Od,Ad;const Cd=gt(Ad?Od:(Ad=1,Od=function(e){return null==e}));var Pd,Ed;const Td=gt(function(){if(Ed)return Pd;Ed=1;var e=td(),t=Jc(),r=rd();return Pd=function(n){return"string"==typeof n||!t(n)&&r(n)&&"[object String]"==e(n)}}());const Id=gt(id());const Md=gt(sd());var Rd,Dd,Ld={exports:{}},zd={};var $d,Ud,Bd,Fd,Vd=(Dd||(Dd=1,Ld.exports=function(){if(Rd)return zd;Rd=1;var e,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen");function f(e){if("object"==typeof e&&null!==e){var p=e.$$typeof;switch(p){case t:switch(e=e.type){case n:case s:case a:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case o:case c:case m:case h:case i:return e;default:return p}}case r:return p}}}return e=Symbol.for("react.module.reference"),zd.ContextConsumer=o,zd.ContextProvider=i,zd.Element=t,zd.ForwardRef=c,zd.Fragment=n,zd.Lazy=m,zd.Memo=h,zd.Portal=r,zd.Profiler=s,zd.StrictMode=a,zd.Suspense=d,zd.SuspenseList=u,zd.isAsyncMode=function(){return!1},zd.isConcurrentMode=function(){return!1},zd.isContextConsumer=function(e){return f(e)===o},zd.isContextProvider=function(e){return f(e)===i},zd.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},zd.isForwardRef=function(e){return f(e)===c},zd.isFragment=function(e){return f(e)===n},zd.isLazy=function(e){return f(e)===m},zd.isMemo=function(e){return f(e)===h},zd.isPortal=function(e){return f(e)===r},zd.isProfiler=function(e){return f(e)===s},zd.isStrictMode=function(e){return f(e)===a},zd.isSuspense=function(e){return f(e)===d},zd.isSuspenseList=function(e){return f(e)===u},zd.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===n||t===s||t===a||t===d||t===u||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===h||t.$$typeof===i||t.$$typeof===o||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},zd.typeOf=f,zd}()),Ld.exports);function qd(){if(Ud)return $d;Ud=1;var e=td(),t=rd();return $d=function(r){return"number"==typeof r||t(r)&&"[object Number]"==e(r)}}const Wd=gt(function(){if(Fd)return Bd;Fd=1;var e=qd();return Bd=function(t){return e(t)&&t!=+t}}());const Hd=gt(qd());var Gd=function(e){return 0===e?0:e>0?1:-1},Kd=function(e){return Td(e)&&e.indexOf("%")===e.length-1},Xd=function(e){return Hd(e)&&!Wd(e)},Yd=function(e){return Xd(e)||Td(e)},Jd=0,Zd=function(e){var t=++Jd;return"".concat(e||"").concat(t)},Qd=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Xd(e)&&!Td(e))return n;if(Kd(e)){var s=e.indexOf("%");r=t*parseFloat(e.slice(0,s))/100}else r=+e;return Wd(r)&&(r=n),a&&r>t&&(r=t),r},eu=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},tu=function(e,t){return Xd(e)&&Xd(t)?function(r){return e+r*(t-e)}:function(){return t}};function ru(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):kd(e,t))===r}):null}var nu=function(e,t){return Xd(e)&&Xd(t)?e-t:Td(e)&&Td(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function au(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function su(e){return(su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var iu=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ou=["points","pathLength"],lu={svg:["viewBox","children"],polygon:ou,polyline:ou},cu=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],du=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(at.isValidElement(e)&&(r=e.props),!Md(r))return null;var n={};return Object.keys(r).forEach(function(e){cu.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})}),n},uu=function(e,t,r){if(!Md(e)||"object"!==su(e))return null;var n=null;return Object.keys(e).forEach(function(a){var s=e[a];cu.includes(a)&&"function"==typeof s&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(s,t,r))}),n},hu=["children"],mu=["children"];function pu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fu(e){return(fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gu={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xu=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},yu=null,vu=null,bu=function e(t){if(t===yu&&Array.isArray(vu))return vu;var r=[];return at.Children.forEach(t,function(t){Cd(t)||(Vd.isFragment(t)?r=r.concat(e(t.props.children)):r.push(t))}),vu=r,yu=t,r};function ju(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return xu(e)}):[xu(t)],bu(e).forEach(function(e){var t=kd(e,"type.displayName")||kd(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function wu(e,t){var r=ju(e,t);return r&&r[0]}var Nu=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!Xd(r)||r<=0||!Xd(n)||n<=0)},_u=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Su=function(e){return e&&"object"===fu(e)&&"clipDot"in e},ku=function(e,t,r){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(at.isValidElement(e)&&(n=e.props),!Md(n))return null;var a={};return Object.keys(n).forEach(function(e){var s;(function(e,t,r,n){var a,s=null!==(a=null==lu?void 0:lu[n])&&void 0!==a?a:[];return t.startsWith("data-")||!Id(e)&&(n&&s.includes(t)||iu.includes(t))||r&&cu.includes(t)})(null===(s=n)||void 0===s?void 0:s[e],e,t,r)&&(a[e]=n[e])}),a},Ou=function e(t,r){if(t===r)return!0;var n=at.Children.count(t);if(n!==at.Children.count(r))return!1;if(0===n)return!0;if(1===n)return Au(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!Au(s,i))return!1}return!0},Au=function(e,t){if(Cd(e)&&Cd(t))return!0;if(!Cd(e)&&!Cd(t)){var r=e.props||{},n=r.children,a=pu(r,hu),s=t.props||{},i=s.children,o=pu(s,mu);return n&&i?au(a,o)&&Ou(n,i):!n&&!i&&au(a,o)}return!1},Cu=function(e,t){var r=[],n={};return bu(e).forEach(function(e,a){if(function(e){return e&&e.type&&Td(e.type)&&_u.indexOf(e.type)>=0}(e))r.push(e);else if(e){var s=xu(e.type),i=t[s]||{},o=i.handler,l=i.once;if(o&&(!l||!n[s])){var c=o(e,s,a);r.push(c),n[s]=!0}}}),r},Pu=["children","width","height","viewBox","className","style","title","desc"];function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eu.apply(this,arguments)}function Tu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iu(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,o=e.title,l=e.desc,c=Tu(e,Pu),d=a||{width:r,height:n,x:0,y:0},u=vt("recharts-surface",s);return lt.createElement("svg",Eu({},ku(c,!0,"svg"),{className:u,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),lt.createElement("title",null,o),lt.createElement("desc",null,l),t)}var Mu=["children","className"];function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ru.apply(this,arguments)}function Du(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Lu,zu,$u,Uu,Bu,Fu,Vu,qu,Wu,Hu,Gu,Ku,Xu,Yu,Ju,Zu,Qu=lt.forwardRef(function(e,t){var r=e.children,n=e.className,a=Du(e,Mu),s=vt("recharts-layer",n);return lt.createElement("g",Ru({className:s},ku(a,!0),{ref:t}),r)}),eh=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function th(){if(Uu)return $u;Uu=1;var e=zu?Lu:(zu=1,Lu=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s});return $u=function(t,r,n){var a=t.length;return n=void 0===n?a:n,!r&&n>=a?t:e(t,r,n)}}function rh(){if(Fu)return Bu;Fu=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return Bu=function(t){return e.test(t)}}function nh(){if(Ku)return Gu;Ku=1;var e=qu?Vu:(qu=1,Vu=function(e){return e.split("")}),t=rh(),r=function(){if(Hu)return Wu;Hu=1;var e="\\ud800-\\udfff",t="["+e+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",a="[^"+e+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",o="(?:"+r+"|"+n+")?",l="[\\ufe0e\\ufe0f]?",c=l+o+"(?:\\u200d(?:"+[a,s,i].join("|")+")"+l+o+")*",d="(?:"+[a+r+"?",r,s,i,t].join("|")+")",u=RegExp(n+"(?="+n+")|"+d+c,"g");return Wu=function(e){return e.match(u)||[]}}();return Gu=function(n){return t(n)?r(n):e(n)}}const ah=gt(function(){if(Zu)return Ju;Zu=1;var e=function(){if(Yu)return Xu;Yu=1;var e=th(),t=rh(),r=nh(),n=jd();return Xu=function(a){return function(s){s=n(s);var i=t(s)?r(s):void 0,o=i?i[0]:s.charAt(0),l=i?e(i,1).join(""):s.slice(1);return o[a]()+l}}}()("toUpperCase");return Ju=e}());function sh(e){return function(){return e}}const ih=Math.cos,oh=Math.sin,lh=Math.sqrt,ch=Math.PI,dh=2*ch,uh=Math.PI,hh=2*uh,mh=1e-6,ph=hh-mh;function fh(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class gh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?fh:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fh;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,s){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+s}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let s=this._x1,i=this._y1,o=r-e,l=n-t,c=s-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>mh)if(Math.abs(d*o-l*c)>mh&&a){let h=r-s,m=n-i,p=o*o+l*l,f=h*h+m*m,g=Math.sqrt(p),x=Math.sqrt(u),y=a*Math.tan((uh-Math.acos((p+u-f)/(2*g*x)))/2),v=y/x,b=y/g;Math.abs(v-1)>mh&&this._append`L${e+v*c},${t+v*d}`,this._append`A${a},${a},0,0,${+(d*h>c*m)},${this._x1=e+b*o},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,s){if(e=+e,t=+t,s=!!s,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=r*Math.cos(n),o=r*Math.sin(n),l=e+i,c=t+o,d=1^s,u=s?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>mh||Math.abs(this._y1-c)>mh)&&this._append`L${l},${c}`,r&&(u<0&&(u=u%hh+hh),u>ph?this._append`A${r},${r},0,1,${d},${e-i},${t-o}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:u>mh&&this._append`A${r},${r},0,${+(u>=uh)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function xh(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new gh(t)}function yh(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function vh(e){this._context=e}function bh(e){return new vh(e)}function jh(e){return e[0]}function wh(e){return e[1]}function Nh(e,t){var r=sh(!0),n=null,a=bh,s=null,i=xh(o);function o(o){var l,c,d,u=(o=yh(o)).length,h=!1;for(null==n&&(s=a(d=i())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,o),+t(c,l,o));if(d)return s=null,d+""||null}return e="function"==typeof e?e:void 0===e?jh:sh(e),t="function"==typeof t?t:void 0===t?wh:sh(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:sh(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:sh(+e),o):t},o.defined=function(e){return arguments.length?(r="function"==typeof e?e:sh(!!e),o):r},o.curve=function(e){return arguments.length?(a=e,null!=n&&(s=a(n)),o):a},o.context=function(e){return arguments.length?(null==e?n=s=null:s=a(n=e),o):n},o}function _h(e,t,r){var n=null,a=sh(!0),s=null,i=bh,o=null,l=xh(c);function c(c){var d,u,h,m,p,f=(c=yh(c)).length,g=!1,x=new Array(f),y=new Array(f);for(null==s&&(o=i(p=l())),d=0;d<=f;++d){if(!(d<f&&a(m=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=u;--h)o.point(x[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(m,d,c),y[d]=+t(m,d,c),o.point(n?+n(m,d,c):x[d],r?+r(m,d,c):y[d]))}if(p)return o=null,p+""||null}function d(){return Nh().defined(a).curve(i).context(s)}return e="function"==typeof e?e:void 0===e?jh:sh(+e),t="function"==typeof t?t:sh(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?wh:sh(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:sh(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:sh(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:sh(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:sh(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:sh(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:sh(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:sh(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Sh{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const kh={draw(e,t){const r=lh(t/ch);e.moveTo(r,0),e.arc(0,0,r,0,dh)}},Oh={draw(e,t){const r=lh(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Ah=lh(1/3),Ch=2*Ah,Ph={draw(e,t){const r=lh(t/Ch),n=r*Ah;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Eh={draw(e,t){const r=lh(t),n=-r/2;e.rect(n,n,r,r)}},Th=oh(ch/10)/oh(7*ch/10),Ih=oh(dh/10)*Th,Mh=-ih(dh/10)*Th,Rh={draw(e,t){const r=lh(.8908130915292852*t),n=Ih*r,a=Mh*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const t=dh*s/5,i=ih(t),o=oh(t);e.lineTo(o*r,-i*r),e.lineTo(i*n-o*a,o*n+i*a)}e.closePath()}},Dh=lh(3),Lh={draw(e,t){const r=-lh(t/(3*Dh));e.moveTo(0,2*r),e.lineTo(-Dh*r,-r),e.lineTo(Dh*r,-r),e.closePath()}},zh=-.5,$h=lh(3)/2,Uh=1/lh(12),Bh=3*(Uh/2+1),Fh={draw(e,t){const r=lh(t/Bh),n=r/2,a=r*Uh,s=n,i=r*Uh+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(zh*n-$h*a,$h*n+zh*a),e.lineTo(zh*s-$h*i,$h*s+zh*i),e.lineTo(zh*o-$h*l,$h*o+zh*l),e.lineTo(zh*n+$h*a,zh*a-$h*n),e.lineTo(zh*s+$h*i,zh*i-$h*s),e.lineTo(zh*o+$h*l,zh*l-$h*o),e.closePath()}};function Vh(){}function qh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Wh(e){this._context=e}function Hh(e){this._context=e}function Gh(e){this._context=e}function Kh(e){this._context=e}function Xh(e){return e<0?-1:1}function Yh(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(Xh(s)+Xh(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function Jh(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zh(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function Qh(e){this._context=e}function em(e){this._context=new tm(e)}function tm(e){this._context=e}function rm(e){this._context=e}function nm(e){var t,r,n=e.length-1,a=new Array(n),s=new Array(n),i=new Array(n);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,i[t]-=r*i[t-1];for(a[n-1]=i[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function am(e,t){this._context=e,this._t=t}function sm(e,t){if((a=e.length)>1)for(var r,n,a,s=1,i=e[t[0]],o=i.length;s<a;++s)for(n=i,i=e[t[s]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function im(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function om(e,t){return e[t]}function lm(e){const t=[];return t.key=e,t}function cm(e){return(cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qh(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Hh.prototype={areaStart:Vh,areaEnd:Vh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qh(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qh(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Kh.prototype={areaStart:Vh,areaEnd:Vh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zh(this,this._t0,Jh(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zh(this,Jh(this,r=Yh(this,e,t)),r);break;default:Zh(this,this._t0,r=Yh(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(em.prototype=Object.create(Qh.prototype)).point=function(e,t){Qh.prototype.point.call(this,t,e)},tm.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}},rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=nm(e),a=nm(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var dm=["type","size","sizeType"];function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(this,arguments)}function hm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(r),!0).forEach(function(t){pm(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pm(e,t,r){var n;return n=function(e,t){if("object"!=cm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=cm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==cm(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var gm={symbolCircle:kh,symbolCross:Oh,symbolDiamond:Ph,symbolSquare:Eh,symbolStar:Rh,symbolTriangle:Lh,symbolWye:Fh},xm=Math.PI/180,ym=function(e){var t,r,n=e.type,a=void 0===n?"circle":n,s=e.size,i=void 0===s?64:s,o=e.sizeType,l=void 0===o?"area":o,c=mm(mm({},fm(e,dm)),{},{type:a,size:i,sizeType:l}),d=c.className,u=c.cx,h=c.cy,m=ku(c,!0);return u===+u&&h===+h&&i===+i?lt.createElement("path",um({},m,{className:vt("recharts-symbols",d),transform:"translate(".concat(u,", ").concat(h,")"),d:(t=function(e){var t="symbol".concat(ah(e));return gm[t]||kh}(a),r=function(e,t){let r=null,n=xh(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:sh(e||kh),t="function"==typeof t?t:sh(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:sh(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:sh(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(t).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*xm;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,l,a)),r())})):null};function vm(e){return(vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}function jm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wm(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Am(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nm(e,t,r){return t=Sm(t),function(e,t){if(t&&("object"===vm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_m()?Reflect.construct(t,r||[],Sm(e).constructor):t.apply(e,r))}function _m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_m=function(){return!!e})()}function Sm(e){return(Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function km(e,t){return(km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Om(e,t,r){return(t=Am(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Am(e){var t=function(e,t){if("object"!=vm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=vm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==vm(t)?t:t+""}ym.registerSymbol=function(e,t){gm["symbol".concat(ah(e))]=t};var Cm,Pm,Em,Tm,Im,Mm,Rm,Dm,Lm,zm,$m,Um,Bm,Fm,Vm,qm,Wm,Hm,Gm,Km,Xm,Ym,Jm,Zm,Qm,ep,tp,rp,np,ap,sp,ip,op,lp,cp,dp,up,hp,mp,pp,fp,gp,xp,yp,vp,bp,jp,wp,Np=32,_p=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Nm(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&km(e,t)}(e,at.PureComponent),wm(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=Np/6,a=Np/3,s=e.inactive?t:e.color;if("plainline"===e.type)return lt.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Np,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return lt.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(Np,"M").concat(2*a,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return lt.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(Np,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(lt.isValidElement(e.legendIcon)){var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(r),!0).forEach(function(t){Om(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete i.legendIcon,lt.cloneElement(e.legendIcon,i)}return lt.createElement(ym,{fill:s,cx:r,cy:r,size:Np,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,a=t.layout,s=t.formatter,i=t.inactiveColor,o={x:0,y:0,width:Np,height:Np},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(t,r){var a=t.formatter||s,d=vt(Om(Om({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var u=Id(t.value)?null:t.value;eh(!Id(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?i:t.color;return lt.createElement("li",bm({className:d,style:l,key:"legend-item-".concat(r)},uu(e.props,t,r)),lt.createElement(Iu,{width:n,height:n,viewBox:o,style:c},e.renderIcon(t)),lt.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},a?a(u,t,r):u))})}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return lt.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}();function Sp(){if(Um)return $m;Um=1;var e=pd(),t=function(){if(Pm)return Cm;Pm=1;var e=pd();return Cm=function(){this.__data__=new e,this.size=0}}(),r=Tm?Em:(Tm=1,Em=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}),n=Mm?Im:(Mm=1,Im=function(e){return this.__data__.get(e)}),a=Dm?Rm:(Dm=1,Rm=function(e){return this.__data__.has(e)}),s=function(){if(zm)return Lm;zm=1;var e=pd(),t=fd(),r=xd();return Lm=function(n,a){var s=this.__data__;if(s instanceof e){var i=s.__data__;if(!t||i.length<199)return i.push([n,a]),this.size=++s.size,this;s=this.__data__=new r(i)}return s.set(n,a),this.size=s.size,this}}();function i(t){var r=this.__data__=new e(t);this.size=r.size}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,$m=i}function kp(){if(Hm)return Wm;Hm=1;var e=xd(),t=Fm?Bm:(Fm=1,Bm=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),r=qm?Vm:(qm=1,Vm=function(e){return this.__data__.has(e)});function n(t){var r=-1,n=null==t?0:t.length;for(this.__data__=new e;++r<n;)this.add(t[r])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Wm=n}function Op(){if(Km)return Gm;return Km=1,Gm=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}}function Ap(){if(Ym)return Xm;return Ym=1,Xm=function(e,t){return e.has(t)}}function Cp(){if(Zm)return Jm;Zm=1;var e=kp(),t=Op(),r=Ap();return Jm=function(n,a,s,i,o,l){var c=1&s,d=n.length,u=a.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(n),m=l.get(a);if(h&&m)return h==a&&m==n;var p=-1,f=!0,g=2&s?new e:void 0;for(l.set(n,a),l.set(a,n);++p<d;){var x=n[p],y=a[p];if(i)var v=c?i(y,x,p,a,n,l):i(x,y,p,n,a,l);if(void 0!==v){if(v)continue;f=!1;break}if(g){if(!t(a,function(e,t){if(!r(g,t)&&(x===e||o(x,e,s,i,l)))return g.push(t)})){f=!1;break}}else if(x!==y&&!o(x,y,s,i,l)){f=!1;break}}return l.delete(n),l.delete(a),f}}function Pp(){if(ap)return np;return ap=1,np=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}}function Ep(){if(ip)return sp;ip=1;var e=ed(),t=function(){if(ep)return Qm;ep=1;var e=Qc().Uint8Array;return Qm=e}(),r=hd(),n=Cp(),a=rp?tp:(rp=1,tp=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}),s=Pp(),i=e?e.prototype:void 0,o=i?i.valueOf:void 0;return sp=function(e,i,l,c,d,u,h){switch(l){case"[object DataView]":if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=i.byteLength||!u(new t(e),new t(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+i);case"[object Error]":return e.name==i.name&&e.message==i.message;case"[object RegExp]":case"[object String]":return e==i+"";case"[object Map]":var m=a;case"[object Set]":var p=1&c;if(m||(m=s),e.size!=i.size&&!p)return!1;var f=h.get(e);if(f)return f==i;c|=2,h.set(e,i);var g=n(m(e),m(i),c,d,u,h);return h.delete(e),g;case"[object Symbol]":if(o)return o.call(e)==o.call(i)}return!1}}function Tp(){if(lp)return op;return lp=1,op=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}}function Ip(){if(gp)return fp;gp=1;var e=hp?up:(hp=1,up=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}),t=pp?mp:(pp=1,mp=function(){return[]}),r=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;return fp=n?function(t){return null==t?[]:(t=Object(t),e(n(t),function(e){return r.call(t,e)}))}:t}function Mp(){if(wp)return jp;wp=1;var e=function(){if(bp)return vp;bp=1;var e=td(),t=rd();return vp=function(r){return t(r)&&"[object Arguments]"==e(r)}}(),t=rd(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(e){return t(e)&&n.call(e,"callee")&&!a.call(e,"callee")};return jp=s}Om(_p,"displayName","Legend"),Om(_p,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rp,Dp,Lp,zp,$p,Up,Bp,Fp,Vp,qp,Wp,Hp={exports:{}};function Gp(){return Lp||(Lp=1,e=Hp,t=Hp.exports,r=Qc(),n=Dp?Rp:(Dp=1,Rp=function(){return!1}),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,i=s&&s.exports===a?r.Buffer:void 0,o=(i?i.isBuffer:void 0)||n,e.exports=o),Hp.exports;var e,t,r,n,a,s,i,o}function Kp(){if($p)return zp;$p=1;var e=/^(?:0|[1-9]\d*)$/;return zp=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}}function Xp(){if(Bp)return Up;Bp=1;return Up=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function Yp(){if(Wp)return qp;return Wp=1,qp=function(e){return function(t){return e(t)}}}var Jp,Zp,Qp,ef,tf,rf,nf,af,sf,of,lf,cf,df,uf,hf,mf,pf,ff,gf,xf,yf,vf,bf,jf,wf,Nf,_f,Sf,kf,Of,Af,Cf,Pf,Ef,Tf,If,Mf,Rf,Df,Lf,zf,$f,Uf,Bf,Ff,Vf,qf,Wf,Hf,Gf,Kf,Xf,Yf,Jf,Zf,Qf,eg,tg,rg,ng,ag,sg,ig,og,lg,cg,dg,ug,hg,mg,pg,fg,gg,xg,yg,vg,bg,jg,wg,Ng,_g,Sg,kg,Og={exports:{}};function Ag(){if(Qp)return Zp;Qp=1;var e=function(){if(Vp)return Fp;Vp=1;var e=td(),t=Xp(),r=rd(),n={};return n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,Fp=function(a){return r(a)&&t(a.length)&&!!n[e(a)]}}(),t=Yp(),r=function(){return Jp||(Jp=1,e=Og,t=Og.exports,r=Zc(),n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,s=a&&a.exports===n&&r.process,i=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}(),e.exports=i),Og.exports;var e,t,r,n,a,s,i}(),n=r&&r.isTypedArray,a=n?t(n):e;return Zp=a}function Cg(){if(tf)return ef;tf=1;var e=yp?xp:(yp=1,xp=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}),t=Mp(),r=Jc(),n=Gp(),a=Kp(),s=Ag(),i=Object.prototype.hasOwnProperty;return ef=function(o,l){var c=r(o),d=!c&&t(o),u=!c&&!d&&n(o),h=!c&&!d&&!u&&s(o),m=c||d||u||h,p=m?e(o.length,String):[],f=p.length;for(var g in o)!l&&!i.call(o,g)||m&&("length"==g||u&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,f))||p.push(g);return p}}function Pg(){if(sf)return af;return sf=1,af=function(e,t){return function(r){return e(t(r))}}}function Eg(){if(df)return cf;df=1;var e=function(){if(nf)return rf;nf=1;var e=Object.prototype;return rf=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}}(),t=function(){if(lf)return of;lf=1;var e=Pg()(Object.keys,Object);return of=e}(),r=Object.prototype.hasOwnProperty;return cf=function(n){if(!e(n))return t(n);var a=[];for(var s in Object(n))r.call(n,s)&&"constructor"!=s&&a.push(s);return a}}function Tg(){if(hf)return uf;hf=1;var e=id(),t=Xp();return uf=function(r){return null!=r&&t(r.length)&&!e(r)}}function Ig(){if(pf)return mf;pf=1;var e=Cg(),t=Eg(),r=Tg();return mf=function(n){return r(n)?e(n):t(n)}}function Mg(){if(gf)return ff;gf=1;var e=function(){if(dp)return cp;dp=1;var e=Tp(),t=Jc();return cp=function(r,n,a){var s=n(r);return t(r)?s:e(s,a(r))}}(),t=Ip(),r=Ig();return ff=function(n){return e(n,r,t)}}function Rg(){if(_f)return Nf;_f=1;var e=cd()(Qc(),"Set");return Nf=e}function Dg(){if(Af)return Of;Af=1;var e=function(){if(bf)return vf;bf=1;var e=cd()(Qc(),"DataView");return vf=e}(),t=fd(),r=function(){if(wf)return jf;wf=1;var e=cd()(Qc(),"Promise");return jf=e}(),n=Rg(),a=function(){if(kf)return Sf;kf=1;var e=cd()(Qc(),"WeakMap");return Sf=e}(),s=td(),i=ld(),o="[object Map]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",u="[object DataView]",h=i(e),m=i(t),p=i(r),f=i(n),g=i(a),x=s;return(e&&x(new e(new ArrayBuffer(1)))!=u||t&&x(new t)!=o||r&&x(r.resolve())!=l||n&&x(new n)!=c||a&&x(new a)!=d)&&(x=function(e){var t=s(e),r="[object Object]"==t?e.constructor:void 0,n=r?i(r):"";if(n)switch(n){case h:return u;case m:return o;case p:return l;case f:return c;case g:return d}return t}),Of=x}function Lg(){if(Pf)return Cf;Pf=1;var e=Sp(),t=Cp(),r=Ep(),n=function(){if(yf)return xf;yf=1;var e=Mg(),t=Object.prototype.hasOwnProperty;return xf=function(r,n,a,s,i,o){var l=1&a,c=e(r),d=c.length;if(d!=e(n).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in n:t.call(n,h)))return!1}var m=o.get(r),p=o.get(n);if(m&&p)return m==n&&p==r;var f=!0;o.set(r,n),o.set(n,r);for(var g=l;++u<d;){var x=r[h=c[u]],y=n[h];if(s)var v=l?s(y,x,h,n,r,o):s(x,y,h,r,n,o);if(!(void 0===v?x===y||i(x,y,a,s,o):v)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var b=r.constructor,j=n.constructor;b==j||!("constructor"in r)||!("constructor"in n)||"function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j||(f=!1)}return o.delete(r),o.delete(n),f}}(),a=Dg(),s=Jc(),i=Gp(),o=Ag(),l="[object Arguments]",c="[object Array]",d="[object Object]",u=Object.prototype.hasOwnProperty;return Cf=function(h,m,p,f,g,x){var y=s(h),v=s(m),b=y?c:a(h),j=v?c:a(m),w=(b=b==l?d:b)==d,N=(j=j==l?d:j)==d,_=b==j;if(_&&i(h)){if(!i(m))return!1;y=!0,w=!1}if(_&&!w)return x||(x=new e),y||o(h)?t(h,m,p,f,g,x):r(h,m,b,p,f,g,x);if(!(1&p)){var S=w&&u.call(h,"__wrapped__"),k=N&&u.call(m,"__wrapped__");if(S||k){var O=S?h.value():h,A=k?m.value():m;return x||(x=new e),g(O,A,p,f,x)}}return!!_&&(x||(x=new e),n(h,m,p,f,g,x))}}function zg(){if(Tf)return Ef;Tf=1;var e=Lg(),t=rd();return Ef=function r(n,a,s,i,o){return n===a||(null==n||null==a||!t(n)&&!t(a)?n!=n&&a!=a:e(n,a,s,i,r,o))},Ef}function $g(){if(Df)return Rf;Df=1;var e=sd();return Rf=function(t){return t==t&&!e(t)}}function Ug(){if(Uf)return $f;return Uf=1,$f=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}}function Bg(){if(Ff)return Bf;Ff=1;var e=function(){if(Mf)return If;Mf=1;var e=Sp(),t=zg();return If=function(r,n,a,s){var i=a.length,o=i,l=!s;if(null==r)return!o;for(r=Object(r);i--;){var c=a[i];if(l&&c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++i<o;){var d=(c=a[i])[0],u=r[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in r))return!1}else{var m=new e;if(s)var p=s(u,h,d,r,n,m);if(!(void 0===p?t(h,u,3,s,m):p))return!1}}return!0}}(),t=function(){if(zf)return Lf;zf=1;var e=$g(),t=Ig();return Lf=function(r){for(var n=t(r),a=n.length;a--;){var s=n[a],i=r[s];n[a]=[s,i,e(i)]}return n}}(),r=Ug();return Bf=function(n){var a=t(n);return 1==a.length&&a[0][2]?r(a[0][0],a[0][1]):function(t){return t===n||e(t,n,a)}}}function Fg(){if(Kf)return Gf;Kf=1;var e=qf?Vf:(qf=1,Vf=function(e,t){return null!=e&&t in Object(e)}),t=function(){if(Hf)return Wf;Hf=1;var e=wd(),t=Mp(),r=Jc(),n=Kp(),a=Xp(),s=Nd();return Wf=function(i,o,l){for(var c=-1,d=(o=e(o,i)).length,u=!1;++c<d;){var h=s(o[c]);if(!(u=null!=i&&l(i,h)))break;i=i[h]}return u||++c!=d?u:!!(d=null==i?0:i.length)&&a(d)&&n(h,d)&&(r(i)||t(i))}}();return Gf=function(r,n){return null!=r&&t(r,n,e)}}function Vg(){if(Zf)return Jf;return Zf=1,Jf=function(e){return e}}function qg(){if(ag)return ng;ag=1;var e=eg?Qf:(eg=1,Qf=function(e){return function(t){return null==t?void 0:t[e]}}),t=function(){if(rg)return tg;rg=1;var e=_d();return tg=function(t){return function(r){return e(r,t)}}}(),r=ad(),n=Nd();return ng=function(a){return r(a)?e(n(a)):t(a)}}function Wg(){if(ig)return sg;ig=1;var e=Bg(),t=function(){if(Yf)return Xf;Yf=1;var e=zg(),t=Sd(),r=Fg(),n=ad(),a=$g(),s=Ug(),i=Nd();return Xf=function(o,l){return n(o)&&a(l)?s(i(o),l):function(n){var a=t(n,o);return void 0===a&&a===l?r(n,o):e(l,a,3)}}}(),r=Vg(),n=Jc(),a=qg();return sg=function(s){return"function"==typeof s?s:null==s?r:"object"==typeof s?n(s)?t(s[0],s[1]):e(s):a(s)}}function Hg(){if(lg)return og;return lg=1,og=function(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}}function Gg(){if(pg)return mg;pg=1;var e=Hg(),t=dg?cg:(dg=1,cg=function(e){return e!=e}),r=hg?ug:(hg=1,ug=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1});return mg=function(n,a,s){return a==a?r(n,a,s):e(n,t,s)}}function Kg(){if(wg)return jg;wg=1;var e=Rg(),t=bg?vg:(bg=1,vg=function(){}),r=Pp(),n=e&&1/r(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return jg=n}function Xg(){if(_g)return Ng;_g=1;var e=kp(),t=function(){if(gg)return fg;gg=1;var e=Gg();return fg=function(t,r){return!(null==t||!t.length)&&e(t,r,0)>-1}}(),r=yg?xg:(yg=1,xg=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}),n=Ap(),a=Kg(),s=Pp();return Ng=function(i,o,l){var c=-1,d=t,u=i.length,h=!0,m=[],p=m;if(l)h=!1,d=r;else if(u>=200){var f=o?null:a(i);if(f)return s(f);h=!1,d=n,p=new e}else p=o?[]:m;e:for(;++c<u;){var g=i[c],x=o?o(g):g;if(g=l||0!==g?g:0,h&&x==x){for(var y=p.length;y--;)if(p[y]===x)continue e;o&&p.push(x),m.push(g)}else d(p,x,l)||(p!==m&&p.push(x),m.push(g))}return m}}const Yg=gt(function(){if(kg)return Sg;kg=1;var e=Wg(),t=Xg();return Sg=function(r,n){return r&&r.length?t(r,e(n,2)):[]}}());function Jg(e,t,r){return!0===t?Yg(e,r):Id(t)?Yg(e,t):e}function Zg(e){return(Zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Qg=["ref"];function ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(r),!0).forEach(function(t){ox(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lx(n.key),n)}}function nx(e,t,r){return t=sx(t),function(e,t){if(t&&("object"===Zg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ax()?Reflect.construct(t,r||[],sx(e).constructor):t.apply(e,r))}function ax(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ax=function(){return!!e})()}function sx(e){return(sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ix(e,t){return(ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ox(e,t,r){return(t=lx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lx(e){var t=function(e,t){if("object"!=Zg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Zg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Zg(t)?t:t+""}function cx(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dx(e){return e.value}var ux,hx,mx,px,fx,gx,xx,yx,vx,bx,jx,wx,Nx,_x,Sx,kx,Ox,Ax,Cx,Px,Ex,Tx,Ix,Mx,Rx,Dx,Lx,zx,$x,Ux,Bx,Fx,Vx,qx,Wx,Hx,Gx,Kx,Xx,Yx,Jx,Zx,Qx,ey,ty=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ox(t=nx(this,e,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ix(e,t)}(e,at.PureComponent),t=e,n=[{key:"getWithHeight",value:function(e,t){var r=tx(tx({},this.defaultProps),e.props).layout;return"vertical"===r&&Xd(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?tx({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,s=n.align,i=n.verticalAlign,o=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===i?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),tx(tx({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,a=t.height,s=t.wrapperStyle,i=t.payloadUniqBy,o=t.payload,l=tx(tx({position:"absolute",width:n||"auto",height:a||"auto"},this.getDefaultPosition(s)),s);return lt.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(lt.isValidElement(e))return lt.cloneElement(e,t);if("function"==typeof e)return lt.createElement(e,t);t.ref;var r=cx(t,Qg);return lt.createElement(_p,r)}(r,tx(tx({},this.props),{},{payload:Jg(o,i,dx)})))}}])&&rx(t.prototype,r),n&&rx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function ry(){if(px)return mx;px=1;var e=Tp(),t=function(){if(hx)return ux;hx=1;var e=ed(),t=Mp(),r=Jc(),n=e?e.isConcatSpreadable:void 0;return ux=function(e){return r(e)||t(e)||!!(n&&e&&e[n])}}();return mx=function r(n,a,s,i,o){var l=-1,c=n.length;for(s||(s=t),o||(o=[]);++l<c;){var d=n[l];a>0&&s(d)?a>1?r(d,a-1,s,i,o):e(o,d):i||(o[o.length]=d)}return o},mx}function ny(){if(yx)return xx;yx=1;var e=(gx?fx:(gx=1,fx=function(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),o=i.length;o--;){var l=i[e?o:++a];if(!1===r(s[l],l,s))break}return t}}))();return xx=e}function ay(){if(bx)return vx;bx=1;var e=ny(),t=Ig();return vx=function(r,n){return r&&e(r,n,t)}}function sy(){if(_x)return Nx;_x=1;var e=ay(),t=function(){if(wx)return jx;wx=1;var e=Tg();return jx=function(t,r){return function(n,a){if(null==n)return n;if(!e(n))return t(n,a);for(var s=n.length,i=r?s:-1,o=Object(n);(r?i--:++i<s)&&!1!==a(o[i],i,o););return n}}}()(e);return Nx=t}function iy(){if(kx)return Sx;kx=1;var e=sy(),t=Tg();return Sx=function(r,n){var a=-1,s=t(r)?Array(r.length):[];return e(r,function(e,t,r){s[++a]=n(e,t,r)}),s}}function oy(){if(Tx)return Ex;Tx=1;var e=function(){if(Px)return Cx;Px=1;var e=nd();return Cx=function(t,r){if(t!==r){var n=void 0!==t,a=null===t,s=t==t,i=e(t),o=void 0!==r,l=null===r,c=r==r,d=e(r);if(!l&&!d&&!i&&t>r||i&&o&&c&&!l&&!d||a&&o&&c||!n&&c||!s)return 1;if(!a&&!i&&!d&&t<r||d&&n&&s&&!a&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}}();return Ex=function(t,r,n){for(var a=-1,s=t.criteria,i=r.criteria,o=s.length,l=n.length;++a<o;){var c=e(s[a],i[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return t.index-r.index}}function ly(){if(Mx)return Ix;Mx=1;var e=bd(),t=_d(),r=Wg(),n=iy(),a=Ax?Ox:(Ax=1,Ox=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}),s=Yp(),i=oy(),o=Vg(),l=Jc();return Ix=function(c,d,u){d=d.length?e(d,function(e){return l(e)?function(r){return t(r,1===e.length?e[0]:e)}:e}):[o];var h=-1;d=e(d,s(r));var m=n(c,function(t,r,n){return{criteria:e(d,function(e){return e(t)}),index:++h,value:t}});return a(m,function(e,t){return i(e,t,u)})}}function cy(){if(zx)return Lx;zx=1;var e=Dx?Rx:(Dx=1,Rx=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}),t=Math.max;return Lx=function(r,n,a){return n=t(void 0===n?r.length-1:n,0),function(){for(var s=arguments,i=-1,o=t(s.length-n,0),l=Array(o);++i<o;)l[i]=s[n+i];i=-1;for(var c=Array(n+1);++i<n;)c[i]=s[i];return c[n]=a(l),e(r,this,c)}},Lx}function dy(){if(Fx)return Bx;Fx=1;var e=cd(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(r){}}();return Bx=t}function uy(){if(qx)return Vx;qx=1;var e=Ux?$x:(Ux=1,$x=function(e){return function(){return e}}),t=dy(),r=Vg();return Vx=t?function(r,n){return t(r,"toString",{configurable:!0,enumerable:!1,value:e(n),writable:!0})}:r}function hy(){if(Kx)return Gx;Kx=1;var e=uy(),t=function(){if(Hx)return Wx;Hx=1;var e=Date.now;return Wx=function(t){var r=0,n=0;return function(){var a=e(),s=16-(a-n);if(n=a,s>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}},Wx}(),r=t(e);return Gx=r}function my(){if(Zx)return Jx;Zx=1;var e=hd(),t=Tg(),r=Kp(),n=sd();return Jx=function(a,s,i){if(!n(i))return!1;var o=typeof s;return!!("number"==o?t(i)&&r(s,i.length):"string"==o&&s in i)&&e(i[s],a)}}ox(ty,"displayName","Legend"),ox(ty,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});const py=gt(function(){if(ey)return Qx;ey=1;var e=ry(),t=ly(),r=function(){if(Yx)return Xx;Yx=1;var e=Vg(),t=cy(),r=hy();return Xx=function(n,a){return r(t(n,a,e),n+"")}}(),n=my(),a=r(function(r,a){if(null==r)return[];var s=a.length;return s>1&&n(r,a[0],a[1])?a=[]:s>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),t(r,e(a,1),[])});return Qx=a}());function fy(e){return(fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function xy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vy(Object(r),!0).forEach(function(t){jy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jy(e,t,r){var n;return n=function(e,t){if("object"!=fy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=fy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fy(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wy(e){return Array.isArray(e)&&Yd(e[0])&&Yd(e[1])?e.join(" ~ "):e}var Ny=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,a=void 0===n?{}:n,s=e.itemStyle,i=void 0===s?{}:s,o=e.labelStyle,l=void 0===o?{}:o,c=e.payload,d=e.formatter,u=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,p=e.label,f=e.labelFormatter,g=e.accessibilityLayer,x=void 0!==g&&g,y=by({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),v=by({margin:0},l),b=!Cd(p),j=b?p:"",w=vt("recharts-default-tooltip",h),N=vt("recharts-tooltip-label",m);b&&f&&null!=c&&(j=f(p,c));var _=x?{role:"status","aria-live":"assertive"}:{};return lt.createElement("div",gy({className:w,style:y},_),lt.createElement("p",{className:N,style:v},lt.isValidElement(j)?j:"".concat(j)),function(){if(c&&c.length){var e=(u?py(c,u):c).map(function(e,t){if("none"===e.type)return null;var n=by({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),a=e.formatter||d||wy,s=e.value,o=e.name,l=s,u=o;if(a&&null!=l&&null!=u){var h=a(s,o,e,t,c);if(Array.isArray(h)){var m=xy(h,2);l=m[0],u=m[1]}else l=h}return lt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},Yd(u)?lt.createElement("span",{className:"recharts-tooltip-item-name"},u):null,Yd(u)?lt.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,lt.createElement("span",{className:"recharts-tooltip-item-value"},l),lt.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return lt.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function _y(e){return(_y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sy(e,t,r){var n;return n=function(e,t){if("object"!=_y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=_y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_y(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ky="recharts-tooltip-wrapper",Oy={visibility:"hidden"};function Ay(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return vt(ky,Sy(Sy(Sy(Sy({},"".concat(ky,"-right"),Xd(r)&&t&&Xd(t.x)&&r>=t.x),"".concat(ky,"-left"),Xd(r)&&t&&Xd(t.x)&&r<t.x),"".concat(ky,"-bottom"),Xd(n)&&t&&Xd(t.y)&&n>=t.y),"".concat(ky,"-top"),Xd(n)&&t&&Xd(t.y)&&n<t.y))}function Cy(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&Xd(s[n]))return s[n];var d=r[n]-o-a,u=r[n]+a;return t[n]?i[n]?d:u:i[n]?d<l[n]?Math.max(u,l[n]):Math.max(d,l[n]):u+o>l[n]+c?Math.max(d,l[n]):Math.max(u,l[n])}function Py(e){return(Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ty(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ey(Object(r),!0).forEach(function(t){zy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ey(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Iy(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$y(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function My(e,t,r){return t=Dy(t),function(e,t){if(t&&("object"===Py(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ry()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function Ry(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ry=function(){return!!e})()}function Dy(e){return(Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ly(e,t){return(Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zy(e,t,r){return(t=$y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $y(e){var t=function(e,t){if("object"!=Py(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Py(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Py(t)?t:t+""}var Uy=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return zy(t=My(this,e,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zy(t,"handleKeyDown",function(e){var r,n,a,s;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=t.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(s=t.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==a?a:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}(e,at.PureComponent),Iy(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,s=t.animationEasing,i=t.children,o=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,d=t.offset,u=t.position,h=t.reverseDirection,m=t.useTranslate3d,p=t.viewBox,f=t.wrapperStyle,g=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=Cy({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=Cy({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):Oy,cssClasses:Ay({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),x=g.cssClasses,y=g.cssProperties,v=Ty(Ty({transition:c&&r?"transform ".concat(a,"ms ").concat(s):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0},f);return lt.createElement("div",{tabIndex:-1,className:x,style:v,ref:function(t){e.wrapperNode=t}},i)}}])}(),By=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function Fy(e){return(Fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vy(Object(r),!0).forEach(function(t){Yy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wy(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jy(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hy(e,t,r){return t=Ky(t),function(e,t){if(t&&("object"===Fy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gy()?Reflect.construct(t,r||[],Ky(e).constructor):t.apply(e,r))}function Gy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Gy=function(){return!!e})()}function Ky(e){return(Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xy(e,t){return(Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Yy(e,t,r){return(t=Jy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jy(e){var t=function(e,t){if("object"!=Fy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Fy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Fy(t)?t:t+""}function Zy(e){return e.dataKey}var Qy,ev,tv,rv,nv,av,sv,iv,ov,lv,cv,dv,uv=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hy(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}(e,at.PureComponent),Wy(e,[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,s=t.animationEasing,i=t.content,o=t.coordinate,l=t.filterNull,c=t.isAnimationActive,d=t.offset,u=t.payload,h=t.payloadUniqBy,m=t.position,p=t.reverseDirection,f=t.useTranslate3d,g=t.viewBox,x=t.wrapperStyle,y=null!=u?u:[];l&&y.length&&(y=Jg(u.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),h,Zy));var v=y.length>0;return lt.createElement(Uy,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:c,active:r,coordinate:o,hasPayload:v,offset:d,position:m,reverseDirection:p,useTranslate3d:f,viewBox:g,wrapperStyle:x},function(e,t){return lt.isValidElement(e)?lt.cloneElement(e,t):"function"==typeof e?lt.createElement(e,t):lt.createElement(Ny,t)}(i,qy(qy({},this.props),{},{payload:y})))}}])}();function hv(){if(av)return nv;av=1;var e=function(){if(rv)return tv;rv=1;var e=/\s/;return tv=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}}(),t=/^\s+/;return nv=function(r){return r?r.slice(0,e(r)+1).replace(t,""):r}}function mv(){if(iv)return sv;iv=1;var e=hv(),t=sd(),r=nd(),n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,i=parseInt;return sv=function(o){if("number"==typeof o)return o;if(r(o))return NaN;if(t(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=t(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=e(o);var c=a.test(o);return c||s.test(o)?i(o.slice(2),c?2:8):n.test(o)?NaN:+o}}function pv(){if(lv)return ov;lv=1;var e=sd(),t=function(){if(ev)return Qy;ev=1;var e=Qc();return Qy=function(){return e.Date.now()}}(),r=mv(),n=Math.max,a=Math.min;return ov=function(s,i,o){var l,c,d,u,h,m,p=0,f=!1,g=!1,x=!0;if("function"!=typeof s)throw new TypeError("Expected a function");function y(e){var t=l,r=c;return l=c=void 0,p=e,u=s.apply(r,t)}function v(e){var t=e-m;return void 0===m||t>=i||t<0||g&&e-p>=d}function b(){var e=t();if(v(e))return j(e);h=setTimeout(b,function(e){var t=i-(e-m);return g?a(t,d-(e-p)):t}(e))}function j(e){return h=void 0,x&&l?y(e):(l=c=void 0,u)}function w(){var e=t(),r=v(e);if(l=arguments,c=this,m=e,r){if(void 0===h)return function(e){return p=e,h=setTimeout(b,i),f?y(e):u}(m);if(g)return clearTimeout(h),h=setTimeout(b,i),y(m)}return void 0===h&&(h=setTimeout(b,i)),u}return i=r(i)||0,e(o)&&(f=!!o.leading,d=(g="maxWait"in o)?n(r(o.maxWait)||0,i):d,x="trailing"in o?!!o.trailing:x),w.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=m=c=h=void 0},w.flush=function(){return void 0===h?u:j(t())},w},ov}Yy(uv,"displayName","Tooltip"),Yy(uv,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!By,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fv=function(){if(dv)return cv;dv=1;var e=pv(),t=sd();return cv=function(r,n,a){var s=!0,i=!0;if("function"!=typeof r)throw new TypeError("Expected a function");return t(a)&&(s="leading"in a?!!a.leading:s,i="trailing"in a?!!a.trailing:i),e(r,n,{leading:s,maxWait:n,trailing:i})},cv}();const gv=gt(fv);function xv(e){return(xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yv(Object(r),!0).forEach(function(t){bv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bv(e,t,r){var n;return n=function(e,t){if("object"!=xv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=xv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xv(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nv=at.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=void 0===n?{width:-1,height:-1}:n,s=e.width,i=void 0===s?"100%":s,o=e.height,l=void 0===o?"100%":o,c=e.minWidth,d=void 0===c?0:c,u=e.minHeight,h=e.maxHeight,m=e.children,p=e.debounce,f=void 0===p?0:p,g=e.id,x=e.className,y=e.onResize,v=e.style,b=void 0===v?{}:v,j=at.useRef(null),w=at.useRef();w.current=y,at.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return j.current},configurable:!0})});var N=jv(at.useState({containerWidth:a.width,containerHeight:a.height}),2),_=N[0],S=N[1],k=at.useCallback(function(e,t){S(function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);at.useEffect(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;k(n,a),null===(t=w.current)||void 0===t||t.call(w,n,a)};f>0&&(e=gv(e,f,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=j.current.getBoundingClientRect(),n=r.width,a=r.height;return k(n,a),t.observe(j.current),function(){t.disconnect()}},[k,f]);var O=at.useMemo(function(){var e=_.containerWidth,t=_.containerHeight;if(e<0||t<0)return null;eh(Kd(i)||Kd(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,l),eh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=Kd(i)?e:i,a=Kd(l)?t:l;r&&r>0&&(n?a=n/r:a&&(n=a*r),h&&a>h&&(a=h)),eh(n>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,a,i,l,d,u,r);var s=!Array.isArray(m)&&xu(m.type).endsWith("Chart");return lt.Children.map(m,function(e){return lt.isValidElement(e)?at.cloneElement(e,vv({width:n,height:a},s?{style:vv({height:"100%",width:"100%",maxHeight:a,maxWidth:n},e.props.style)}:{})):e})},[r,m,l,h,u,d,_,i]);return lt.createElement("div",{id:g?"".concat(g):void 0,className:vt("recharts-responsive-container",x),style:vv(vv({},b),{},{width:i,height:l,minWidth:d,minHeight:u,maxHeight:h}),ref:j},O)}),_v=function(e){return null};function Sv(e){return(Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ov(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kv(Object(r),!0).forEach(function(t){Av(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Av(e,t,r){var n;return n=function(e,t){if("object"!=Sv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Sv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Sv(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_v.displayName="Cell";var Cv={widthCache:{},cacheCount:0},Pv={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ev="recharts_measurement_span";var Tv=function(e){if(null==e||By)return{width:0,height:0};var t,r=(t=Ov({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),n=JSON.stringify({text:e,copyStyle:r});if(Cv.widthCache[n])return Cv.widthCache[n];try{var a=document.getElementById(Ev);a||((a=document.createElement("span")).setAttribute("id",Ev),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Ov(Ov({},Pv),r);Object.assign(a.style,s),a.textContent="".concat(e);var i=a.getBoundingClientRect(),o={width:i.width,height:i.height};return Cv.widthCache[n]=o,++Cv.cacheCount>2e3&&(Cv.cacheCount=0,Cv.widthCache={}),o}catch(l){return{width:0,height:0}}};function Iv(e){return(Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lv(n.key),n)}}function Lv(e){var t=function(e,t){if("object"!=Iv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Iv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Iv(t)?t:t+""}var zv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$v=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uv=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bv=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fv={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Vv=Object.keys(Fv),qv="NaN";var Wv=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||Uv.test(r)||(this.num=NaN,this.unit=""),Vv.includes(r)&&(this.num=function(e,t){return e*Fv[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Mv(null!==(r=Bv.exec(t))&&void 0!==r?r:[],3),a=n[1],s=n[2];return new e(parseFloat(a),null!=s?s:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Dv(t.prototype,r),n&&Dv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function Hv(e){if(e.includes(qv))return qv;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Mv(null!==(r=zv.exec(t))&&void 0!==r?r:[],4),a=n[1],s=n[2],i=n[3],o=Wv.parse(null!=a?a:""),l=Wv.parse(null!=i?i:""),c="*"===s?o.multiply(l):o.divide(l);if(c.isNaN())return qv;t=t.replace(zv,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=Mv(null!==(d=$v.exec(t))&&void 0!==d?d:[],4),h=u[1],m=u[2],p=u[3],f=Wv.parse(null!=h?h:""),g=Wv.parse(null!=p?p:""),x="+"===m?f.add(g):f.subtract(g);if(x.isNaN())return qv;t=t.replace($v,x.toString())}return t}var Gv=/\(([^()]*)\)/;function Kv(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Mv(Gv.exec(t),2)[1];t=t.replace(Gv,Hv(r))}return t}(t),t=Hv(t)}function Xv(e){var t=function(e){try{return Kv(e)}catch(t){return qv}}(e.slice(5,-1));return t===qv?"":t}var Yv=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Jv=["dx","dy","angle","className","breakAll"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(this,arguments)}function Qv(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rb=/[ \f\n\r\t\v\u2028\u2029]+/,nb=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return Cd(t)||(a=r?t.toString().split(""):t.toString().split(rb)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Tv(e,n).width}}),spaceWidth:r?0:Tv(" ",n).width}}catch(s){return null}},ab=function(e){return[{words:Cd(e)?[]:e.toString().split(rb)}]},sb=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,s=e.breakAll,i=e.maxLines;if((t||r)&&!By){var o=nb({breakAll:s,children:n,style:a});return o?function(e,t,r,n,a){var s=e.maxLines,i=e.children,o=e.style,l=e.breakAll,c=Xd(s),d=i,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,i=t.width,o=e[e.length-1];if(o&&(null==n||a||o.width+i+r<Number(n)))o.words.push(s),o.width+=i+r;else{var l={words:[s],width:i};e.push(l)}return e},[])},h=u(t);if(!c)return h;for(var m,p=function(e){var t=d.slice(0,e),r=nb({breakAll:l,style:o,children:t+"…"}).wordsWithComputedWidth,a=u(r),i=a.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(n);return[i,a]},f=0,g=d.length-1,x=0;f<=g&&x<=d.length-1;){var y=Math.floor((f+g)/2),v=eb(p(y-1),2),b=v[0],j=v[1],w=eb(p(y),1)[0];if(b||w||(f=y+1),b&&w&&(g=y-1),!b&&w){m=j;break}x++}return m||h}({breakAll:s,children:n,maxLines:i,style:a},o.wordsWithComputedWidth,o.spaceWidth,t,r):ab(n)}return ab(n)},ib="#808080",ob=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,s=e.lineHeight,i=void 0===s?"1em":s,o=e.capHeight,l=void 0===o?"0.71em":o,c=e.scaleToFit,d=void 0!==c&&c,u=e.textAnchor,h=void 0===u?"start":u,m=e.verticalAnchor,p=void 0===m?"end":m,f=e.fill,g=void 0===f?ib:f,x=Qv(e,Yv),y=at.useMemo(function(){return sb({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),v=x.dx,b=x.dy,j=x.angle,w=x.className,N=x.breakAll,_=Qv(x,Jv);if(!Yd(r)||!Yd(a))return null;var S,k=r+(Xd(v)?v:0),O=a+(Xd(b)?b:0);switch(p){case"start":S=Xv("calc(".concat(l,")"));break;case"middle":S=Xv("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:S=Xv("calc(".concat(y.length-1," * -").concat(i,")"))}var A=[];if(d){var C=y[0].width,P=x.width;A.push("scale(".concat((Xd(P)?P/C:1)/C,")"))}return j&&A.push("rotate(".concat(j,", ").concat(k,", ").concat(O,")")),A.length&&(_.transform=A.join(" ")),lt.createElement("text",Zv({},ku(_,!0),{x:k,y:O,className:vt("recharts-text",w),textAnchor:h,fill:g.includes("url")?ib:g}),y.map(function(e,t){var r=e.words.join(N?"":" ");return lt.createElement("tspan",{x:k,dy:0===t?S:i,key:"".concat(r,"-").concat(t)},r)}))};function lb(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cb(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function db(e){let t,r,n;function a(e,n,a=0,s=e.length){if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=lb,r=(t,r)=>lb(e(t),r),n=(t,r)=>e(t)-r):(t=e===lb||e===cb?e:ub,r=e,n=e),{left:a,center:function(e,t,r=0,s=e.length){const i=a(e,t,r,s-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n,a=0,s=e.length){if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<=0?a=t+1:s=t}while(a<s)}return a}}}function ub(){return 0}function hb(e){return null===e?NaN:+e}const mb=db(lb).right;db(hb).center;class pb extends Map{constructor(e,t=gb){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(fb(this,e))}has(e){return super.has(fb(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const n=t(r);e.has(n)&&(r=e.get(n),e.delete(n));return r}(this,e))}}function fb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gb(e){return null!==e&&"object"==typeof e?e.valueOf():e}function xb(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const yb=Math.sqrt(50),vb=Math.sqrt(10),bb=Math.sqrt(2);function jb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=yb?10:s>=vb?5:s>=bb?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?jb(e,t,2*r):[o,l,c]}function wb(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,s,i]=n?jb(t,e,r):jb(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function Nb(e,t,r){return jb(e=+e,t=+t,r=+r)[2]}function _b(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Nb(t,e,r):Nb(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Sb(e,t){let r;for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);return r}function kb(e,t){let r;for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);return r}function Ob(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?xb:function(e=lb){if(e===lb)return xb;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(a);n>r;){if(n-r>600){const s=n-r+1,i=t-r+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);Ob(e,t,Math.max(r,Math.floor(t-i*l/s+c)),Math.min(n,Math.floor(t+(s-i)*l/s+c)),a)}const s=e[t];let i=r,o=n;for(Ab(e,r,t),a(e[n],s)>0&&Ab(e,r,n);i<o;){for(Ab(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}0===a(e[r],s)?Ab(e,r,o):(++o,Ab(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Ab(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Cb(e,t,r=hb){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e);return i+(+r(e[s+1],s+1,e)-i)*(a-s)}}function Pb(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Eb(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Tb=Symbol("implicit");function Ib(){var e=new pb,t=[],r=[],n=Tb;function a(a){let s=e.get(a);if(void 0===s){if(n!==Tb)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new pb;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return Ib(t,r).unknown(n)},Pb.apply(a,arguments),a}function Mb(){var e,t,r=Ib().unknown(void 0),n=r.domain,a=r.range,s=0,i=1,o=!1,l=0,c=0,d=.5;function u(){var r=n().length,u=i<s,h=u?i:s,m=u?s:i;e=(m-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(m-h-e*(r-l))*d,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),s=new Array(a);++n<a;)s[n]=e+n*r;return s}(r).map(function(t){return h+e*t});return a(u?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,u()):[s,i]},r.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return Mb(n(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Pb.apply(u(),arguments)}function Rb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Rb(t())},e}function Db(){return Rb(Mb.apply(null,arguments).paddingInner(1))}function Lb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zb(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $b(){}var Ub=.7,Bb=1/Ub,Fb="\\s*([+-]?\\d+)\\s*",Vb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wb=/^#([0-9a-f]{3,8})$/,Hb=new RegExp(`^rgb\\(${Fb},${Fb},${Fb}\\)$`),Gb=new RegExp(`^rgb\\(${qb},${qb},${qb}\\)$`),Kb=new RegExp(`^rgba\\(${Fb},${Fb},${Fb},${Vb}\\)$`),Xb=new RegExp(`^rgba\\(${qb},${qb},${qb},${Vb}\\)$`),Yb=new RegExp(`^hsl\\(${Vb},${qb},${qb}\\)$`),Jb=new RegExp(`^hsla\\(${Vb},${qb},${qb},${Vb}\\)$`),Zb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qb(){return this.rgb().formatHex()}function ej(){return this.rgb().formatRgb()}function tj(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Wb.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?rj(t):3===r?new sj(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?nj(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?nj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Hb.exec(e))?new sj(t[1],t[2],t[3],1):(t=Gb.exec(e))?new sj(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Kb.exec(e))?nj(t[1],t[2],t[3],t[4]):(t=Xb.exec(e))?nj(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Yb.exec(e))?uj(t[1],t[2]/100,t[3]/100,1):(t=Jb.exec(e))?uj(t[1],t[2]/100,t[3]/100,t[4]):Zb.hasOwnProperty(e)?rj(Zb[e]):"transparent"===e?new sj(NaN,NaN,NaN,0):null}function rj(e){return new sj(e>>16&255,e>>8&255,255&e,1)}function nj(e,t,r,n){return n<=0&&(e=t=r=NaN),new sj(e,t,r,n)}function aj(e,t,r,n){return 1===arguments.length?((a=e)instanceof $b||(a=tj(a)),a?new sj((a=a.rgb()).r,a.g,a.b,a.opacity):new sj):new sj(e,t,r,null==n?1:n);var a}function sj(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function ij(){return`#${dj(this.r)}${dj(this.g)}${dj(this.b)}`}function oj(){const e=lj(this.opacity);return`${1===e?"rgb(":"rgba("}${cj(this.r)}, ${cj(this.g)}, ${cj(this.b)}${1===e?")":`, ${e})`}`}function lj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cj(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dj(e){return((e=cj(e))<16?"0":"")+e.toString(16)}function uj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mj(e,t,r,n)}function hj(e){if(e instanceof mj)return new mj(e.h,e.s,e.l,e.opacity);if(e instanceof $b||(e=tj(e)),!e)return new mj;if(e instanceof mj)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(i=t===s?(r-n)/o+6*(r<n):r===s?(n-t)/o+2:(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new mj(i,o,l,e.opacity)}function mj(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function pj(e){return(e=(e||0)%360)<0?e+360:e}function fj(e){return Math.max(0,Math.min(1,e||0))}function gj(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}Lb($b,tj,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qb,formatHex:Qb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return hj(this).formatHsl()},formatRgb:ej,toString:ej}),Lb(sj,aj,zb($b,{brighter(e){return e=null==e?Bb:Math.pow(Bb,e),new sj(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Ub:Math.pow(Ub,e),new sj(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sj(cj(this.r),cj(this.g),cj(this.b),lj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ij,formatHex:ij,formatHex8:function(){return`#${dj(this.r)}${dj(this.g)}${dj(this.b)}${dj(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:oj,toString:oj})),Lb(mj,function(e,t,r,n){return 1===arguments.length?hj(e):new mj(e,t,r,null==n?1:n)},zb($b,{brighter(e){return e=null==e?Bb:Math.pow(Bb,e),new mj(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ub:Math.pow(Ub,e),new mj(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new sj(gj(e>=240?e-240:e+120,a,n),gj(e,a,n),gj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new mj(pj(this.h),fj(this.s),fj(this.l),lj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lj(this.opacity);return`${1===e?"hsl(":"hsla("}${pj(this.h)}, ${100*fj(this.s)}%, ${100*fj(this.l)}%${1===e?")":`, ${e})`}`}}));const xj=e=>()=>e;function yj(e){return 1===(e=+e)?vj:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):xj(isNaN(t)?r:t)}}function vj(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):xj(isNaN(e)?t:e)}const bj=function e(t){var r=yj(t);function n(e,t){var n=r((e=aj(e)).r,(t=aj(t)).r),a=r(e.g,t.g),s=r(e.b,t.b),i=vj(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=s(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function jj(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(r=0;r<n;++r)a[r]=e[r]*(1-s)+t[r]*s;return a}}function wj(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n);for(r=0;r<a;++r)s[r]=Cj(e[r],t[r]);for(;r<n;++r)i[r]=t[r];return function(e){for(r=0;r<a;++r)i[r]=s[r](e);return i}}function Nj(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _j(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Sj(e,t){var r,n={},a={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=Cj(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var kj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oj=new RegExp(kj.source,"g");function Aj(e,t){var r,n,a,s=kj.lastIndex=Oj.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(r=kj.exec(e))&&(n=Oj.exec(t));)(a=n.index)>s&&(a=t.slice(s,a),o[i]?o[i]+=a:o[++i]=a),(r=r[0])===(n=n[0])?o[i]?o[i]+=n:o[++i]=n:(o[++i]=null,l.push({i:i,x:_j(r,n)})),s=Oj.lastIndex;return s<t.length&&(a=t.slice(s),o[i]?o[i]+=a:o[++i]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function Cj(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?xj(t):("number"===a?_j:"string"===a?(r=tj(t))?(t=r,bj):Aj:t instanceof tj?bj:t instanceof Date?Nj:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?wj:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Sj:_j:jj))(e,t)}function Pj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ej(e){return+e}var Tj=[0,1];function Ij(e){return e}function Mj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Rj(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Mj(a,n),s=r(i,s)):(n=Mj(n,a),s=r(s,i)),function(e){return s(n(e))}}function Dj(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Mj(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(t){var r=mb(e,t,1,n)-1;return s[r](a[r](t))}}function Lj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zj(){var e,t,r,n,a,s,i=Tj,o=Tj,l=Cj,c=Ij;function d(){var e,t,r,l=Math.min(i.length,o.length);return c!==Ij&&(e=i[0],t=i[l-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?Dj:Rj,a=s=null,u}function u(t){return null==t||isNaN(t=+t)?r:(a||(a=n(i.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((s||(s=n(o,i.map(e),_j)))(r)))},u.domain=function(e){return arguments.length?(i=Array.from(e,Ej),d()):i.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=Pj,d()},u.clamp=function(e){return arguments.length?(c=!!e||Ij,d()):c!==Ij},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,d()}}function $j(){return zj()(Ij,Ij)}function Uj(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Bj(e){return(e=Uj(Math.abs(e)))?e[1]:NaN}var Fj,Vj=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qj(e){if(!(t=Vj.exec(e)))throw new Error("invalid format: "+e);var t;return new Wj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Wj(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Hj(e,t){var r=Uj(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}qj.prototype=Wj.prototype,Wj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Gj={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Hj(100*e,t),r:Hj,s:function(e,t){var r=Uj(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Fj=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Uj(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kj(e){return e}var Xj,Yj,Jj,Zj=Array.prototype.map,Qj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ew(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Kj:(t=Zj.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,s=[],i=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(e.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[i=(i+1)%t.length];return s.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Kj:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Zj.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=qj(e)).fill,r=e.align,u=e.sign,h=e.symbol,m=e.zero,p=e.width,f=e.comma,g=e.precision,x=e.trim,y=e.type;"n"===y?(f=!0,y="g"):Gj[y]||(void 0===g&&(g=12),x=!0,y="g"),(m||"0"===t&&"="===r)&&(m=!0,t="0",r="=");var v="$"===h?a:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?s:/[%p]/.test(y)?l:"",j=Gj[y],w=/[defgprs%]/.test(y);function N(e){var a,s,l,h=v,N=b;if("c"===y)N=j(e)+N,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),g),x&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==u&&(_=!1),h=(_?"("===u?u:c:"-"===u||"("===u?"":u)+h,N=("s"===y?Qj[8+Fj/3]:"")+N+(_&&"("===u?")":""),w)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?i+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}f&&!m&&(e=n(e,1/0));var S=h.length+e.length+N.length,k=S<p?new Array(p-S+1).join(t):"";switch(f&&m&&(e=n(k+e,k.length?p-N.length:1/0),k=""),r){case"<":e=h+e+N+k;break;case"=":e=h+k+e+N;break;case"^":e=k.slice(0,S=k.length>>1)+h+e+N+k.slice(S);break;default:e=k+h+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=qj(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Bj(t)/3))),a=Math.pow(10,-n),s=Qj[8+n/3];return function(e){return r(a*e)+s}}}}function tw(e,t,r,n){var a,s=_b(e,t,r);switch((n=qj(null==n?",f":n)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bj(t)/3)))-Bj(Math.abs(e)))}(s,i))||(n.precision=a),Jj(n,i);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bj(t)-Bj(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Bj(Math.abs(e)))}(s))||(n.precision=a-2*("%"===n.type))}return Yj(n)}function rw(e){var t=e.domain;return e.ticks=function(e){var r=t();return wb(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return tw(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],d=10;for(c<l&&(a=l,l=c,c=a,a=i,i=o,o=a);d-- >0;){if((a=Nb(l,c,r))===n)return s[i]=l,s[o]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function nw(){var e=$j();return e.copy=function(){return Lj(e,nw())},Pb.apply(e,arguments),rw(e)}function aw(e,t){var r,n=0,a=(e=e.slice()).length-1,s=e[n],i=e[a];return i<s&&(r=n,n=a,a=r,r=s,s=i,i=r),e[n]=t.floor(s),e[a]=t.ceil(i),e}function sw(e){return Math.log(e)}function iw(e){return Math.exp(e)}function ow(e){return-Math.log(-e)}function lw(e){return-Math.exp(-e)}function cw(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dw(e){return(t,r)=>-e(-t,r)}function uw(e){const t=e(sw,iw),r=t.domain;let n,a,s=10;function i(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?cw:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),r()[0]<0?(n=dw(n),a=dw(a),e(ow,lw)):e(sw,iw),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,d,u=n(i),h=n(o);const m=null==e?10:+e;let p=[];if(!(s%1)&&h-u<m){if(u=Math.floor(u),h=Math.ceil(h),i>0){for(;u<=h;++u)for(c=1;c<s;++c)if(d=u<0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;p.push(d)}}else for(;u<=h;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;p.push(d)}2*p.length<m&&(p=wb(i,o,m))}else p=wb(u,h,Math.min(h-u,m)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===s?"s":","),"function"!=typeof r&&(s%1||null!=(r=qj(r)).precision||(r.trim=!0),r=Yj(r)),e===1/0)return r;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*s<s-.5&&(t*=s),t<=i?r(e):""}},t.nice=()=>r(aw(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function hw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pw(e){var t=1,r=e(hw(t),mw(t));return r.constant=function(r){return arguments.length?e(hw(t=+r),mw(t)):t},rw(r)}function fw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xw(e){return e<0?-e*e:e*e}function yw(e){var t=e(Ij,Ij),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Ij,Ij):.5===r?e(gw,xw):e(fw(r),fw(1/r)):r},rw(t)}function vw(){var e=yw(zj());return e.copy=function(){return Lj(e,vw()).exponent(e.exponent())},Pb.apply(e,arguments),e}function bw(e){return Math.sign(e)*e*e}Xj=ew({thousands:",",grouping:[3],currency:["$",""]}),Yj=Xj.format,Jj=Xj.formatPrefix;const jw=new Date,ww=new Date;function Nw(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,s)=>{const i=[];if(r=a.ceil(r),s=null==s?1:Math.floor(s),!(r<n&&s>0))return i;let o;do{i.push(o=new Date(+r)),t(r,s),e(r)}while(o<r&&r<n);return i},a.filter=r=>Nw(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(jw.setTime(+t),ww.setTime(+n),e(jw),e(ww),Math.floor(r(jw,ww))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const _w=Nw(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_w.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Nw(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_w:null),_w.range;const Sw=1e3,kw=6e4,Ow=36e5,Aw=864e5,Cw=6048e5,Pw=2592e6,Ew=31536e6,Tw=Nw(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Sw)},(e,t)=>(t-e)/Sw,e=>e.getUTCSeconds());Tw.range;const Iw=Nw(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sw)},(e,t)=>{e.setTime(+e+t*kw)},(e,t)=>(t-e)/kw,e=>e.getMinutes());Iw.range;const Mw=Nw(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kw)},(e,t)=>(t-e)/kw,e=>e.getUTCMinutes());Mw.range;const Rw=Nw(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sw-e.getMinutes()*kw)},(e,t)=>{e.setTime(+e+t*Ow)},(e,t)=>(t-e)/Ow,e=>e.getHours());Rw.range;const Dw=Nw(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ow)},(e,t)=>(t-e)/Ow,e=>e.getUTCHours());Dw.range;const Lw=Nw(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kw)/Aw,e=>e.getDate()-1);Lw.range;const zw=Nw(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Aw,e=>e.getUTCDate()-1);zw.range;const $w=Nw(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Aw,e=>Math.floor(e/Aw));function Uw(e){return Nw(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kw)/Cw)}$w.range;const Bw=Uw(0),Fw=Uw(1),Vw=Uw(2),qw=Uw(3),Ww=Uw(4),Hw=Uw(5),Gw=Uw(6);function Kw(e){return Nw(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Cw)}Bw.range,Fw.range,Vw.range,qw.range,Ww.range,Hw.range,Gw.range;const Xw=Kw(0),Yw=Kw(1),Jw=Kw(2),Zw=Kw(3),Qw=Kw(4),eN=Kw(5),tN=Kw(6);Xw.range,Yw.range,Jw.range,Zw.range,Qw.range,eN.range,tN.range;const rN=Nw(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());rN.range;const nN=Nw(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());nN.range;const aN=Nw(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());aN.every=e=>isFinite(e=Math.floor(e))&&e>0?Nw(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,aN.range;const sN=Nw(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function iN(e,t,r,n,a,s){const i=[[Tw,1,Sw],[Tw,5,5e3],[Tw,15,15e3],[Tw,30,3e4],[s,1,kw],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,Ow],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Aw],[n,2,1728e5],[r,1,Cw],[t,1,Pw],[t,3,7776e6],[e,1,Ew]];function o(t,r,n){const a=Math.abs(r-t)/n,s=db(([,,e])=>e).right(i,a);if(s===i.length)return e.every(_b(t/Ew,r/Ew,n));if(0===s)return _w.every(Math.max(_b(t,r,n),1));const[o,l]=i[a/i[s-1][2]<i[s][2]/a?s-1:s];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"==typeof r.range?r:o(e,t,r),s=a?a.range(e,+t+1):[];return n?s.reverse():s},o]}sN.every=e=>isFinite(e=Math.floor(e))&&e>0?Nw(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,sN.range;const[oN,lN]=iN(sN,nN,Xw,$w,Dw,Mw),[cN,dN]=iN(aN,rN,Bw,Lw,Rw,Iw);function uN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mN(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var pN,fN,gN,xN={"-":"",_:" ",0:"0"},yN=/^\s*\d+/,vN=/^%/,bN=/[\\^$*+?|[\]().{}]/g;function jN(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function wN(e){return e.replace(bN,"\\$&")}function NN(e){return new RegExp("^(?:"+e.map(wN).join("|")+")","i")}function _N(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function SN(e,t,r){var n=yN.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kN(e,t,r){var n=yN.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ON(e,t,r){var n=yN.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function AN(e,t,r){var n=yN.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function CN(e,t,r){var n=yN.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function PN(e,t,r){var n=yN.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function EN(e,t,r){var n=yN.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function TN(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function IN(e,t,r){var n=yN.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function MN(e,t,r){var n=yN.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function RN(e,t,r){var n=yN.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function DN(e,t,r){var n=yN.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function LN(e,t,r){var n=yN.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zN(e,t,r){var n=yN.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function $N(e,t,r){var n=yN.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function UN(e,t,r){var n=yN.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function BN(e,t,r){var n=yN.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function FN(e,t,r){var n=vN.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function VN(e,t,r){var n=yN.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qN(e,t,r){var n=yN.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function WN(e,t){return jN(e.getDate(),t,2)}function HN(e,t){return jN(e.getHours(),t,2)}function GN(e,t){return jN(e.getHours()%12||12,t,2)}function KN(e,t){return jN(1+Lw.count(aN(e),e),t,3)}function XN(e,t){return jN(e.getMilliseconds(),t,3)}function YN(e,t){return XN(e,t)+"000"}function JN(e,t){return jN(e.getMonth()+1,t,2)}function ZN(e,t){return jN(e.getMinutes(),t,2)}function QN(e,t){return jN(e.getSeconds(),t,2)}function e_(e){var t=e.getDay();return 0===t?7:t}function t_(e,t){return jN(Bw.count(aN(e)-1,e),t,2)}function r_(e){var t=e.getDay();return t>=4||0===t?Ww(e):Ww.ceil(e)}function n_(e,t){return e=r_(e),jN(Ww.count(aN(e),e)+(4===aN(e).getDay()),t,2)}function a_(e){return e.getDay()}function s_(e,t){return jN(Fw.count(aN(e)-1,e),t,2)}function i_(e,t){return jN(e.getFullYear()%100,t,2)}function o_(e,t){return jN((e=r_(e)).getFullYear()%100,t,2)}function l_(e,t){return jN(e.getFullYear()%1e4,t,4)}function c_(e,t){var r=e.getDay();return jN((e=r>=4||0===r?Ww(e):Ww.ceil(e)).getFullYear()%1e4,t,4)}function d_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jN(t/60|0,"0",2)+jN(t%60,"0",2)}function u_(e,t){return jN(e.getUTCDate(),t,2)}function h_(e,t){return jN(e.getUTCHours(),t,2)}function m_(e,t){return jN(e.getUTCHours()%12||12,t,2)}function p_(e,t){return jN(1+zw.count(sN(e),e),t,3)}function f_(e,t){return jN(e.getUTCMilliseconds(),t,3)}function g_(e,t){return f_(e,t)+"000"}function x_(e,t){return jN(e.getUTCMonth()+1,t,2)}function y_(e,t){return jN(e.getUTCMinutes(),t,2)}function v_(e,t){return jN(e.getUTCSeconds(),t,2)}function b_(e){var t=e.getUTCDay();return 0===t?7:t}function j_(e,t){return jN(Xw.count(sN(e)-1,e),t,2)}function w_(e){var t=e.getUTCDay();return t>=4||0===t?Qw(e):Qw.ceil(e)}function N_(e,t){return e=w_(e),jN(Qw.count(sN(e),e)+(4===sN(e).getUTCDay()),t,2)}function __(e){return e.getUTCDay()}function S_(e,t){return jN(Yw.count(sN(e)-1,e),t,2)}function k_(e,t){return jN(e.getUTCFullYear()%100,t,2)}function O_(e,t){return jN((e=w_(e)).getUTCFullYear()%100,t,2)}function A_(e,t){return jN(e.getUTCFullYear()%1e4,t,4)}function C_(e,t){var r=e.getUTCDay();return jN((e=r>=4||0===r?Qw(e):Qw.ceil(e)).getUTCFullYear()%1e4,t,4)}function P_(){return"+0000"}function E_(){return"%"}function T_(e){return+e}function I_(e){return Math.floor(+e/1e3)}function M_(e){return new Date(e)}function R_(e){return e instanceof Date?+e:+new Date(+e)}function D_(e,t,r,n,a,s,i,o,l,c){var d=$j(),u=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),f=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y");function j(e){return(l(e)<e?m:o(e)<e?p:i(e)<e?f:s(e)<e?g:n(e)<e?a(e)<e?x:y:r(e)<e?v:b)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,R_)):h().map(M_)},d.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var r=h();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(aw(r,e)):d},d.copy=function(){return Lj(d,D_(e,t,r,n,a,s,i,o,l,c))},d}function L_(){var e,t,r,n,a,s=0,i=1,o=Ij,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([s,i]=a,e=n(s=+s),t=n(i=+i),r=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(Cj),c.rangeRound=d(Pj),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(s),t=a(i),r=e===t?0:1/(t-e),c}}function z_(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $_(){var e=yw(L_());return e.copy=function(){return z_(e,$_()).exponent(e.exponent())},Eb.apply(e,arguments)}function U_(){var e,t,r,n,a,s,i,o=0,l=.5,c=1,d=1,u=Ij,h=!1;function m(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(d*e<d*t?n:a),u(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,u=function(e,t){void 0===t&&(t=e,e=Cj);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return s[t](e-t)}}(e,[r,n,a]),m):[u(0),u(.5),u(1)]}}return m.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),r=s(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,m):[o,l,c]},m.clamp=function(e){return arguments.length?(h=!!e,m):h},m.interpolator=function(e){return arguments.length?(u=e,m):u},m.range=p(Cj),m.rangeRound=p(Pj),m.unknown=function(e){return arguments.length?(i=e,m):i},function(i){return s=i,e=i(o),t=i(l),r=i(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,m}}function B_(){var e=yw(U_());return e.copy=function(){return z_(e,B_()).exponent(e.exponent())},Eb.apply(e,arguments)}!function(e){pN=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=NN(a),d=_N(a),u=NN(s),h=_N(s),m=NN(i),p=_N(i),f=NN(o),g=_N(o),x=NN(l),y=_N(l),v={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:WN,e:WN,f:YN,g:o_,G:c_,H:HN,I:GN,j:KN,L:XN,m:JN,M:ZN,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:T_,s:I_,S:QN,u:e_,U:t_,V:n_,w:a_,W:s_,x:null,X:null,y:i_,Y:l_,Z:d_,"%":E_},b={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:u_,e:u_,f:g_,g:O_,G:C_,H:h_,I:m_,j:p_,L:f_,m:x_,M:y_,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:T_,s:I_,S:v_,u:b_,U:j_,V:N_,w:__,W:S_,x:null,X:null,y:k_,Y:A_,Z:P_,"%":E_},j={a:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=x.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return _(e,t,r,n)},d:RN,e:RN,f:BN,g:EN,G:PN,H:LN,I:LN,j:DN,L:UN,m:MN,M:zN,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=d.get(n[0].toLowerCase()),r+n[0].length):-1},q:IN,Q:VN,s:qN,S:$N,u:kN,U:ON,V:AN,w:SN,W:CN,x:function(e,t,n){return _(e,r,t,n)},X:function(e,t,r){return _(e,n,t,r)},y:EN,Y:PN,Z:TN,"%":FN};function w(e,t){return function(r){var n,a,s,i=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(a=xN[n=e.charAt(++o)])?n=e.charAt(++o):a="e"===n?" ":"0",(s=t[n])&&(n=s(r,a)),i.push(n),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(r){var n,a,s=mN(1900,void 0,1);if(_(s,e,r+="",0)!=r.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(n=hN(mN(s.y,0,1))).getUTCDay(),n=a>4||0===a?Yw.ceil(n):Yw(n),n=zw.offset(n,7*(s.V-1)),s.y=n.getUTCFullYear(),s.m=n.getUTCMonth(),s.d=n.getUTCDate()+(s.w+6)%7):(a=(n=uN(mN(s.y,0,1))).getDay(),n=a>4||0===a?Fw.ceil(n):Fw(n),n=Lw.offset(n,7*(s.V-1)),s.y=n.getFullYear(),s.m=n.getMonth(),s.d=n.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?hN(mN(s.y,0,1)).getUTCDay():uN(mN(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,hN(s)):uN(s)}}function _(e,t,r,n){for(var a,s,i=0,o=t.length,l=r.length;i<o;){if(n>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(s=j[a in xN?t.charAt(i++):a])||(n=s(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return v.x=w(r,v),v.X=w(n,v),v.c=w(t,v),b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),{format:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),fN=pN.format,pN.parse,gN=pN.utcFormat,pN.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const F_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mb,scaleDiverging:function e(){var t=rw(U_()(Ij));return t.copy=function(){return z_(t,e())},Eb.apply(t,arguments)},scaleDivergingLog:function e(){var t=uw(U_()).domain([.1,1,10]);return t.copy=function(){return z_(t,e()).base(t.base())},Eb.apply(t,arguments)},scaleDivergingPow:B_,scaleDivergingSqrt:function(){return B_.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=pw(U_());return t.copy=function(){return z_(t,e()).constant(t.constant())},Eb.apply(t,arguments)},scaleIdentity:function e(t){var r;function n(e){return null==e||isNaN(e=+e)?r:e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Ej),n):t.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,Ej):[0,1],rw(n)},scaleImplicit:Tb,scaleLinear:nw,scaleLog:function e(){const t=uw(zj()).domain([1,10]);return t.copy=()=>Lj(t,e()).base(t.base()),Pb.apply(t,arguments),t},scaleOrdinal:Ib,scalePoint:Db,scalePow:vw,scaleQuantile:function e(){var t,r=[],n=[],a=[];function s(){var e=0,t=Math.max(1,n.length);for(a=new Array(t-1);++e<t;)a[e-1]=Cb(r,e/t);return i}function i(e){return null==e||isNaN(e=+e)?t:n[mb(a,e)]}return i.invertExtent=function(e){var t=n.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:r[0],t<a.length?a[t]:r[r.length-1]]},i.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(lb),s()},i.range=function(e){return arguments.length?(n=Array.from(e),s()):n.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return a.slice()},i.copy=function(){return e().domain(r).range(n).unknown(t)},Pb.apply(i,arguments)},scaleQuantize:function e(){var t,r=0,n=1,a=1,s=[.5],i=[0,1];function o(e){return null!=e&&e<=e?i[mb(s,e,0,a)]:t}function l(){var e=-1;for(s=new Array(a);++e<a;)s[e]=((e+1)*n-(e-a)*r)/(a+1);return o}return o.domain=function(e){return arguments.length?([r,n]=e,r=+r,n=+n,l()):[r,n]},o.range=function(e){return arguments.length?(a=(i=Array.from(e)).length-1,l()):i.slice()},o.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,s[0]]:t>=a?[s[a-1],n]:[s[t-1],s[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return s.slice()},o.copy=function(){return e().domain([r,n]).range(i).unknown(t)},Pb.apply(rw(o),arguments)},scaleRadial:function e(){var t,r=$j(),n=[0,1],a=!1;function s(e){var n=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(n)?t:a?Math.round(n):n}return s.invert=function(e){return r.invert(bw(e))},s.domain=function(e){return arguments.length?(r.domain(e),s):r.domain()},s.range=function(e){return arguments.length?(r.range((n=Array.from(e,Ej)).map(bw)),s):n.slice()},s.rangeRound=function(e){return s.range(e).round(!0)},s.round=function(e){return arguments.length?(a=!!e,s):a},s.clamp=function(e){return arguments.length?(r.clamp(e),s):r.clamp()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e(r.domain(),n).round(a).clamp(r.clamp()).unknown(t)},Pb.apply(s,arguments),rw(s)},scaleSequential:function e(){var t=rw(L_()(Ij));return t.copy=function(){return z_(t,e())},Eb.apply(t,arguments)},scaleSequentialLog:function e(){var t=uw(L_()).domain([1,10]);return t.copy=function(){return z_(t,e()).base(t.base())},Eb.apply(t,arguments)},scaleSequentialPow:$_,scaleSequentialQuantile:function e(){var t=[],r=Ij;function n(e){if(null!=e&&!isNaN(e=+e))return r((mb(t,e,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(lb),n},n.interpolator=function(e){return arguments.length?(r=e,n):r},n.range=function(){return t.map((e,n)=>r(n/(t.length-1)))},n.quantiles=function(e){return Array.from({length:e+1},(r,n)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return kb(e);if(t>=1)return Sb(e);var r,n=(r-1)*t,a=Math.floor(n),s=Sb(Ob(e,a).subarray(0,a+1));return s+(kb(e.subarray(a+1))-s)*(n-a)}}(t,n/e))},n.copy=function(){return e(r).domain(t)},Eb.apply(n,arguments)},scaleSequentialSqrt:function(){return $_.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=pw(L_());return t.copy=function(){return z_(t,e()).constant(t.constant())},Eb.apply(t,arguments)},scaleSqrt:function(){return vw.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=pw(zj());return t.copy=function(){return Lj(t,e()).constant(t.constant())},Pb.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],n=[0,1],a=1;function s(e){return null!=e&&e<=e?n[mb(r,e,0,a)]:t}return s.domain=function(e){return arguments.length?(r=Array.from(e),a=Math.min(r.length,n.length-1),s):r.slice()},s.range=function(e){return arguments.length?(n=Array.from(e),a=Math.min(r.length,n.length-1),s):n.slice()},s.invertExtent=function(e){var t=n.indexOf(e);return[r[t-1],r[t]]},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e().domain(r).range(n).unknown(t)},Pb.apply(s,arguments)},scaleTime:function(){return Pb.apply(D_(cN,dN,aN,rN,Bw,Lw,Rw,Iw,Tw,fN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return Pb.apply(D_(oN,lN,sN,nN,Xw,zw,Dw,Mw,Tw,gN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:tw},Symbol.toStringTag,{value:"Module"}));var V_,q_,W_,H_,G_,K_;function X_(){if(q_)return V_;q_=1;var e=nd();return V_=function(t,r,n){for(var a=-1,s=t.length;++a<s;){var i=t[a],o=r(i);if(null!=o&&(void 0===l?o==o&&!e(o):n(o,l)))var l=o,c=i}return c}}function Y_(){if(H_)return W_;return H_=1,W_=function(e,t){return e>t}}const J_=gt(function(){if(K_)return G_;K_=1;var e=X_(),t=Y_(),r=Vg();return G_=function(n){return n&&n.length?e(n,r,t):void 0}}());var Z_,Q_,eS,tS;function rS(){if(Q_)return Z_;return Q_=1,Z_=function(e,t){return e<t}}const nS=gt(function(){if(tS)return eS;tS=1;var e=X_(),t=rS(),r=Vg();return eS=function(n){return n&&n.length?e(n,r,t):void 0}}());var aS,sS,iS,oS;const lS=gt(function(){if(oS)return iS;oS=1;var e=ry(),t=function(){if(sS)return aS;sS=1;var e=bd(),t=Wg(),r=iy(),n=Jc();return aS=function(a,s){return(n(a)?e:r)(a,t(s,3))}}();return iS=function(r,n){return e(t(r,n),1)}}());var cS,dS;const uS=gt(function(){if(dS)return cS;dS=1;var e=zg();return cS=function(t,r){return e(t,r)}}());var hS,mS=1e9,pS=!0,fS="[DecimalError] ",gS=fS+"Invalid argument: ",xS=fS+"Exponent out of range: ",yS=Math.floor,vS=Math.pow,bS=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jS=1e7,wS=9007199254740991,NS=yS(1286742750677284.5),_S={};function SS(e,t){var r,n,a,s,i,o,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),pS?RS(t,u):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),s=i-a){for(s<0?(n=l,s=-s,o=c.length):(n=c,a=i,o=l.length),s>(o=(i=Math.ceil(u/7))>o?i+1:o+1)&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for((o=l.length)-(s=c.length)<0&&(s=o,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/jS|0,l[s]%=jS;for(r&&(l.unshift(r),++a),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=a,pS?RS(t,u):t}function kS(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gS+e)}function OS(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(s+=TS(r)),s+=n;(r=7-(n=(i=e[t])+"").length)&&(s+=TS(r))}else if(0===i)return"0";for(;i%10==0;)i/=10;return s+i}_S.absoluteValue=_S.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},_S.comparedTo=_S.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,r=(n=s.d.length)<(a=e.d.length)?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1},_S.decimalPlaces=_S.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},_S.dividedBy=_S.div=function(e){return AS(this,new this.constructor(e))},_S.dividedToIntegerBy=_S.idiv=function(e){var t=this.constructor;return RS(AS(this,new t(e),0,1),t.precision)},_S.equals=_S.eq=function(e){return!this.cmp(e)},_S.exponent=function(){return PS(this)},_S.greaterThan=_S.gt=function(e){return this.cmp(e)>0},_S.greaterThanOrEqualTo=_S.gte=function(e){return this.cmp(e)>=0},_S.isInteger=_S.isint=function(){return this.e>this.d.length-2},_S.isNegative=_S.isneg=function(){return this.s<0},_S.isPositive=_S.ispos=function(){return this.s>0},_S.isZero=function(){return 0===this.s},_S.lessThan=_S.lt=function(e){return this.cmp(e)<0},_S.lessThanOrEqualTo=_S.lte=function(e){return this.cmp(e)<1},_S.logarithm=_S.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(hS))throw Error(fS+"NaN");if(r.s<1)throw Error(fS+(r.s?"NaN":"-Infinity"));return r.eq(hS)?new n(0):(pS=!1,t=AS(IS(r,s),IS(e,s),s),pS=!0,RS(t,a))},_S.minus=_S.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DS(t,e):SS(t,(e.s=-e.s,e))},_S.modulo=_S.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(fS+"NaN");return r.s?(pS=!1,t=AS(r,e,0,1).times(e),pS=!0,r.minus(t)):RS(new n(r),a)},_S.naturalExponential=_S.exp=function(){return CS(this)},_S.naturalLogarithm=_S.ln=function(){return IS(this)},_S.negated=_S.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},_S.plus=_S.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SS(t,e):DS(t,(e.s=-e.s,e))},_S.precision=_S.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(gS+e);if(t=PS(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},_S.squareRoot=_S.sqrt=function(){var e,t,r,n,a,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(fS+"NaN")}for(e=PS(o),pS=!1,0==(a=Math.sqrt(+o))||a==1/0?(((t=OS(o.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=yS((e+1)/2)-(e<0||e%2),n=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(a.toString()),a=i=(r=l.precision)+3;;)if(n=(s=n).plus(AS(o,s,i+2)).times(.5),OS(s.d).slice(0,i)===(t=OS(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(RS(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if("9999"!=t)break;i+=4}return pS=!0,RS(n,r)},_S.times=_S.mul=function(e){var t,r,n,a,s,i,o,l,c,d=this,u=d.constructor,h=d.d,m=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,r=d.e+e.e,(l=h.length)<(c=m.length)&&(s=h,h=m,m=s,i=l,l=c,c=i),s=[],n=i=l+c;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=s[a]+m[n]*h[a-n-1]+t,s[a--]=o%jS|0,t=o/jS|0;s[a]=(s[a]+t)%jS|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,pS?RS(e,u.precision):e},_S.toDecimalPlaces=_S.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(kS(e,0,mS),void 0===t?t=n.rounding:kS(t,0,8),RS(r,e+PS(r)+1,t))},_S.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=LS(n,!0):(kS(e,0,mS),void 0===t?t=a.rounding:kS(t,0,8),r=LS(n=RS(new a(n),e+1,t),!0,e+1)),r},_S.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?LS(a):(kS(e,0,mS),void 0===t?t=s.rounding:kS(t,0,8),r=LS((n=RS(new s(a),e+PS(a)+1,t)).abs(),!1,e+PS(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},_S.toInteger=_S.toint=function(){var e=this,t=e.constructor;return RS(new t(e),PS(e)+1,t.rounding)},_S.toNumber=function(){return+this},_S.toPower=_S.pow=function(e){var t,r,n,a,s,i,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(hS);if(!(o=new l(o)).s){if(e.s<1)throw Error(fS+"Infinity");return o}if(o.eq(hS))return o;if(n=l.precision,e.eq(hS))return RS(o,n);if(i=(t=e.e)>=(r=e.d.length-1),s=o.s,i){if((r=c<0?-c:c)<=wS){for(a=new l(hS),t=Math.ceil(n/7+4),pS=!1;r%2&&zS((a=a.times(o)).d,t),0!==(r=yS(r/2));)zS((o=o.times(o)).d,t);return pS=!0,e.s<0?new l(hS).div(a):RS(a,n)}}else if(s<0)throw Error(fS+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,o.s=1,pS=!1,a=e.times(IS(o,n+12)),pS=!0,(a=CS(a)).s=s,a},_S.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?n=LS(a,(r=PS(a))<=s.toExpNeg||r>=s.toExpPos):(kS(e,1,mS),void 0===t?t=s.rounding:kS(t,0,8),n=LS(a=RS(new s(a),e,t),e<=(r=PS(a))||r<=s.toExpNeg,e)),n},_S.toSignificantDigits=_S.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(kS(e,1,mS),void 0===t?t=r.rounding:kS(t,0,8)),RS(new r(this),e,t)},_S.toString=_S.valueOf=_S.val=_S.toJSON=_S[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=PS(e),r=e.constructor;return LS(e,t<=r.toExpNeg||t>=r.toExpPos)};var AS=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%jS|0,n=r/jS|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,s;if(r!=n)s=r>n?1:-1;else for(a=s=0;a<r;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*jS+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,s,i){var o,l,c,d,u,h,m,p,f,g,x,y,v,b,j,w,N,_,S=n.constructor,k=n.s==a.s?1:-1,O=n.d,A=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(fS+"Division by zero");for(l=n.e-a.e,N=A.length,j=O.length,p=(m=new S(k)).d=[],c=0;A[c]==(O[c]||0);)++c;if(A[c]>(O[c]||0)&&--l,(y=null==s?s=S.precision:i?s+(PS(n)-PS(a))+1:s)<0)return new S(0);if(y=y/7+2|0,c=0,1==N)for(d=0,A=A[0],y++;(c<j||d)&&y--;c++)v=d*jS+(O[c]||0),p[c]=v/A|0,d=v%A|0;else{for((d=jS/(A[0]+1)|0)>1&&(A=e(A,d),O=e(O,d),N=A.length,j=O.length),b=N,g=(f=O.slice(0,N)).length;g<N;)f[g++]=0;(_=A.slice()).unshift(0),w=A[0],A[1]>=jS/2&&++w;do{d=0,(o=t(A,f,N,g))<0?(x=f[0],N!=g&&(x=x*jS+(f[1]||0)),(d=x/w|0)>1?(d>=jS&&(d=jS-1),1==(o=t(u=e(A,d),f,h=u.length,g=f.length))&&(d--,r(u,N<h?_:A,h))):(0==d&&(o=d=1),u=A.slice()),(h=u.length)<g&&u.unshift(0),r(f,u,g),-1==o&&(o=t(A,f,N,g=f.length))<1&&(d++,r(f,N<g?_:A,g)),g=f.length):0===o&&(d++,f=[0]),p[c++]=d,o&&f[0]?f[g++]=O[b]||0:(f=[O[b]],g=1)}while((b++<j||void 0!==f[0])&&y--)}return p[0]||p.shift(),m.e=l,RS(m,i?s+PS(m)+1:s)}}();function CS(e,t){var r,n,a,s,i,o=0,l=0,c=e.constructor,d=c.precision;if(PS(e)>16)throw Error(xS+PS(e));if(!e.s)return new c(hS);for(pS=!1,i=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),l+=5;for(i+=Math.log(vS(2,l))/Math.LN10*2+5|0,r=n=a=new c(hS),c.precision=i;;){if(n=RS(n.times(e),i),r=r.times(++o),OS((s=a.plus(AS(n,r,i))).d).slice(0,i)===OS(a.d).slice(0,i)){for(;l--;)a=RS(a.times(a),i);return c.precision=d,null==t?(pS=!0,RS(a,d)):a}a=s}}function PS(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function ES(e,t,r){if(t>e.LN10.sd())throw pS=!0,r&&(e.precision=r),Error(fS+"LN10 precision limit exceeded");return RS(new e(e.LN10),t)}function TS(e){for(var t="";e--;)t+="0";return t}function IS(e,t){var r,n,a,s,i,o,l,c,d,u=1,h=e,m=h.d,p=h.constructor,f=p.precision;if(h.s<1)throw Error(fS+(h.s?"NaN":"-Infinity"));if(h.eq(hS))return new p(0);if(null==t?(pS=!1,c=f):c=t,h.eq(10))return null==t&&(pS=!0),ES(p,c);if(c+=10,p.precision=c,n=(r=OS(m)).charAt(0),s=PS(h),!(Math.abs(s)<15e14))return l=ES(p,c+2,f).times(s+""),h=IS(new p(n+"."+r.slice(1)),c-10).plus(l),p.precision=f,null==t?(pS=!0,RS(h,f)):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=OS((h=h.times(e)).d)).charAt(0),u++;for(s=PS(h),n>1?(h=new p("0."+r),s++):h=new p(n+"."+r.slice(1)),o=i=h=AS(h.minus(hS),h.plus(hS),c),d=RS(h.times(h),c),a=3;;){if(i=RS(i.times(d),c),OS((l=o.plus(AS(i,new p(a),c))).d).slice(0,c)===OS(o.d).slice(0,c))return o=o.times(2),0!==s&&(o=o.plus(ES(p,c+2,f).times(s+""))),o=AS(o,new p(u),c),p.precision=f,null==t?(pS=!0,RS(o,f)):o;o=l,a+=2}}function MS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=yS(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),pS&&(e.e>NS||e.e<-NS))throw Error(xS+r)}else e.s=0,e.e=0,e.d=[0];return e}function RS(e,t,r){var n,a,s,i,o,l,c,d,u=e.d;for(i=1,s=u[0];s>=10;s/=10)i++;if((n=t-i)<0)n+=7,a=t,c=u[d=0];else{if((d=Math.ceil((n+1)/7))>=(s=u.length))return e;for(c=s=u[d],i=1;s>=10;s/=10)i++;a=(n%=7)-7+i}if(void 0!==r&&(o=c/(s=vS(10,i-a-1))%10|0,l=t<0||void 0!==u[d+1]||c%s,l=r<4?(o||l)&&(0==r||r==(e.s<0?3:2)):o>5||5==o&&(4==r||l||6==r&&(n>0?a>0?c/vS(10,i-a):0:u[d-1])%10&1||r==(e.s<0?8:7))),t<1||!u[0])return l?(s=PS(e),u.length=1,t=t-s-1,u[0]=vS(10,(7-t%7)%7),e.e=yS(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==n?(u.length=d,s=1,d--):(u.length=d+1,s=vS(10,7-n),u[d]=a>0?(c/vS(10,i-a)%vS(10,a)|0)*s:0),l)for(;;){if(0==d){(u[0]+=s)==jS&&(u[0]=1,++e.e);break}if(u[d]+=s,u[d]!=jS)break;u[d--]=0,s=1}for(n=u.length;0===u[--n];)u.pop();if(pS&&(e.e>NS||e.e<-NS))throw Error(xS+PS(e));return e}function DS(e,t){var r,n,a,s,i,o,l,c,d,u,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),pS?RS(t,m):t;if(l=e.d,u=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n){for((d=i<0)?(r=l,i=-i,o=u.length):(r=u,n=c,o=l.length),i>(a=Math.max(Math.ceil(m/7),o)+2)&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for((d=(a=l.length)<(o=u.length))&&(o=a),a=0;a<o;a++)if(l[a]!=u[a]){d=l[a]<u[a];break}i=0}for(d&&(r=l,l=u,u=r,t.s=-t.s),o=l.length,a=u.length-o;a>0;--a)l[o++]=0;for(a=u.length;a>i;){if(l[--a]<u[a]){for(s=a;s&&0===l[--s];)l[s]=jS-1;--l[s],l[a]+=jS}l[a]-=u[a]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,pS?RS(t,m):t):new h(0)}function LS(e,t,r){var n,a=PS(e),s=OS(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+TS(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+TS(-a-1)+s,r&&(n=r-i)>0&&(s+=TS(n))):a>=i?(s+=TS(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+TS(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=TS(n))),e.s<0?"-"+s:s}function zS(e,t){if(e.length>t)return e.length=t,!0}function $S(e){if(!e||"object"!=typeof e)throw Error(fS+"Object expected");var t,r,n,a=["precision",1,mS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(yS(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(gS+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(gS+r+": "+n);this[r]=new this(n)}return this}var US=function e(t){var r,n,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(gS+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):MS(t,e.toString())}if("string"!=typeof e)throw Error(gS+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!bS.test(e))throw Error(gS+e);MS(t,e)}if(s.prototype=_S,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=$S,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return s.config(t),s}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});hS=new US(1);const BS=US;function FS(e){return function(e){if(Array.isArray(e))return VS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return VS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qS=function(e){return e},WS={},HS=function(e){return e===WS},GS=function(e){return function t(){return 0===arguments.length||1===arguments.length&&HS(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},KS=function e(t,r){return 1===t?r:GS(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(e){return e!==WS}).length;return i>=t?r.apply(void 0,a):e(t-i,GS(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=a.map(function(e){return HS(e)?t.shift():e});return r.apply(void 0,FS(s).concat(t))}))})},XS=function(e){return KS(e.length,e)},YS=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},JS=XS(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),ZS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},QS=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every(function(e,r){return e===t[r]})?r:(t=a,r=e.apply(void 0,a))}};const ek={rangeStep:function(e,t,r){for(var n=new BS(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new BS(e).abs().log(10).toNumber())+1},interpolateNumber:XS(function(e,t,r){var n=+e;return n+r*(+t-n)}),uninterpolateNumber:XS(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),uninterpolateTruncation:XS(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))})};function tk(e){return function(e){if(Array.isArray(e))return ak(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||nk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){a=!0,s=l}finally{try{n||null==o.return||o.return()}finally{if(a)throw s}}return r}(e,t)||nk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nk(e,t){if(e){if("string"==typeof e)return ak(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ak(e,t):void 0}}function ak(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sk(e){var t=rk(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function ik(e,t,r){if(e.lte(0))return new BS(0);var n=ek.getDigitCount(e.toNumber()),a=new BS(10).pow(n),s=e.div(a),i=1!==n?.05:.1,o=new BS(Math.ceil(s.div(i).toNumber())).add(r).mul(i).mul(a);return t?o:new BS(Math.ceil(o))}function ok(e,t,r){var n=1,a=new BS(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new BS(10).pow(ek.getDigitCount(e)-1),a=new BS(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new BS(Math.floor(e)))}else 0===e?a=new BS(Math.floor((t-1)/2)):r||(a=new BS(Math.floor(e)));var i=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return qS;var n=t.reverse(),a=n[0],s=n.slice(1);return function(){return s.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}}(JS(function(e){return a.add(new BS(e-i).mul(n)).toNumber()}),YS);return o(0,t)}function lk(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new BS(0),tickMin:new BS(0),tickMax:new BS(0)};var s,i=ik(new BS(t).sub(e).div(r-1),n,a);s=e<=0&&t>=0?new BS(0):(s=new BS(e).add(t).div(2)).sub(new BS(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new BS(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?lk(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new BS(o).mul(i)),tickMax:s.add(new BS(l).mul(i))})}var ck=QS(function(e){var t=rk(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),o=rk(sk([r,n]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(tk(YS(0,a-1).map(function(){return 1/0}))):[].concat(tk(YS(0,a-1).map(function(){return-1/0})),[c]);return r>n?ZS(d):d}if(l===c)return ok(l,a,s);var u=lk(l,c,i,s),h=u.step,m=u.tickMin,p=u.tickMax,f=ek.rangeStep(m,p.add(new BS(.1).mul(h)),h);return r>n?ZS(f):f}),dk=QS(function(e,t){var r=rk(e,2),n=r[0],a=r[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=rk(sk([n,a]),2),o=i[0],l=i[1];if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(t,2),d=ik(new BS(l).sub(o).div(c-1),s,0),u=[].concat(tk(ek.rangeStep(new BS(o),new BS(l).sub(new BS(.99).mul(d)),d)),[l]);return n>a?ZS(u):u});function uk(e,t){throw new Error("Invariant failed")}var hk=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function mk(e){return(mk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}function fk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_k(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vk(e,t,r){return t=jk(t),function(e,t){if(t&&("object"===mk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bk()?Reflect.construct(t,r||[],jk(e).constructor):t.apply(e,r))}function bk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bk=function(){return!!e})()}function jk(e){return(jk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wk(e,t){return(wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Nk(e,t,r){return(t=_k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _k(e){var t=function(e,t){if("object"!=mk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=mk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==mk(t)?t:t+""}var Sk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}(e,lt.Component),yk(e,[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,a=e.dataKey,s=e.data,i=e.dataPointFormatter,o=e.xAxis,l=e.yAxis,c=xk(e,hk),d=ku(c,!1);"x"===this.props.direction&&"number"!==o.type&&uk();var u=s.map(function(e){var s=i(e,a),c=s.x,u=s.y,h=s.value,m=s.errorVal;if(!m)return null;var p,f,g=[];if(Array.isArray(m)){var x=fk(m,2);p=x[0],f=x[1]}else p=f=m;if("vertical"===r){var y=o.scale,v=u+t,b=v+n,j=v-n,w=y(h-p),N=y(h+f);g.push({x1:N,y1:b,x2:N,y2:j}),g.push({x1:w,y1:v,x2:N,y2:v}),g.push({x1:w,y1:b,x2:w,y2:j})}else if("horizontal"===r){var _=l.scale,S=c+t,k=S-n,O=S+n,A=_(h-p),C=_(h+f);g.push({x1:k,y1:C,x2:O,y2:C}),g.push({x1:S,y1:A,x2:S,y2:C}),g.push({x1:k,y1:A,x2:O,y2:A})}return lt.createElement(Qu,pk({className:"recharts-errorBar",key:"bar-".concat(g.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),g.map(function(e){return lt.createElement("line",pk({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return lt.createElement(Qu,{className:"recharts-errorBars"},u)}}])}();function kk(e){return(kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ak(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(t){Ck(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ck(e,t,r){var n;return n=function(e,t){if("object"!=kk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=kk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==kk(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Nk(Sk,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Nk(Sk,"displayName","ErrorBar");var Pk=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,s=wu(t,ty);if(!s)return null;var i,o=ty.defaultProps,l=void 0!==o?Ak(Ak({},o),s.props):{};return i=s.props&&s.props.payload?s.props&&s.props.payload:"children"===a?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map(function(e){return{type:s.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?Ak(Ak({},r),t.props):{},a=n.dataKey,s=n.name,i=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||i||"square",color:$k(t),value:s||a,payload:n}}),Ak(Ak(Ak({},l),ty.getWithHeight(s,n)),{},{payload:i,item:s})};function Ek(e){return(Ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tk(e){return function(e){if(Array.isArray(e))return Ik(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ik(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ik(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(t){Dk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Dk(e,t,r){var n;return n=function(e,t){if("object"!=Ek(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ek(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ek(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lk(e,t,r){return Cd(e)||Cd(t)?r:Yd(t)?kd(e,t,r):Id(t)?t(e):r}function zk(e,t,r,n){var a=lS(e,function(e){return Lk(e,t)});if("number"===r){var s=a.filter(function(e){return Xd(e)||parseFloat(e)});return s.length?[nS(s),J_(s)]:[1/0,-1/0]}return(n?a.filter(function(e){return!Cd(e)}):a).map(function(e){return Yd(e)||e instanceof Date?e:""})}var $k=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Rk(Rk({},e.type.defaultProps),e.props):e.props,s=a.stroke,i=a.fill;switch(n){case"Line":r=s;break;case"Area":case"Radar":r=s&&"none"!==s?s:i;break;default:r=i}return r},Uk=function(e,t,r,n,a){var s=ju(t.props.children,Sk).filter(function(e){return function(e,t,r){return!!Cd(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)});if(s&&s.length){var i=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=Lk(t,r);if(Cd(n))return e;var a=Array.isArray(n)?[nS(n),J_(n)]:[n,n],s=i.reduce(function(e,r){var n=Lk(t,r,0),s=a[0]-Math.abs(Array.isArray(n)?n[0]:n),i=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(s,e[0]),Math.max(i,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},Bk=function(e,t,r,n,a){var s=t.map(function(t){var s=t.props.dataKey;return"number"===r&&s&&Uk(e,t,s,n)||zk(e,s,r,a)});if("number"===r)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var i={};return s.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)i[t[r]]||(i[t[r]]=!0,e.push(t[r]));return e},[])},Fk=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Vk=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var a,s,i=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(s=!0),e.coordinate});return a||i.push(t),s||i.push(r),i},qk=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,s=e.type,i=e.range,o="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===s&&n.bandwidth?n.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null==i?void 0:i.length)>=2?2*Gd(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!Wd(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}})},Wk=new WeakMap,Hk=function(e,t){if("function"!=typeof t)return e;Wk.has(e)||Wk.set(e,new WeakMap);var r=Wk.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},Gk=function(e,t,r){var n=e.scale,a=e.type,s=e.layout,i=e.axisType;if("auto"===n)return"radial"===s&&"radiusAxis"===i?{scale:Mb(),realScaleType:"band"}:"radial"===s&&"angleAxis"===i?{scale:nw(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Db(),realScaleType:"point"}:"category"===a?{scale:Mb(),realScaleType:"band"}:{scale:nw(),realScaleType:"linear"};if(Td(n)){var o="scale".concat(ah(n));return{scale:(F_[o]||Db)(),realScaleType:F_[o]?o:"point"}}return Id(n)?{scale:n}:{scale:Db(),realScaleType:"point"}},Kk=1e-4,Xk=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Kk,s=Math.max(n[0],n[1])+Kk,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},Yk={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=Wd(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,s=0,i=e[0].length;s<i;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}sm(e,t)}},none:sm,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],s=a.length;n<s;++n){for(var i=0,o=0;i<r;++i)o+=e[i][n][1]||0;a[n][1]+=a[n][0]=-o/2}sm(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,s=0,i=1;i<n;++i){for(var o=0,l=0,c=0;o<a;++o){for(var d=e[t[o]],u=d[i][1]||0,h=(u-(d[i-1][1]||0))/2,m=0;m<o;++m){var p=e[t[m]];h+=(p[i][1]||0)-(p[i-1][1]||0)}l+=u,c+=h*u}r[i-1][1]+=r[i-1][0]=s,l&&(s-=c/l)}r[i-1][1]+=r[i-1][0]=s,sm(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=Wd(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}}},Jk=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),a=Yk[r],s=function(){var e=sh([]),t=im,r=sm,n=om;function a(a){var s,i,o=Array.from(e.apply(this,arguments),lm),l=o.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(e,o[s].key,c,a)]).data=e;for(s=0,i=yh(t(o));s<l;++s)o[i[s]].index=s;return r(o,i),o}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:sh(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"==typeof e?e:sh(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?im:"function"==typeof e?e:sh(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?sm:e,a):r},a}().keys(n).value(function(e,t){return+Lk(e,t,0)}).order(im).offset(a);return s(e)},Zk=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,s=t.originalDomain,i=t.allowDecimals,o=r||t.scale;if("auto"!==o&&"linear"!==o)return null;if(a&&"number"===n&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=ck(l,a,i);return e.domain([nS(c),J_(c)]),{niceTicks:c}}if(a&&"number"===n){var d=e.domain();return{niceTicks:dk(d,a,i)}}return null};function Qk(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Cd(a[t.dataKey])){var o=ru(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=Lk(a,Cd(i)?t.dataKey:i);return Cd(l)?null:t.scale(l)}var eO=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,s=e.entry,i=e.index;if("category"===t.type)return r[i]?r[i].coordinate+n:null;var o=Lk(s,t.dataKey,t.domain[i]);return Cd(o)?null:t.scale(o)-a/2+n},tO=function(e,t,r){return Object.keys(e).reduce(function(n,a){var s=e[a].stackedData.reduce(function(e,n){var a=n.slice(t,r+1).reduce(function(e,t){return[nS(t.concat([e[0]]).filter(Xd)),J_(t.concat([e[1]]).filter(Xd))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},rO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aO=function(e,t,r){if(Id(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(Xd(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(rO.test(e[0])){var a=+rO.exec(e[0])[1];n[0]=t[0]-a}else Id(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(Xd(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(nO.test(e[1])){var s=+nO.exec(e[1])[1];n[1]=t[1]+s}else Id(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},sO=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=py(t,function(e){return e.coordinate}),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},iO=function(e,t,r){return e&&e.length?uS(e,kd(r,"type.defaultProps.domain"))?t:e:t},oO=function(e,t){var r=e.type.defaultProps?Rk(Rk({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,s=r.unit,i=r.formatter,o=r.tooltipType,l=r.chartType,c=r.hide;return Rk(Rk({},ku(e,!1)),{},{dataKey:n,unit:s,formatter:i,name:a||n,color:$k(e),value:Lk(t,n),type:o,payload:t,chartType:l,hide:c})};function lO(e){return(lO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(t){uO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uO(e,t,r){var n;return n=function(e,t){if("object"!=lO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=lO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pO=Math.PI/180,fO=function(e){return 180*e/Math.PI},gO=function(e,t,r,n){return{x:e+Math.cos(-pO*n)*r,y:t+Math.sin(-pO*n)*r}},xO=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},yO=function(e,t){var r=e.x,n=e.y,a=t.cx,s=t.cy,i=function(e,t){var r=e.x,n=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-s,2))}({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i};var o=(r-a)/i,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:i,angle:fO(l),angleInRadian:l}},vO=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360);return e+360*Math.min(a,s)},bO=function(e,t){var r=e.x,n=e.y,a=yO({x:r,y:n},t),s=a.radius,i=a.angle,o=t.innerRadius,l=t.outerRadius;if(s<o||s>l)return!1;if(0===s)return!0;var c,d=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-360*s,endAngle:r-360*s}}(t),u=d.startAngle,h=d.endAngle,m=i;if(u<=h){for(;m>h;)m-=360;for(;m<u;)m+=360;c=m>=u&&m<=h}else{for(;m>u;)m-=360;for(;m<h;)m+=360;c=m>=h&&m<=u}return c?dO(dO({},t),{},{radius:s,angle:vO(m,t)}):null},jO=function(e){return at.isValidElement(e)||Id(e)||"boolean"==typeof e?"":e.className};function wO(e){return(wO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var NO=["offset"];function _O(e){return function(e){if(Array.isArray(e))return SO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return SO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(t){CO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CO(e,t,r){var n;return n=function(e,t){if("object"!=wO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=wO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PO(){return PO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PO.apply(this,arguments)}var EO=function(e,t,r){var n,a,s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,p=c.startAngle,f=c.endAngle,g=c.clockWise,x=(h+m)/2,y=function(e,t){return Gd(t-e)*Math.min(Math.abs(t-e),360)}(p,f),v=y>=0?1:-1;"insideStart"===s?(n=p+v*o,a=g):"insideEnd"===s?(n=f-v*o,a=!g):"end"===s&&(n=f+v*o,a=g),a=y<=0?a:!a;var b=gO(d,u,x,n),j=gO(d,u,x,n+359*(a?1:-1)),w="M".concat(b.x,",").concat(b.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),N=Cd(e.id)?Zd("recharts-radial-line-"):e.id;return lt.createElement("text",PO({},r,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",l)}),lt.createElement("defs",null,lt.createElement("path",{id:N,d:w})),lt.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function TO(e){var t,r=e.offset,n=AO({offset:void 0===r?5:r},kO(e,NO)),a=n.viewBox,s=n.position,i=n.value,o=n.children,l=n.content,c=n.className,d=void 0===c?"":c,u=n.textBreakAll;if(!a||Cd(i)&&Cd(o)&&!at.isValidElement(l)&&!Id(l))return null;if(at.isValidElement(l))return at.cloneElement(l,n);if(Id(l)){if(t=at.createElement(l,n),at.isValidElement(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=Cd(e.children)?t:e.children;return Id(r)?r(n):n}(n);var h=function(e){return"cx"in e&&Xd(e.cx)}(a),m=ku(n,!0);if(h&&("insideStart"===s||"insideEnd"===s||"end"===s))return EO(n,t,m);var p=h?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,s=a.cx,i=a.cy,o=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var d=gO(s,i,l+r,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=s?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=gO(s,i,(o+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,s=t,i=s.x,o=s.y,l=s.width,c=s.height,d=c>=0?1:-1,u=d*n,h=d>0?"end":"start",m=d>0?"start":"end",p=l>=0?1:-1,f=p*n,g=p>0?"end":"start",x=p>0?"start":"end";if("top"===a)return AO(AO({},{x:i+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===a)return AO(AO({},{x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:m}),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{});if("left"===a){var y={x:i-f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return AO(AO({},y),r?{width:Math.max(y.x-r.x,0),height:c}:{})}if("right"===a){var v={x:i+l+f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return AO(AO({},v),r?{width:Math.max(r.x+r.width-v.x,0),height:c}:{})}var b=r?{width:l,height:c}:{};return"insideLeft"===a?AO({x:i+f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},b):"insideRight"===a?AO({x:i+l-f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?AO({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:m},b):"insideBottom"===a?AO({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?AO({x:i+f,y:o+u,textAnchor:x,verticalAnchor:m},b):"insideTopRight"===a?AO({x:i+l-f,y:o+u,textAnchor:g,verticalAnchor:m},b):"insideBottomLeft"===a?AO({x:i+f,y:o+c-u,textAnchor:x,verticalAnchor:h},b):"insideBottomRight"===a?AO({x:i+l-f,y:o+c-u,textAnchor:g,verticalAnchor:h},b):Md(a)&&(Xd(a.x)||Kd(a.x))&&(Xd(a.y)||Kd(a.y))?AO({x:i+Qd(a.x,l),y:o+Qd(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):AO({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(n);return lt.createElement(ob,PO({className:vt("recharts-label",d)},m,p,{breakAll:u}),t)}TO.displayName="Label";var IO,MO,RO=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,s=e.endAngle,i=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,h=e.top,m=e.left,p=e.width,f=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(Xd(p)&&Xd(f)){if(Xd(d)&&Xd(u))return{x:d,y:u,width:p,height:f};if(Xd(h)&&Xd(m))return{x:h,y:m,width:p,height:f}}return Xd(d)&&Xd(u)?{x:d,y:u,width:0,height:0}:Xd(t)&&Xd(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:s||n||0,innerRadius:l||0,outerRadius:c||o||i||0,clockWise:g}:e.viewBox?e.viewBox:{}};TO.parseViewBox=RO,TO.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=RO(e),s=ju(n,TO).map(function(e,r){return at.cloneElement(e,{viewBox:t||a,key:"label-".concat(r)})});if(!r)return s;var i=function(e,t){return e?!0===e?lt.createElement(TO,{key:"label-implicit",viewBox:t}):Yd(e)?lt.createElement(TO,{key:"label-implicit",viewBox:t,value:e}):at.isValidElement(e)?e.type===TO?at.cloneElement(e,{key:"label-implicit",viewBox:t}):lt.createElement(TO,{key:"label-implicit",content:e,viewBox:t}):Id(e)?lt.createElement(TO,{key:"label-implicit",content:e,viewBox:t}):Md(e)?lt.createElement(TO,PO({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[i].concat(_O(s))};const DO=gt(MO?IO:(MO=1,IO=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function LO(e){return(LO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var zO=["valueAccessor"],$O=["data","dataKey","clockWise","id","textBreakAll"];function UO(e){return function(e){if(Array.isArray(e))return BO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return BO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FO(){return FO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FO.apply(this,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(t){WO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WO(e,t,r){var n;return n=function(e,t){if("object"!=LO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=LO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==LO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var GO=function(e){return Array.isArray(e.value)?DO(e.value):e.value};function KO(e){var t=e.valueAccessor,r=void 0===t?GO:t,n=HO(e,zO),a=n.data,s=n.dataKey,i=n.clockWise,o=n.id,l=n.textBreakAll,c=HO(n,$O);return a&&a.length?lt.createElement(Qu,{className:"recharts-label-list"},a.map(function(e,t){var n=Cd(s)?r(e,t):Lk(e&&e.payload,s),a=Cd(o)?{}:{id:"".concat(o,"-").concat(t)};return lt.createElement(TO,FO({},ku(e,!0),c,a,{parentViewBox:e.parentViewBox,value:n,textBreakAll:l,viewBox:TO.parseViewBox(Cd(i)?e:qO(qO({},e),{},{clockWise:i})),key:"label-".concat(t),index:t}))})):null}function XO(e){return(XO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YO(){return YO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YO.apply(this,arguments)}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ZO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(t){QO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function QO(e,t,r){var n;return n=function(e,t){if("object"!=XO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=XO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==XO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}KO.displayName="LabelList",KO.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=ju(e.children,KO).map(function(e,r){return at.cloneElement(e,{data:t,key:"labelList-".concat(r)})});return r?[function(e,t){return e?!0===e?lt.createElement(KO,{key:"labelList-implicit",data:t}):lt.isValidElement(e)||Id(e)?lt.createElement(KO,{key:"labelList-implicit",data:t,content:e}):Md(e)?lt.createElement(KO,FO({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(UO(n)):n};var eA=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,s=e.sign,i=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(i?1:-1)+n,d=Math.asin(o/c)/pO,u=l?a:a+s*d,h=l?a-s*d:a;return{center:gO(t,r,c,u),circleTangency:gO(t,r,n,u),lineTangency:gO(t,r,c*Math.cos(d*pO),h),theta:d}},tA=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,s=e.startAngle,i=function(e,t){return Gd(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),o=s+i,l=gO(t,r,a,s),c=gO(t,r,a,o),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(s>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var u=gO(t,r,n,s),h=gO(t,r,n,o);d+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(s<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},rA={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nA=function(e){var t=ZO(ZO({},rA),e),r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,u=t.className;if(s<a||c===d)return null;var h,m=vt("recharts-sector",u),p=s-a,f=Qd(i,p,0,!0);return h=f>0&&Math.abs(c-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,i=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=Gd(c-l),u=eA({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),h=u.circleTangency,m=u.lineTangency,p=u.theta,f=eA({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),g=f.circleTangency,x=f.lineTangency,y=f.theta,v=o?Math.abs(l-c):Math.abs(l-c)-p-y;if(v<0)return i?"M ".concat(m.x,",").concat(m.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):tA({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(m.x,",").concat(m.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n  ");if(n>0){var j=eA({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),w=j.circleTangency,N=j.lineTangency,_=j.theta,S=eA({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=S.circleTangency,O=S.lineTangency,A=S.theta,C=o?Math.abs(l-c):Math.abs(l-c)-_-A;if(C<0&&0===s)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(O.x,",").concat(O.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b}({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(f,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):tA({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}),lt.createElement("path",YO({},ku(t,!0),{className:m,d:h,role:"img"}))};function aA(e){return(aA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sA.apply(this,arguments)}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(t){lA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lA(e,t,r){var n;return n=function(e,t){if("object"!=aA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=aA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aA(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cA={curveBasisClosed:function(e){return new Hh(e)},curveBasisOpen:function(e){return new Gh(e)},curveBasis:function(e){return new Wh(e)},curveBumpX:function(e){return new Sh(e,!0)},curveBumpY:function(e){return new Sh(e,!1)},curveLinearClosed:function(e){return new Kh(e)},curveLinear:bh,curveMonotoneX:function(e){return new Qh(e)},curveMonotoneY:function(e){return new em(e)},curveNatural:function(e){return new rm(e)},curveStep:function(e){return new am(e,.5)},curveStepAfter:function(e){return new am(e,1)},curveStepBefore:function(e){return new am(e,0)}},dA=function(e){return e.x===+e.x&&e.y===+e.y},uA=function(e){return e.x},hA=function(e){return e.y},mA=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,s=void 0===a?[]:a,i=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(Id(e))return e;var r="curve".concat(ah(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?cA[r]||bh:cA["".concat(r).concat("vertical"===t?"Y":"X")]}(n,o),u=c?s.filter(function(e){return dA(e)}):s;if(Array.isArray(i)){var h=c?i.filter(function(e){return dA(e)}):i,m=u.map(function(e,t){return oA(oA({},e),{},{base:h[t]})});return(t="vertical"===o?_h().y(hA).x1(uA).x0(function(e){return e.base.x}):_h().x(uA).y1(hA).y0(function(e){return e.base.y})).defined(dA).curve(d),t(m)}return(t="vertical"===o&&Xd(i)?_h().y(hA).x1(uA).x0(i):Xd(i)?_h().x(uA).y1(hA).y0(i):Nh().x(uA).y(hA)).defined(dA).curve(d),t(u)},pA=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if(!(r&&r.length||n))return null;var s=r&&r.length?mA(e):n;return at.createElement("path",sA({},ku(e,!1),du(e),{className:vt("recharts-curve",t),d:s,ref:a}))},fA=Object.getOwnPropertyNames,gA=Object.getOwnPropertySymbols,xA=Object.prototype.hasOwnProperty;function yA(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function vA(e){return function(t,r,n){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n);var a=n.cache,s=a.get(t),i=a.get(r);if(s&&i)return s===r&&i===t;a.set(t,r),a.set(r,t);var o=e(t,r,n);return a.delete(t),a.delete(r),o}}function bA(e){return fA(e).concat(gA(e))}var jA=Object.hasOwn||function(e,t){return xA.call(e,t)};function wA(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var NA=Object.getOwnPropertyDescriptor,_A=Object.keys;function SA(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function kA(e,t){return wA(e.getTime(),t.getTime())}function OA(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function AA(e,t){return e===t}function CA(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,s,i=new Array(n),o=e.entries(),l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),d=!1,u=0;(s=c.next())&&!s.done;)if(i[u])u++;else{var h=a.value,m=s.value;if(r.equals(h[0],m[0],l,u,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=i[u]=!0;break}u++}if(!d)return!1;l++}return!0}var PA=wA;function EA(e,t,r){var n=_A(e),a=n.length;if(_A(t).length!==a)return!1;for(;a-- >0;)if(!zA(e,t,r,n[a]))return!1;return!0}function TA(e,t,r){var n,a,s,i=bA(e),o=i.length;if(bA(t).length!==o)return!1;for(;o-- >0;){if(!zA(e,t,r,n=i[o]))return!1;if(a=NA(e,n),s=NA(t,n),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable))return!1}return!0}function IA(e,t){return wA(e.valueOf(),t.valueOf())}function MA(e,t){return e.source===t.source&&e.flags===t.flags}function RA(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,s,i=new Array(n),o=e.values();(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(a.value,s.value,a.value,s.value,e,t,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function DA(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function LA(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function zA(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||jA(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var $A=Array.isArray,UA="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,BA=Object.assign,FA=Object.prototype.toString.call.bind(Object.prototype.toString);var VA=qA();function qA(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,s=e.createState,i=e.strict,o=void 0!==i&&i,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?TA:SA,areDatesEqual:kA,areErrorsEqual:OA,areFunctionsEqual:AA,areMapsEqual:n?yA(CA,TA):CA,areNumbersEqual:PA,areObjectsEqual:n?TA:EA,arePrimitiveWrappersEqual:IA,areRegExpsEqual:MA,areSetsEqual:n?yA(RA,TA):RA,areTypedArraysEqual:n?TA:DA,areUrlsEqual:LA};if(r&&(a=BA({},a,r(a))),t){var s=vA(a.areArraysEqual),i=vA(a.areMapsEqual),o=vA(a.areObjectsEqual),l=vA(a.areSetsEqual);a=BA({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,m,p){if(e===m)return!0;if(null==e||null==m)return!1;var f=typeof e;if(f!==typeof m)return!1;if("object"!==f)return"number"===f?i(e,m,p):"function"===f&&a(e,m,p);var g=e.constructor;if(g!==m.constructor)return!1;if(g===Object)return o(e,m,p);if($A(e))return t(e,m,p);if(null!=UA&&UA(e))return u(e,m,p);if(g===Date)return r(e,m,p);if(g===RegExp)return c(e,m,p);if(g===Map)return s(e,m,p);if(g===Set)return d(e,m,p);var x=FA(e);return"[object Date]"===x?r(e,m,p):"[object RegExp]"===x?c(e,m,p):"[object Map]"===x?s(e,m,p):"[object Set]"===x?d(e,m,p):"[object Object]"===x?"function"!=typeof e.then&&"function"!=typeof m.then&&o(e,m,p):"[object URL]"===x?h(e,m,p):"[object Error]"===x?n(e,m,p):"[object Arguments]"===x?o(e,m,p):("[object Boolean]"===x||"[object Number]"===x||"[object String]"===x)&&l(e,m,p)}}(l);return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(e,i){var o=n(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,d=o.meta;return r(e,i,{cache:c,equals:a,meta:d,strict:s})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(e,t){return r(e,t,i)}}({circular:n,comparator:c,createState:s,equals:a?a(c):(t=c,function(e,r,n,a,s,i,o){return t(e,r,o)}),strict:o})}function WA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function HA(e){return(HA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GA(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return KA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XA(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=GA(n),s=a[0],i=a.slice(1);return"number"==typeof s?void WA(r.bind(null,i),s):(r(s),void WA(r.bind(null,i)))}"object"===HA(n)&&e(n),"function"==typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function YA(e){return(YA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ZA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(t){QA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function QA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==YA(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==YA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===YA(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}qA({strict:!0}),qA({circular:!0}),qA({circular:!0,strict:!0}),qA({createInternalComparator:function(){return wA}}),qA({strict:!0,createInternalComparator:function(){return wA}}),qA({circular:!0,createInternalComparator:function(){return wA}}),qA({circular:!0,createInternalComparator:function(){return wA},strict:!0});var eC=function(e){return e},tC=function(e,t){return Object.keys(t).reduce(function(r,n){return ZA(ZA({},r),{},QA({},n,e(n,t[n])))},{})},rC=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function nC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||sC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aC(e){return function(e){if(Array.isArray(e))return iC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sC(e,t){if(e){if("string"==typeof e)return iC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iC(e,t):void 0}}function iC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oC=1e-4,lC=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},cC=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},dC=function(e,t){return function(r){var n=lC(e,t);return cC(n,r)}},uC=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],s=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,s=1,i=1;break;case"ease":n=.25,a=.1,s=.25,i=1;break;case"ease-in":n=.42,a=0,s=1,i=1;break;case"ease-out":n=.42,a=0,s=.58,i=1;break;case"ease-in-out":n=0,a=0,s=.58,i=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=nC(o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);n=l[0],a=l[1],s=l[2],i=l[3]}}var c,d,u=dC(n,s),h=dC(a,i),m=(c=n,d=s,function(e){var t=lC(c,d),r=[].concat(aC(t.map(function(e,t){return e*t}).slice(1)),[0]);return cC(r,e)}),p=function(e){return e>1?1:e<0?0:e},f=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=u(r)-t,s=m(r);if(Math.abs(a-t)<oC||s<oC)return h(r);r=p(r-a/s)}return h(r)};return f.isStepper=!1,f},hC=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"==typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uC(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,s=e.dt,i=void 0===s?17:s,o=function(e,t,n){var s=n+(-(e-t)*r-n*a)*i/1e3,o=n*i/1e3+e;return Math.abs(o-t)<oC&&Math.abs(s)<oC?[t,0]:[o,s]};return o.isStepper=!0,o.dt=i,o}();default:if("cubic-bezier"===n.split("(")[0])return uC(n)}return"function"==typeof n?n:null};function mC(e){return(mC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pC(e){return function(e){if(Array.isArray(e))return bC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(t){xC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==mC(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==mC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mC(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||vC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vC(e,t){if(e){if("string"==typeof e)return bC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bC(e,t):void 0}}function bC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jC=function(e,t,r){return e+(t-e)*r},wC=function(e){return e.from!==e.to},NC=function e(t,r,n){var a=tC(function(e,r){if(wC(r)){var n=yC(t(r.from,r.to,r.velocity),2),a=n[0],s=n[1];return gC(gC({},r),{},{from:a,velocity:s})}return r},r);return n<1?tC(function(e,t){return wC(t)?gC(gC({},t),{},{velocity:jC(t.velocity,a[e].velocity,n),from:jC(t.from,a[e].from,n)}):t},r):e(t,a,n-1)};const _C=function(e,t,r,n,a){var s,i,o,l,c=(s=e,i=t,[Object.keys(s),Object.keys(i)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),d=c.reduce(function(r,n){return gC(gC({},r),{},xC({},n,[e[n],t[n]]))},{}),u=c.reduce(function(r,n){return gC(gC({},r),{},xC({},n,{from:e[n],velocity:0,to:t[n]}))},{}),h=-1,m=function(){return null};return m=r.isStepper?function(n){o||(o=n);var s=(n-o)/r.dt;u=NC(r,u,s),a(gC(gC(gC({},e),t),tC(function(e,t){return t.from},u))),o=n,Object.values(u).filter(wC).length&&(h=requestAnimationFrame(m))}:function(s){l||(l=s);var i=(s-l)/n,o=tC(function(e,t){return jC.apply(void 0,pC(t).concat([r(i)]))},d);if(a(gC(gC(gC({},e),t),o)),i<1)h=requestAnimationFrame(m);else{var c=tC(function(e,t){return jC.apply(void 0,pC(t).concat([r(1)]))},d);a(gC(gC(gC({},e),t),c))}},function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(h)}}};function SC(e){return(SC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var kC=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function OC(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AC(e){return function(e){if(Array.isArray(e))return CC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return CC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(t){TC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function TC(e,t,r){return(t=MC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IC(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MC(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MC(e){var t=function(e,t){if("object"!==SC(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==SC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===SC(t)?t:String(t)}function RC(e,t){return(RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function DC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=$C(e);if(t){var a=$C(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return LC(this,r)}}function LC(e,t){if(t&&("object"===SC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zC(e)}function zC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $C(e){return($C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var UC=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RC(e,t)}(t,at.PureComponent);var e=DC(t);function t(r,n){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=(a=e.call(this,r,n)).props,i=s.isActive,o=s.attributeName,l=s.from,c=s.to,d=s.steps,u=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(zC(a)),a.changeStyle=a.changeStyle.bind(zC(a)),!i||h<=0)return a.state={style:{}},"function"==typeof u&&(a.state={style:c}),LC(a);if(d&&d.length)a.state={style:d[0].style};else if(l){if("function"==typeof u)return a.state={style:l},LC(a);a.state={style:o?TC({},o,l):l}}else a.state={style:{}};return a}return IC(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,s=t.shouldReAnimate,i=t.to,o=t.from,l=this.state.style;if(n)if(r){if(!(VA(e.to,i)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||s?o:e.to;if(this.state&&l){var u={style:a?TC({},a,d):d};(a&&l[a]!==d||!a&&l!==d)&&this.setState(u)}this.runAnimation(EC(EC({},this.props),{},{from:d,begin:0}))}}else{var h={style:a?TC({},a,i):i};this.state&&l&&(a&&l[a]!==i||!a&&l!==i)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,s=e.easing,i=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=_C(r,n,hC(s),a,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=c()},a,o])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,s=r[0],i=s.style,o=s.duration,l=void 0===o?0:o;return this.manager.start([a].concat(AC(r.reduce(function(e,n,a){if(0===a)return e;var s=n.duration,i=n.easing,o=void 0===i?"ease":i,l=n.style,c=n.properties,d=n.onAnimationEnd,u=a>0?r[a-1]:n,h=c||Object.keys(l);if("function"==typeof o||"spring"===o)return[].concat(AC(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:s,easing:o}),s]);var m=rC(h,s,o),p=EC(EC(EC({},u.style),l),{},{transition:m});return[].concat(AC(e),[p,s,d]).filter(eC)},[i,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=XA());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,s=e.easing,i=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!=typeof s&&"function"!=typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var u=n?TC({},n,a):a,h=rC(Object.keys(u),r,s);d.start([i,t,EC(EC({},u),{},{transition:h}),r,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var r=e.duration;e.attributeName,e.easing;var n=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var a=OC(e,kC),s=at.Children.count(t),i=this.state.style;if("function"==typeof t)return t(i);if(!n||0===s||r<=0)return t;var o=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,s=t.className;return at.cloneElement(e,EC(EC({},a),{},{style:EC(EC({},n),i),className:s}))};return 1===s?o(at.Children.only(t)):lt.createElement("div",null,at.Children.map(t,function(e){return o(e)}))}}]),t}();function BC(e){return(BC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FC(){return FC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FC.apply(this,arguments)}function VC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function HC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(t){GC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GC(e,t,r){var n;return n=function(e,t){if("object"!=BC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=BC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==BC(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}UC.displayName="Animate",UC.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},UC.propTypes={from:It.oneOfType([It.object,It.string]),to:It.oneOfType([It.object,It.string]),attributeName:It.string,duration:It.number,begin:It.number,easing:It.oneOfType([It.string,It.func]),steps:It.arrayOf(It.shape({duration:It.number.isRequired,style:It.object.isRequired,easing:It.oneOfType([It.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),It.func]),properties:It.arrayOf("string"),onAnimationEnd:It.func})),children:It.oneOfType([It.node,It.func]),isActive:It.bool,canBegin:It.bool,onAnimationEnd:It.func,shouldReAnimate:It.bool,onAnimationStart:It.func,onAnimationReStart:It.func};var KC=function(e,t,r,n,a){var s,i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>i?i:a[u];s="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(s+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),s+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(s+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*d[1])),s+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(s+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+n)),s+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(s+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*d[3])),s+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);s="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,"\n            L ").concat(e+r,",").concat(t+n-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return s},XC=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,s=t.y,i=t.width,o=t.height;if(Math.abs(i)>0&&Math.abs(o)>0){var l=Math.min(a,a+i),c=Math.max(a,a+i),d=Math.min(s,s+o),u=Math.max(s,s+o);return r>=l&&r<=c&&n>=d&&n<=u}return!1},YC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JC=function(e){var t=HC(HC({},YC),e),r=at.useRef(),n=VC(at.useState(-1),2),a=n[0],s=n[1];at.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(t){}},[]);var i=t.x,o=t.y,l=t.width,c=t.height,d=t.radius,u=t.className,h=t.animationEasing,m=t.animationDuration,p=t.animationBegin,f=t.isAnimationActive,g=t.isUpdateAnimationActive;if(i!==+i||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var x=vt("recharts-rectangle",u);return g?lt.createElement(UC,{canBegin:a>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:m,animationEasing:h,isActive:g},function(e){var n=e.width,s=e.height,i=e.x,o=e.y;return lt.createElement(UC,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,isActive:f,easing:h},lt.createElement("path",FC({},ku(t,!0),{className:x,d:KC(i,o,n,s,d),ref:r})))}):lt.createElement("path",FC({},ku(t,!0),{className:x,d:KC(i,o,l,c,d)}))},ZC=["points","className","baseLinePoints","connectNulls"];function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QC.apply(this,arguments)}function eP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tP(e){return function(e){if(Array.isArray(e))return rP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nP=function(e){return e&&e.x===+e.x&&e.y===+e.y},aP=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){nP(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),nP(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(tP(e),tP(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},sP=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,s=eP(e,ZC);if(!t||!t.length)return null;var i=vt("recharts-polygon",r);if(n&&n.length){var o=s.stroke&&"none"!==s.stroke,l=function(e,t,r){var n=aP(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(aP(t.reverse(),r).slice(1))}(t,n,a);return lt.createElement("g",{className:i},lt.createElement("path",QC({},ku(s,!0),{fill:"Z"===l.slice(-1)?s.fill:"none",stroke:"none",d:l})),o?lt.createElement("path",QC({},ku(s,!0),{fill:"none",d:aP(t,a)})):null,o?lt.createElement("path",QC({},ku(s,!0),{fill:"none",d:aP(n,a)})):null)}var c=aP(t,a);return lt.createElement("path",QC({},ku(s,!0),{fill:"Z"===c.slice(-1)?s.fill:"none",className:i,d:c}))};function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iP.apply(this,arguments)}var oP=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,s=vt("recharts-dot",a);return t===+t&&r===+r&&n===+n?at.createElement("circle",iP({},ku(e,!1),du(e),{className:s,cx:t,cy:r,r:n})):null};function lP(e){return(lP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cP=["x","y","top","left","width","height","className"];function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dP.apply(this,arguments)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hP(e,t,r){var n;return n=function(e,t){if("object"!=lP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=lP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lP(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var pP,fP,gP=function(e,t,r,n,a,s){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r)},xP=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,s=e.top,i=void 0===s?0:s,o=e.left,l=void 0===o?0:o,c=e.width,d=void 0===c?0:c,u=e.height,h=void 0===u?0:u,m=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(t){hP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:a,top:i,left:l,width:d,height:h},mP(e,cP));return Xd(r)&&Xd(a)&&Xd(d)&&Xd(h)&&Xd(i)&&Xd(l)?lt.createElement("path",dP({},ku(p,!0),{className:vt("recharts-cross",m),d:gP(r,a,d,h,i,l)})):null};const yP=gt(function(){if(fP)return pP;fP=1;var e=X_(),t=Y_(),r=Wg();return pP=function(n,a){return n&&n.length?e(n,r(a,2),t):void 0}}());var vP,bP;const jP=gt(function(){if(bP)return vP;bP=1;var e=X_(),t=Wg(),r=rS();return vP=function(n,a){return n&&n.length?e(n,t(a,2),r):void 0}}());var wP=["cx","cy","angle","ticks","axisLine"],NP=["ticks","tick","angle","tickFormatter","stroke"];function _P(e){return(_P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SP(){return SP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SP.apply(this,arguments)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(t){MP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RP(n.key),n)}}function PP(e,t,r){return t=TP(t),function(e,t){if(t&&("object"===_P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,EP()?Reflect.construct(t,r||[],TP(e).constructor):t.apply(e,r))}function EP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(EP=function(){return!!e})()}function TP(e){return(TP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IP(e,t){return(IP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function MP(e,t,r){return(t=RP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RP(e){var t=function(e,t){if("object"!=_P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=_P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_P(t)?t:t+""}var DP=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),PP(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IP(e,t)}(e,at.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return lt.isValidElement(e)?lt.cloneElement(e,t):Id(e)?e(t):lt.createElement(ob,SP({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],(r=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,s=r.cy;return gO(a,s,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,s=yP(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:jP(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,s=e.axisLine,i=AP(e,wP),o=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=gO(t,r,o[0],n),c=gO(t,r,o[1],n),d=OP(OP(OP({},ku(i,!1)),{},{fill:"none"},ku(s,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return lt.createElement("line",SP({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,s=r.angle,i=r.tickFormatter,o=r.stroke,l=AP(r,NP),c=this.getTickTextAnchor(),d=ku(l,!1),u=ku(a,!1),h=n.map(function(r,n){var l=t.getTickValueCoord(r),h=OP(OP(OP(OP({textAnchor:c,transform:"rotate(".concat(90-s,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:o},u),{},{index:n},l),{},{payload:r});return lt.createElement(Qu,SP({className:vt("recharts-polar-radius-axis-tick",jO(a)),key:"tick-".concat(r.coordinate)},uu(t.props,r,n)),e.renderTickItem(a,h,i?i(r.value,n):r.value))});return lt.createElement(Qu,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?lt.createElement(Qu,{className:vt("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),TO.renderCallByParent(this.props,this.getViewBox())):null}}])&&CP(t.prototype,r),n&&CP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function LP(e){return(LP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zP(){return zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zP.apply(this,arguments)}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function UP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(t){HP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function BP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GP(n.key),n)}}function FP(e,t,r){return t=qP(t),function(e,t){if(t&&("object"===LP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VP()?Reflect.construct(t,r||[],qP(e).constructor):t.apply(e,r))}function VP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(VP=function(){return!!e})()}function qP(e){return(qP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WP(e,t){return(WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function HP(e,t,r){return(t=GP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=function(e,t){if("object"!=LP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=LP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==LP(t)?t:t+""}MP(DP,"displayName","PolarRadiusAxis"),MP(DP,"axisType","radiusAxis"),MP(DP,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var KP,XP,YP,JP,ZP=Math.PI/180,QP=1e-5,eE=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),FP(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WP(e,t)}(e,at.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return lt.isValidElement(e)?lt.cloneElement(e,t):Id(e)?e(t):lt.createElement(ob,zP({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],(r=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,s=t.orientation,i=t.tickSize||8,o=gO(r,n,a,e.coordinate),l=gO(r,n,a+("inner"===s?-1:1)*i,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*ZP);return r>QP?"outer"===t?"start":"end":r<-QP?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,a=e.axisLine,s=e.axisLineType,i=UP(UP({},ku(this.props,!1)),{},{fill:"none"},ku(a,!1));if("circle"===s)return lt.createElement(oP,zP({className:"recharts-polar-angle-axis-line"},i,{cx:t,cy:r,r:n}));var o=this.props.ticks.map(function(e){return gO(t,r,n,e.coordinate)});return lt.createElement(sP,zP({className:"recharts-polar-angle-axis-line"},i,{points:o}))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,s=r.tickLine,i=r.tickFormatter,o=r.stroke,l=ku(this.props,!1),c=ku(a,!1),d=UP(UP({},l),{},{fill:"none"},ku(s,!1)),u=n.map(function(r,n){var u=t.getTickLineCoord(r),h=UP(UP(UP({textAnchor:t.getTickTextAnchor(r)},l),{},{stroke:"none",fill:o},c),{},{index:n,payload:r,x:u.x2,y:u.y2});return lt.createElement(Qu,zP({className:vt("recharts-polar-angle-axis-tick",jO(a)),key:"tick-".concat(r.coordinate)},uu(t.props,r,n)),s&&lt.createElement("line",zP({className:"recharts-polar-angle-axis-tick-line"},d,u)),a&&e.renderTickItem(a,h,i?i(r.value,n):r.value))});return lt.createElement(Qu,{className:"recharts-polar-angle-axis-ticks"},u)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:lt.createElement(Qu,{className:vt("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}])&&BP(t.prototype,r),n&&BP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();HP(eE,"displayName","PolarAngleAxis"),HP(eE,"axisType","angleAxis"),HP(eE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});const tE=gt(function(){if(JP)return YP;JP=1;var e=td(),t=function(){if(XP)return KP;XP=1;var e=Pg()(Object.getPrototypeOf,Object);return KP=e}(),r=rd(),n=Function.prototype,a=Object.prototype,s=n.toString,i=a.hasOwnProperty,o=s.call(Object);return YP=function(n){if(!r(n)||"[object Object]"!=e(n))return!1;var a=t(n);if(null===a)return!0;var l=i.call(a,"constructor")&&a.constructor;return"function"==typeof l&&l instanceof l&&s.call(l)==o}}());var rE,nE;const aE=gt(function(){if(nE)return rE;nE=1;var e=td(),t=rd();return rE=function(r){return!0===r||!1===r||t(r)&&"[object Boolean]"==e(r)}}());function sE(e){return(sE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iE.apply(this,arguments)}function oE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(t){uE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uE(e,t,r){var n;return n=function(e,t){if("object"!=sE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=sE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==sE(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hE,mE=function(e,t,r,n,a){var s,i=r-n;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},pE={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fE=function(e){var t=dE(dE({},pE),e),r=at.useRef(),n=oE(at.useState(-1),2),a=n[0],s=n[1];at.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(t){}},[]);var i=t.x,o=t.y,l=t.upperWidth,c=t.lowerWidth,d=t.height,u=t.className,h=t.animationEasing,m=t.animationDuration,p=t.animationBegin,f=t.isUpdateAnimationActive;if(i!==+i||o!==+o||l!==+l||c!==+c||d!==+d||0===l&&0===c||0===d)return null;var g=vt("recharts-trapezoid",u);return f?lt.createElement(UC,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:d,x:i,y:o},duration:m,animationEasing:h,isActive:f},function(e){var n=e.upperWidth,s=e.lowerWidth,i=e.height,o=e.x,l=e.y;return lt.createElement(UC,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,easing:h},lt.createElement("path",iE({},ku(t,!0),{className:g,d:mE(o,l,n,s,i),ref:r})))}):lt.createElement("g",null,lt.createElement("path",iE({},ku(t,!0),{className:g,d:mE(i,o,l,c,d)})))},gE=["option","shapeType","propTransformer","activeClassName","isActive"];function xE(e){return(xE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(t){jE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jE(e,t,r){var n;return n=function(e,t){if("object"!=xE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=xE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xE(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wE(e,t){return bE(bE({},t),e)}function NE(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return lt.createElement(JC,r);case"trapezoid":return lt.createElement(fE,r);case"sector":return lt.createElement(nA,r);case"symbols":if(function(e){return"symbols"===e}(t))return lt.createElement(ym,r);break;default:return null}}function _E(e){var t,r=e.option,n=e.shapeType,a=e.propTransformer,s=void 0===a?wE:a,i=e.activeClassName,o=void 0===i?"recharts-active-shape":i,l=e.isActive,c=yE(e,gE);if(at.isValidElement(r))t=at.cloneElement(r,bE(bE({},c),function(e){return at.isValidElement(e)?e.props:e}(r)));else if(Id(r))t=r(c);else if(tE(r)&&!aE(r)){var d=s(r,c);t=lt.createElement(NE,{shapeType:n,elementProps:d})}else{var u=c;t=lt.createElement(NE,{shapeType:n,elementProps:u})}return l?lt.createElement(Qu,{className:o},t):t}function SE(e,t){return null!=t&&"trapezoids"in e.props}function kE(e,t){return null!=t&&"sectors"in e.props}function OE(e,t){return null!=t&&"points"in e.props}function AE(e,t){var r,n,a=e.x===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,s=e.y===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&s}function CE(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function PE(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function EE(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return SE(e,t)?r="trapezoids":kE(e,t)?r="sectors":OE(e,t)&&(r="points"),r}(r,t),s=function(e,t){var r,n;return SE(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:kE(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:OE(e,t)?t.payload:{}}(r,t),i=n.filter(function(e,n){var i=uS(s,e),o=r.props[a].filter(function(e){var n=function(e,t){var r;return SE(e,t)?r=AE:kE(e,t)?r=CE:OE(e,t)&&(r=PE),r}(r,t);return n(e,t)}),l=r.props[a].indexOf(o[o.length-1]);return i&&n===l});return n.indexOf(i[i.length-1])}function TE(e){return(TE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IE.apply(this,arguments)}function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function RE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(t){BE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function DE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FE(n.key),n)}}function LE(e,t,r){return t=$E(t),function(e,t){if(t&&("object"===TE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zE()?Reflect.construct(t,r||[],$E(e).constructor):t.apply(e,r))}function zE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zE=function(){return!!e})()}function $E(e){return($E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UE(e,t){return(UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function BE(e,t,r){return(t=FE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FE(e){var t=function(e,t){if("object"!=TE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=TE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==TE(t)?t:t+""}var VE,qE,WE,HE,GE,KE,XE,YE,JE=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),BE(r=LE(this,e,[t]),"pieRef",null),BE(r,"sectorRefs",[]),BE(r,"id",Zd("recharts-pie-")),BE(r,"handleAnimationEnd",function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Id(e)&&e()}),BE(r,"handleAnimationStart",function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Id(e)&&e()}),r.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}(e,at.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(lt.isValidElement(e))return lt.cloneElement(e,t);if(Id(e))return e(t);var n=vt("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return lt.createElement(pA,IE({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(lt.isValidElement(e))return lt.cloneElement(e,t);var n=r;if(Id(e)&&(n=e(t),lt.isValidElement(n)))return n;var a=vt("recharts-pie-label-text","boolean"==typeof e||Id(e)?"":e.className);return lt.createElement(ob,IE({},t,{alignmentBaseline:"middle",className:a}),n)}}],(r=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,a=r.labelLine,s=r.dataKey,i=r.valueKey,o=ku(this.props,!1),l=ku(n,!1),c=ku(a,!1),d=n&&n.offsetRadius||20,u=t.map(function(t,r){var u=(t.startAngle+t.endAngle)/2,h=gO(t.cx,t.cy,t.outerRadius+d,u),m=RE(RE(RE(RE({},o),t),{},{stroke:"none"},l),{},{index:r,textAnchor:e.getTextAnchor(h.x,t.cx)},h),p=RE(RE(RE(RE({},o),t),{},{fill:"none",stroke:t.fill},c),{},{index:r,points:[gO(t.cx,t.cy,t.outerRadius,u),h]}),f=s;return Cd(s)&&Cd(i)?f="value":Cd(s)&&(f=i),lt.createElement(Qu,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(r)},a&&e.renderLabelLineItem(a,p,"line"),e.renderLabelItem(n,m,Lk(t,f)))});return lt.createElement(Qu,{className:"recharts-pie-labels"},u)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,a=r.blendStroke,s=r.inactiveShape;return e.map(function(r,i){if(0===(null==r?void 0:r.startAngle)&&0===(null==r?void 0:r.endAngle)&&1!==e.length)return null;var o=t.isActiveIndex(i),l=s&&t.hasActiveIndex()?s:null,c=o?n:l,d=RE(RE({},r),{},{stroke:a?r.fill:r.stroke,tabIndex:-1});return lt.createElement(Qu,IE({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},uu(t.props,r,i),{key:"sector-".concat(null==r?void 0:r.startAngle,"-").concat(null==r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(i)}),lt.createElement(_E,IE({option:c,isActive:o,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,i=t.animationEasing,o=t.animationId,l=this.state,c=l.prevSectors,d=l.prevIsAnimationActive;return lt.createElement(UC,{begin:a,duration:s,isActive:n,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(o,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var n=t.t,a=[],s=(r&&r[0]).startAngle;return r.forEach(function(e,t){var r=c&&c[t],i=t>0?kd(e,"paddingAngle",0):0;if(r){var o=tu(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=RE(RE({},e),{},{startAngle:s+i,endAngle:s+o(n)+i});a.push(l),s=l.endAngle}else{var d=e.endAngle,u=e.startAngle,h=tu(0,d-u)(n),m=RE(RE({},e),{},{startAngle:s+i,endAngle:s+h+i});a.push(m),s=m.endAngle}}),lt.createElement(Qu,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&uS(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,a=t.className,s=t.label,i=t.cx,o=t.cy,l=t.innerRadius,c=t.outerRadius,d=t.isAnimationActive,u=this.state.isAnimationFinished;if(r||!n||!n.length||!Xd(i)||!Xd(o)||!Xd(l)||!Xd(c))return null;var h=vt("recharts-pie",a);return lt.createElement(Qu,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),s&&this.renderLabels(n),TO.renderCallByParent(this.props,null,!1),(!d||u)&&KO.renderCallByParent(this.props,n,!1))}}])&&DE(t.prototype,r),n&&DE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function ZE(){if(HE)return WE;HE=1;var e=mv(),t=1/0;return WE=function(r){return r?(r=e(r))===t||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}}function QE(){if(KE)return GE;KE=1;var e=function(){if(qE)return VE;qE=1;var e=Math.ceil,t=Math.max;return VE=function(r,n,a,s){for(var i=-1,o=t(e((n-r)/(a||1)),0),l=Array(o);o--;)l[s?o:++i]=r,r+=a;return l}}(),t=my(),r=ZE();return GE=function(n){return function(a,s,i){return i&&"number"!=typeof i&&t(a,s,i)&&(s=i=void 0),a=r(a),void 0===s?(s=a,a=0):s=r(s),i=void 0===i?a<s?1:-1:r(i),e(a,s,i,n)}}}hE=JE,BE(JE,"displayName","Pie"),BE(JE,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!By,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),BE(JE,"parseDeltaAngle",function(e,t){return Gd(t-e)*Math.min(Math.abs(t-e),360)}),BE(JE,"getRealPieData",function(e){var t=e.data,r=e.children,n=ku(e,!1),a=ju(r,_v);return t&&t.length?t.map(function(e,t){return RE(RE(RE({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return RE(RE({},n),e.props)}):[]}),BE(JE,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,i=xO(a,s);return{cx:n+Qd(e.cx,a,a/2),cy:r+Qd(e.cy,s,s/2),innerRadius:Qd(e.innerRadius,i,0),outerRadius:Qd(e.outerRadius,i,.8*i),maxRadius:e.maxRadius||Math.sqrt(a*a+s*s)/2}}),BE(JE,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?RE(RE({},t.type.defaultProps),t.props):t.props,a=hE.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,u=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),p=hE.parseCoordinateOfPie(n,r),f=hE.parseDeltaAngle(i,o),g=Math.abs(f),x=c;Cd(c)&&Cd(u)?(eh(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x="value"):Cd(c)&&(eh(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x=u);var y,v,b=a.filter(function(e){return 0!==Lk(e,x,0)}).length,j=g-b*m-(g>=360?b:b-1)*l,w=a.reduce(function(e,t){var r=Lk(t,x,0);return e+(Xd(r)?r:0)},0);w>0&&(y=a.map(function(e,t){var r,n=Lk(e,x,0),a=Lk(e,d,t),o=(Xd(n)?n:0)/w,c=(r=t?v.endAngle+Gd(f)*l*(0!==n?1:0):i)+Gd(f)*((0!==n?m:0)+o*j),u=(r+c)/2,g=(p.innerRadius+p.outerRadius)/2,y=[{name:a,value:n,payload:e,dataKey:x,type:h}],b=gO(p.cx,p.cy,g,u);return v=RE(RE(RE({percent:o,cornerRadius:s,name:a,tooltipPayload:y,midAngle:u,middleRadius:g,tooltipPosition:b},e),p),{},{value:Lk(e,x),startAngle:r,endAngle:c,payload:e,paddingAngle:Gd(f)*l})}));return RE(RE({},p),{},{sectors:y,data:a})});const eT=gt(function(){if(YE)return XE;YE=1;var e=QE()();return XE=e}());function tT(e){return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(t){aT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aT(e,t,r){var n;return n=function(e,t){if("object"!=tT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=tT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tT(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sT=["Webkit","Moz","O","ms"];function iT(e){return(iT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oT(){return oT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oT.apply(this,arguments)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(t){fT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gT(n.key),n)}}function uT(e,t,r){return t=mT(t),function(e,t){if(t&&("object"===iT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hT()?Reflect.construct(t,r||[],mT(e).constructor):t.apply(e,r))}function hT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(hT=function(){return!!e})()}function mT(e){return(mT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pT(e,t){return(pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fT(e,t,r){return(t=gT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gT(e){var t=function(e,t){if("object"!=iT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=iT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==iT(t)?t:t+""}var xT,yT,vT,bT,jT=function(e){return e.changedTouches&&!!e.changedTouches.length},wT=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fT(r=uT(this,e,[t]),"handleDrag",function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)}),fT(r,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])}),fT(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null==n||n({endIndex:t,startIndex:a})}),r.detachDragEndListener()}),fT(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),fT(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),fT(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),fT(r,"handleSlideDragStart",function(e){var t=jT(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pT(e,t)}(e,at.PureComponent),t=e,n=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,a=e.height,s=e.stroke,i=Math.floor(r+a/2)-1;return lt.createElement(lt.Fragment,null,lt.createElement("rect",{x:t,y:r,width:n,height:a,fill:s,stroke:"none"}),lt.createElement("line",{x1:t+1,y1:i,x2:t+n-1,y2:i,fill:"none",stroke:"#fff"}),lt.createElement("line",{x1:t+1,y1:i+2,x2:t+n-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,r){return lt.isValidElement(t)?lt.cloneElement(t,r):Id(t)?t(r):e.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,s=e.travellerWidth,i=e.updateId,o=e.startIndex,l=e.endIndex;if(r!==t.prevData||i!==t.prevUpdateId)return cT({prevData:r,prevTravellerWidth:s,prevUpdateId:i,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,s=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=Db().domain(eT(0,o)).range([a,a+s-i]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:s,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([a,a+n-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:s,prevUpdateId:i,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],(r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var r=t.startX,n=t.endX,a=this.state.scaleValues,s=this.props,i=s.gap,o=s.data.length-1,l=Math.min(r,n),c=Math.max(r,n),d=e.getIndexInRange(a,l),u=e.getIndexInRange(a,c);return{startIndex:d-d%i,endIndex:u===o?o:u-u%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,s=Lk(r[e],a,e);return Id(n)?n(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,s=this.props,i=s.x,o=s.width,l=s.travellerWidth,c=s.startIndex,d=s.endIndex,u=s.onChange,h=e.pageX-r;h>0?h=Math.min(h,i+o-l-a,i+o-l-n):h<0&&(h=Math.max(h,i-n,i-a));var m=this.getIndex({startX:n+h,endX:a+h});m.startIndex===c&&m.endIndex===d||!u||u(m),this.setState({startX:n+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=jT(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,s=t.startX,i=this.state[n],o=this.props,l=o.x,c=o.width,d=o.travellerWidth,u=o.onChange,h=o.gap,m=o.data,p={startX:this.state.startX,endX:this.state.endX},f=e.pageX-r;f>0?f=Math.min(f,l+c-d-i):f<0&&(f=Math.max(f,l-i)),p[n]=i+f;var g=this.getIndex(p),x=g.startIndex,y=g.endIndex;this.setState(fT(fT({},n,i+f),"brushMoveStartX",e.pageX),function(){var e;u&&(e=m.length-1,("startX"===n&&(a>s?x%h===0:y%h===0)||a<s&&y===e||"endX"===n&&(a>s?y%h===0:x%h===0)||a>s&&y===e)&&u(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,s=n.startX,i=n.endX,o=this.state[t],l=a.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var d=a[c];"startX"===t&&d>=i||"endX"===t&&d<=s||this.setState(fT({},t,d),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,s=e.fill,i=e.stroke;return lt.createElement("rect",{stroke:i,fill:s,x:t,y:r,width:n,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,s=e.data,i=e.children,o=e.padding,l=at.Children.only(i);return l?lt.cloneElement(l,{x:t,y:r,width:n,height:a,margin:o,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(t,r){var n,a,s=this,i=this.props,o=i.y,l=i.travellerWidth,c=i.height,d=i.traveller,u=i.ariaLabel,h=i.data,m=i.startIndex,p=i.endIndex,f=Math.max(t,this.props.x),g=cT(cT({},ku(this.props,!1)),{},{x:f,y:o,width:l,height:c}),x=u||"Min value: ".concat(null===(n=h[m])||void 0===n?void 0:n.name,", Max value: ").concat(null===(a=h[p])||void 0===a?void 0:a.name);return lt.createElement(Qu,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),s.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,g))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,a=r.height,s=r.stroke,i=r.travellerWidth,o=Math.min(e,t)+i,l=Math.max(Math.abs(t-e)-i,0);return lt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:o,y:n,width:l,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,a=e.height,s=e.travellerWidth,i=e.stroke,o=this.state,l=o.startX,c=o.endX,d={pointerEvents:"none",fill:i};return lt.createElement(Qu,{className:"recharts-brush-texts"},lt.createElement(ob,oT({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:n+a/2},d),this.getTextOfTick(t)),lt.createElement(ob,oT({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+s+5,y:n+a/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,a=e.x,s=e.y,i=e.width,o=e.height,l=e.alwaysShowText,c=this.state,d=c.startX,u=c.endX,h=c.isTextActive,m=c.isSlideMoving,p=c.isTravellerMoving,f=c.isTravellerFocused;if(!t||!t.length||!Xd(a)||!Xd(s)||!Xd(i)||!Xd(o)||i<=0||o<=0)return null;var g,x,y,v,b=vt("recharts-brush",r),j=1===lt.Children.count(n),w=(x="none",y=(g="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(v=sT.reduce(function(e,t){return nT(nT({},e),{},aT({},t+y,x))},{}))[g]=x,v);return lt.createElement(Qu,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(d,u),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(u,"endX"),(h||m||p||f||l)&&this.renderText())}}])&&dT(t.prototype,r),n&&dT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();fT(wT,"displayName","Brush"),fT(wT,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const NT=gt(function(){if(bT)return vT;bT=1;var e=Op(),t=Wg(),r=function(){if(yT)return xT;yT=1;var e=sy();return xT=function(t,r){var n;return e(t,function(e,t,a){return!(n=r(e,t,a))}),!!n}}(),n=Jc(),a=my();return vT=function(s,i,o){var l=n(s)?e:r;return o&&a(s,i,o)&&(i=void 0),l(s,t(i,3))}}());var _T,ST,kT,OT,AT=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t};const CT=gt(function(){if(OT)return kT;OT=1;var e=function(){if(ST)return _T;ST=1;var e=dy();return _T=function(t,r,n){"__proto__"==r&&e?e(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n}}(),t=ay(),r=Wg();return kT=function(n,a){var s={};return a=r(a,3),t(n,function(t,r,n){e(s,r,a(t,r,n))}),s}}());var PT,ET,TT,IT,MT,RT;const DT=gt(function(){if(RT)return MT;RT=1;var e=ET?PT:(ET=1,PT=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}),t=function(){if(IT)return TT;IT=1;var e=sy();return TT=function(t,r){var n=!0;return e(t,function(e,t,a){return n=!!r(e,t,a)}),n}}(),r=Wg(),n=Jc(),a=my();return MT=function(s,i,o){var l=n(s)?e:t;return o&&a(s,i,o)&&(i=void 0),l(s,r(i,3))}}());var LT=["x","y"];function zT(e){return(zT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$T.apply(this,arguments)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(t){FT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FT(e,t,r){var n;return n=function(e,t){if("object"!=zT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=zT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==zT(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VT(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qT(e,t){var r=e.x,n=e.y,a=VT(e,LT),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),u="".concat(t.width||a.width),h=parseInt(u,10);return BT(BT(BT(BT(BT({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function WT(e){return lt.createElement(_E,$T({shapeType:"rectangle",propTransformer:qT,activeClassName:"recharts-active-bar"},e))}var HT,GT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"==typeof e)return e;var a=Xd(r)||function(e){return Cd(e)}(r);return a?e(r,n):(a||uk(),t)}},KT=["value","background"];function XT(e){return(XT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YT(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JT.apply(this,arguments)}function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function QT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(t){sI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iI(n.key),n)}}function tI(e,t,r){return t=nI(t),function(e,t){if(t&&("object"===XT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rI()?Reflect.construct(t,r||[],nI(e).constructor):t.apply(e,r))}function rI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(rI=function(){return!!e})()}function nI(e){return(nI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aI(e,t){return(aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sI(e,t,r){return(t=iI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iI(e){var t=function(e,t){if("object"!=XT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=XT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==XT(t)?t:t+""}var oI=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return sI(t=tI(this,e,[].concat(n)),"state",{isAnimationFinished:!1}),sI(t,"id",Zd("recharts-bar-")),sI(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),sI(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aI(e,t)}(e,at.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,a=r.dataKey,s=r.activeIndex,i=r.activeBar,o=ku(this.props,!1);return e&&e.map(function(e,r){var l=r===s,c=l?i:n,d=QT(QT(QT({},o),e),{},{isActive:l,option:c,index:r,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return lt.createElement(Qu,JT({className:"recharts-bar-rectangle"},uu(t.props,e,r),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(r)}),lt.createElement(WT,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,s=t.animationBegin,i=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevData;return lt.createElement(UC,{begin:s,duration:i,isActive:a,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,s=r.map(function(e,t){var r=c&&c[t];if(r){var s=tu(r.x,e.x),i=tu(r.y,e.y),o=tu(r.width,e.width),l=tu(r.height,e.height);return QT(QT({},e),{},{x:s(a),y:i(a),width:o(a),height:l(a)})}if("horizontal"===n){var d=tu(0,e.height)(a);return QT(QT({},e),{},{y:e.y+e.height-d,height:d})}var u=tu(0,e.width)(a);return QT(QT({},e),{},{width:u})});return lt.createElement(Qu,null,e.renderRectanglesStatically(s))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&uS(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,a=t.activeIndex,s=ku(this.props.background,!1);return r.map(function(t,r){t.value;var i=t.background,o=YT(t,KT);if(!i)return null;var l=QT(QT(QT(QT(QT({},o),{},{fill:"#eee"},i),s),uu(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return lt.createElement(WT,JT({key:"background-bar-".concat(r),option:e.props.background,isActive:r===a},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,a=r.xAxis,s=r.yAxis,i=r.layout,o=ju(r.children,Sk);if(!o)return null;var l="vertical"===i?n[0].height/2:n[0].width/2,c=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Lk(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return lt.createElement(Qu,d,o.map(function(e){return lt.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:a,yAxis:s,layout:i,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,a=e.xAxis,s=e.yAxis,i=e.left,o=e.top,l=e.width,c=e.height,d=e.isAnimationActive,u=e.background,h=e.id;if(t||!r||!r.length)return null;var m=this.state.isAnimationFinished,p=vt("recharts-bar",n),f=a&&a.allowDataOverflow,g=s&&s.allowDataOverflow,x=f||g,y=Cd(h)?this.id:h;return lt.createElement(Qu,{className:p},f||g?lt.createElement("defs",null,lt.createElement("clipPath",{id:"clipPath-".concat(y)},lt.createElement("rect",{x:f?i:i-l/2,y:g?o:o-c/2,width:f?l:2*l,height:g?c:2*c}))):null,lt.createElement(Qu,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(y,")"):null},u?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,y),(!d||m)&&KO.renderCallByParent(this.props,r))}}])&&eI(t.prototype,r),n&&eI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function lI(e){return(lI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mI(n.key),n)}}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(t){hI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hI(e,t,r){return(t=mI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mI(e){var t=function(e,t){if("object"!=lI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=lI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lI(t)?t:t+""}HT=oI,sI(oI,"displayName","Bar"),sI(oI,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!By,animationBegin:0,animationDuration:400,animationEasing:"ease"}),sI(oI,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,h=e.offset,m=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!m)return null;var p=t.layout,f=r.type.defaultProps,g=void 0!==f?QT(QT({},f),r.props):r.props,x=g.dataKey,y=g.children,v=g.minPointSize,b="horizontal"===p?i:s,j=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:b}),N=ju(y,_v),_=u.map(function(e,t){var n,u,h,f,g,y;c?n=function(e,t){if(!t||2!==t.length||!Xd(t[0])||!Xd(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Xd(e[0])||e[0]<r)&&(a[0]=r),(!Xd(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[d+t],j):(n=Lk(e,x),Array.isArray(n)||(n=[w,n]));var b=GT(v,HT.defaultProps.minPointSize)(n[1],t);if("horizontal"===p){var _,S=[i.scale(n[0]),i.scale(n[1])],k=S[0],O=S[1];u=eO({axis:s,ticks:o,bandSize:a,offset:m.offset,entry:e,index:t}),h=null!==(_=null!=O?O:k)&&void 0!==_?_:void 0,f=m.size;var A=k-O;if(g=Number.isNaN(A)?0:A,y={x:u,y:i.y,width:f,height:i.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var C=Gd(g||b)*(Math.abs(b)-Math.abs(g));h-=C,g+=C}}else{var P=[s.scale(n[0]),s.scale(n[1])],E=P[0],T=P[1];if(u=E,h=eO({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:e,index:t}),f=T-E,g=m.size,y={x:s.x,y:h,width:s.width,height:g},Math.abs(b)>0&&Math.abs(f)<Math.abs(b))f+=Gd(f||b)*(Math.abs(b)-Math.abs(f))}return QT(QT(QT({},e),{},{x:u,y:h,width:f,height:g,value:c?n:n[1],payload:e,background:y},N&&N[t]&&N[t].props),{},{tooltipPayload:[oO(r,e)],tooltipPosition:{x:u+f/2,y:h+g/2}})});return QT({data:_,layout:p},h)});var pI=function(e,t,r,n,a){var s=e.width,i=e.height,o=e.layout,l=e.children,c=Object.keys(t),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},u=!!wu(l,oI);return c.reduce(function(s,i){var l,c,h,m,p,f=t[i],g=f.orientation,x=f.domain,y=f.padding,v=void 0===y?{}:y,b=f.mirror,j=f.reversed,w="".concat(g).concat(b?"Mirror":"");if("number"===f.type&&("gap"===f.padding||"no-gap"===f.padding)){var N=x[1]-x[0],_=1/0,S=f.categoricalDomain.sort(nu);if(S.forEach(function(e,t){t>0&&(_=Math.min((e||0)-(S[t-1]||0),_))}),Number.isFinite(_)){var k=_/N,O="vertical"===f.layout?r.height:r.width;if("gap"===f.padding&&(l=k*O/2),"no-gap"===f.padding){var A=Qd(e.barCategoryGap,k*O),C=k*O/2;l=C-A-(C-A)/O*A}}}c="xAxis"===n?[r.left+(v.left||0)+(l||0),r.left+r.width-(v.right||0)-(l||0)]:"yAxis"===n?"horizontal"===o?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(l||0),r.top+r.height-(v.bottom||0)-(l||0)]:f.range,j&&(c=[c[1],c[0]]);var P=Gk(f,a,u),E=P.scale,T=P.realScaleType;E.domain(x).range(c),Xk(E);var I=Zk(E,uI(uI({},f),{},{realScaleType:T}));"xAxis"===n?(p="top"===g&&!b||"bottom"===g&&b,h=r.left,m=d[w]-p*f.height):"yAxis"===n&&(p="left"===g&&!b||"right"===g&&b,h=d[w]-p*f.width,m=r.top);var M=uI(uI(uI({},f),I),{},{realScaleType:T,x:h,y:m,scale:E,width:"xAxis"===n?r.width:f.width,height:"yAxis"===n?r.height:f.height});return M.bandSize=sO(M,I),f.hide||"xAxis"!==n?f.hide||(d[w]+=(p?-1:1)*M.width):d[w]+=(p?-1:1)*M.height,uI(uI({},s),{},hI({},i,M))},{})},fI=function(e,t){var r=e.x,n=e.y,a=t.x,s=t.y;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},gI=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&cI(t.prototype,r),n&&cI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();hI(gI,"EPS",1e-4);var xI=function(e){var t=Object.keys(e).reduce(function(t,r){return uI(uI({},t),{},hI({},r,gI.create(e[r])))},{});return uI(uI({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return CT(e,function(e,r){return t[r].apply(e,{bandAware:n,position:a})})},isInRange:function(e){return DT(e,function(e,r){return t[r].isInRange(e)})}})};var yI,vI,bI,jI,wI,NI,_I,SI;function kI(){if(NI)return wI;NI=1;var e=Hg(),t=Wg(),r=function(){if(jI)return bI;jI=1;var e=ZE();return bI=function(t){var r=e(t),n=r%1;return r==r?n?r-n:r:0}}(),n=Math.max;return wI=function(a,s,i){var o=null==a?0:a.length;if(!o)return-1;var l=null==i?0:r(i);return l<0&&(l=n(o+l,0)),e(a,t(s,3),l)}}const OI=gt(function(){if(SI)return _I;SI=1;var e=function(){if(vI)return yI;vI=1;var e=Wg(),t=Tg(),r=Ig();return yI=function(n){return function(a,s,i){var o=Object(a);if(!t(a)){var l=e(s,3);a=r(a),s=function(e){return l(o[e],e,o)}}var c=n(a,s,i);return c>-1?o[l?a[c]:c]:void 0}}}()(kI());return _I=e}());var AI=gt(yd())(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),CI=at.createContext(void 0),PI=at.createContext(void 0),EI=at.createContext(void 0),TI=at.createContext({}),II=at.createContext(void 0),MI=at.createContext(0),RI=at.createContext(0),DI=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,s=e.clipPathId,i=e.children,o=e.width,l=e.height,c=AI(a);return lt.createElement(CI.Provider,{value:r},lt.createElement(PI.Provider,{value:n},lt.createElement(TI.Provider,{value:a},lt.createElement(EI.Provider,{value:c},lt.createElement(II.Provider,{value:s},lt.createElement(MI.Provider,{value:l},lt.createElement(RI.Provider,{value:o},i)))))))},LI=function(e){var t=at.useContext(CI);null==t&&uk();var r=t[e];return null==r&&uk(),r},zI=function(e){var t=at.useContext(PI);null==t&&uk();var r=t[e];return null==r&&uk(),r},$I=function(){return at.useContext(RI)},UI=function(){return at.useContext(MI)};function BI(e){return(BI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FI(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YI(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VI(e,t,r){return t=WI(t),function(e,t){if(t&&("object"===BI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qI()?Reflect.construct(t,r||[],WI(e).constructor):t.apply(e,r))}function qI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qI=function(){return!!e})()}function WI(e){return(WI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HI(e,t){return(HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(t){XI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function XI(e,t,r){return(t=YI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YI(e){var t=function(e,t){if("object"!=BI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=BI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==BI(t)?t:t+""}function JI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ZI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QI(){return QI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QI.apply(this,arguments)}function eM(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,o=e.className,l=e.alwaysShow,c=at.useContext(II),d=LI(a),u=zI(s),h=at.useContext(EI);if(!c||!h)return null;eh(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,r,n,a,s,i,o,l){var c=a.x,d=a.y,u=a.width,h=a.height;if(r){var m=l.y,p=e.y.apply(m,{position:s});if(AT(l,"discard")&&!e.y.isInRange(p))return null;var f=[{x:c+u,y:p},{x:c,y:p}];return"left"===o?f.reverse():f}if(t){var g=l.x,x=e.x.apply(g,{position:s});if(AT(l,"discard")&&!e.x.isInRange(x))return null;var y=[{x:x,y:d+h},{x:x,y:d}];return"top"===i?y.reverse():y}if(n){var v=l.segment.map(function(t){return e.apply(t,{position:s})});return AT(l,"discard")&&NT(v,function(t){return!e.isInRange(t)})?null:v}return null}(xI({x:d.scale,y:u.scale}),Yd(t),Yd(r),n&&2===n.length,h,e.position,d.orientation,u.orientation,e);if(!m)return null;var p=JI(m,2),f=p[0],g=f.x,x=f.y,y=p[1],v=y.x,b=y.y,j=KI(KI({clipPath:AT(e,"hidden")?"url(#".concat(c,")"):void 0},ku(e,!0)),{},{x1:g,y1:x,x2:v,y2:b});return lt.createElement(Qu,{className:vt("recharts-reference-line",o)},function(e,t){return lt.isValidElement(e)?lt.cloneElement(e,t):Id(e)?e(t):lt.createElement("line",QI({},t,{className:"recharts-reference-line-line"}))}(i,j),TO.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return fI({x:t,y:r},{x:n,y:a})}({x1:g,y1:x,x2:v,y2:b})))}var tM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),VI(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HI(e,t)}(e,lt.Component),FI(e,[{key:"render",value:function(){return lt.createElement(eM,this.props)}}])}();function rM(){return rM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rM.apply(this,arguments)}function nM(e){return(nM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(t){uM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iM(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hM(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oM(e,t,r){return t=cM(t),function(e,t){if(t&&("object"===nM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lM()?Reflect.construct(t,r||[],cM(e).constructor):t.apply(e,r))}function lM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lM=function(){return!!e})()}function cM(e){return(cM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dM(e,t){return(dM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function uM(e,t,r){return(t=hM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hM(e){var t=function(e,t){if("object"!=nM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=nM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==nM(t)?t:t+""}XI(tM,"displayName","ReferenceLine"),XI(tM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var mM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oM(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dM(e,t)}(e,lt.Component),iM(e,[{key:"render",value:function(){var t=this.props,r=t.x,n=t.y,a=t.r,s=t.alwaysShow,i=t.clipPathId,o=Yd(r),l=Yd(n);if(eh(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,s=xI({x:n.scale,y:a.scale}),i=s.apply({x:t,y:r},{bandAware:!0});return AT(e,"discard")&&!s.isInRange(i)?null:i}(this.props);if(!c)return null;var d=c.x,u=c.y,h=this.props,m=h.shape,p=h.className,f=sM(sM({clipPath:AT(this.props,"hidden")?"url(#".concat(i,")"):void 0},ku(this.props,!0)),{},{cx:d,cy:u});return lt.createElement(Qu,{className:vt("recharts-reference-dot",p)},e.renderDot(m,f),TO.renderCallByParent(this.props,{x:d-a,y:u-a,width:2*a,height:2*a}))}}])}();function pM(){return pM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pM.apply(this,arguments)}function fM(e){return(fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(t){NM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yM(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_M(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vM(e,t,r){return t=jM(t),function(e,t){if(t&&("object"===fM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bM()?Reflect.construct(t,r||[],jM(e).constructor):t.apply(e,r))}function bM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bM=function(){return!!e})()}function jM(e){return(jM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wM(e,t){return(wM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function NM(e,t,r){return(t=_M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _M(e){var t=function(e,t){if("object"!=fM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=fM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==fM(t)?t:t+""}uM(mM,"displayName","ReferenceDot"),uM(mM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),uM(mM,"renderDot",function(e,t){return lt.isValidElement(e)?lt.cloneElement(e,t):Id(e)?e(t):lt.createElement(oP,rM({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var SM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vM(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wM(e,t)}(e,lt.Component),yM(e,[{key:"render",value:function(){var t=this.props,r=t.x1,n=t.x2,a=t.y1,s=t.y2,i=t.className,o=t.alwaysShow,l=t.clipPathId;eh(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Yd(r),d=Yd(n),u=Yd(a),h=Yd(s),m=this.props.shape;if(!(c||d||u||h||m))return null;var p=function(e,t,r,n,a){var s=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var u=xI({x:c.scale,y:d.scale}),h={x:e?u.x.apply(s,{position:"start"}):u.x.rangeMin,y:r?u.y.apply(o,{position:"start"}):u.y.rangeMin},m={x:t?u.x.apply(i,{position:"end"}):u.x.rangeMax,y:n?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!AT(a,"discard")||u.isInRange(h)&&u.isInRange(m)?fI(h,m):null}(c,d,u,h,this.props);if(!p&&!m)return null;var f=AT(this.props,"hidden")?"url(#".concat(l,")"):void 0;return lt.createElement(Qu,{className:vt("recharts-reference-area",i)},e.renderRect(m,xM(xM({clipPath:f},ku(this.props,!0)),p)),TO.renderCallByParent(this.props,p))}}])}();function kM(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function OM(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,s=Math.atan(r/t),i=a>s&&a<Math.PI-s?r/Math.sin(a):t/Math.cos(a);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},r)}function AM(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function CM(e){return(CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(t){TM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function TM(e,t,r){var n;return n=function(e,t){if("object"!=CM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=CM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==CM(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IM(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!a||!a.length||!n)return[];if(Xd(l)||By)return function(e,t){return kM(e,t+1)}(a,"number"==typeof l&&Xd(l)?l:0);var h=[],m="top"===o||"bottom"===o?"width":"height",p=d&&"width"===m?Tv(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},f=function(e,n){var a=Id(c)?c(e.value,n):e.value;return"width"===m?OM(Tv(a,{fontSize:t,letterSpacing:r}),p,u):Tv(a,{fontSize:t,letterSpacing:r})[m]},g=a.length>=2?Gd(a[1].coordinate-a[0].coordinate):1,x=function(e,t,r){var n="width"===r,a=e.x,s=e.y,i=e.width,o=e.height;return 1===t?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}(s,g,m);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var s,i=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var t=null==n?void 0:n[c];if(void 0===t)return{v:kM(n,d)};var s,i=c,h=function(){return void 0===s&&(s=r(t,i)),s},m=t.coordinate,p=0===c||AM(e,m,h,u,l);p||(c=0,u=o,d+=1),p&&(u=m+e*(h()/2+a),c+=d)};d<=i.length;)if(s=h())return s.v;return[]}(g,x,f,a,i):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end;if(s){var d=n[o-1],u=r(d,o-1),h=e*(d.coordinate+e*u/2-c);i[o-1]=d=EM(EM({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),AM(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+a),i[o-1]=EM(EM({},d),{},{isShow:!0}))}for(var m=s?o-1:o,p=function(t){var n,s=i[t],o=function(){return void 0===n&&(n=r(s,t)),n};if(0===t){var d=e*(s.coordinate-e*o()/2-l);i[t]=s=EM(EM({},s),{},{tickCoord:d<0?s.coordinate-d*e:s.coordinate})}else i[t]=s=EM(EM({},s),{},{tickCoord:s.coordinate});AM(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+a),i[t]=EM(EM({},s),{},{isShow:!0}))},f=0;f<m;f++)p(f);return i}(g,x,f,a,i,"preserveStartEnd"===l):function(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,o=t.start,l=t.end,c=function(t){var n,c=s[t],d=function(){return void 0===n&&(n=r(c,t)),n};if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);s[t]=c=EM(EM({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else s[t]=c=EM(EM({},c),{},{tickCoord:c.coordinate});AM(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+a),s[t]=EM(EM({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return s}(g,x,f,a,i),h.filter(function(e){return e.isShow}))}NM(SM,"displayName","ReferenceArea"),NM(SM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),NM(SM,"renderRect",function(e,t){return lt.isValidElement(e)?lt.cloneElement(e,t):Id(e)?e(t):lt.createElement(JC,pM({},t,{className:"recharts-reference-area-rect"}))});var MM=["viewBox"],RM=["viewBox"],DM=["ticks"];function LM(e){return(LM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zM(){return zM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zM.apply(this,arguments)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function UM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(t){GM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function BM(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KM(n.key),n)}}function VM(e,t,r){return t=WM(t),function(e,t){if(t&&("object"===LM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qM()?Reflect.construct(t,r||[],WM(e).constructor):t.apply(e,r))}function qM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qM=function(){return!!e})()}function WM(e){return(WM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HM(e,t){return(HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function GM(e,t,r){return(t=KM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KM(e){var t=function(e,t){if("object"!=LM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=LM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==LM(t)?t:t+""}var XM=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=VM(this,e,[t])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HM(e,t)}(e,at.Component),t=e,n=[{key:"renderTickItem",value:function(e,t,r){var n=vt(t.className,"recharts-cartesian-axis-tick-value");return lt.isValidElement(e)?lt.cloneElement(e,UM(UM({},t),{},{className:n})):Id(e)?e(UM(UM({},t),{},{className:n})):lt.createElement(ob,zM({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(r=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=BM(e,MM),a=this.props,s=a.viewBox,i=BM(a,RM);return!au(r,s)||!au(n,i)||!au(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,s,i,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,h=o.orientation,m=o.tickSize,p=o.mirror,f=o.tickMargin,g=p?-1:1,x=e.tickSize||m,y=Xd(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=r=e.coordinate,i=(n=(a=c+ +!p*u)-g*x)-g*f,s=y;break;case"left":n=a=e.coordinate,s=(t=(r=l+ +!p*d)-g*x)-g*f,i=y;break;case"right":n=a=e.coordinate,s=(t=(r=l+ +p*d)+g*x)+g*f,i=y;break;default:t=r=e.coordinate,i=(n=(a=c+ +p*u)+g*x)+g*f,s=y}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:s,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,s=e.orientation,i=e.mirror,o=e.axisLine,l=UM(UM(UM({},ku(this.props,!1)),ku(o,!1)),{},{fill:"none"});if("top"===s||"bottom"===s){var c=+("top"===s&&!i||"bottom"===s&&i);l=UM(UM({},l),{},{x1:t,y1:r+c*a,x2:t+n,y2:r+c*a})}else{var d=+("left"===s&&!i||"right"===s&&i);l=UM(UM({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return lt.createElement("line",zM({},l,{className:vt("recharts-cartesian-axis-line",kd(o,"className"))}))}},{key:"renderTicks",value:function(t,r,n){var a=this,s=this.props,i=s.tickLine,o=s.stroke,l=s.tick,c=s.tickFormatter,d=s.unit,u=IM(UM(UM({},this.props),{},{ticks:t}),r,n),h=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=ku(this.props,!1),f=ku(l,!1),g=UM(UM({},p),{},{fill:"none"},ku(i,!1)),x=u.map(function(t,r){var n=a.getTickLineCoord(t),s=n.line,x=n.tick,y=UM(UM(UM(UM({textAnchor:h,verticalAnchor:m},p),{},{stroke:"none",fill:o},f),x),{},{index:r,payload:t,visibleTicksCount:u.length,tickFormatter:c});return lt.createElement(Qu,zM({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},uu(a.props,t,r)),i&&lt.createElement("line",zM({},g,s,{className:vt("recharts-cartesian-axis-tick-line",kd(i,"className"))})),l&&e.renderTickItem(l,y,"".concat(Id(c)?c(t.value,r):t.value).concat(d||"")))});return lt.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,a=t.height,s=t.ticksGenerator,i=t.className;if(t.hide)return null;var o=this.props,l=o.ticks,c=BM(o,DM),d=l;return Id(s)&&(d=l&&l.length>0?s(this.props):s(c)),n<=0||a<=0||!d||!d.length?null:lt.createElement(Qu,{className:vt("recharts-cartesian-axis",i),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),TO.renderCallByParent(this.props))}}])&&FM(t.prototype,r),n&&FM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();GM(XM,"displayName","CartesianAxis"),GM(XM,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var YM=["x1","y1","x2","y2","key"],JM=["offset"];function ZM(e){return(ZM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(t){tR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tR(e,t,r){var n;return n=function(e,t){if("object"!=ZM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ZM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ZM(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rR(){return rR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rR.apply(this,arguments)}function nR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var aR=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,o=e.ry;return lt.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function sR(e,t){var r;if(lt.isValidElement(e))r=lt.cloneElement(e,t);else if(Id(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,o=t.key,l=nR(t,YM),c=ku(l,!1);c.offset;var d=nR(c,JM);r=lt.createElement("line",rR({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:o}))}return r}function iR(e){var t=e.x,r=e.width,n=e.horizontal,a=void 0===n||n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(n,s){var i=eR(eR({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(s),index:s});return sR(a,i)});return lt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function oR(e){var t=e.y,r=e.height,n=e.vertical,a=void 0===n||n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(n,s){var i=eR(eR({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(s),index:s});return sR(a,i)});return lt.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function lR(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,o=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=o.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==c[0]&&c.unshift(0);var d=c.map(function(e,o){var l=!c[o+1]?a+i-e:c[o+1]-e;if(l<=0)return null;var d=o%t.length;return lt.createElement("rect",{key:"react-".concat(o),y:e,x:n,height:l,width:s,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return lt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function cR(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==d[0]&&d.unshift(0);var u=d.map(function(e,t){var r=!d[t+1]?s+o-e:d[t+1]-e;if(r<=0)return null;var c=t%n.length;return lt.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:r,height:l,stroke:"none",fill:n[c],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return lt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var dR=function(e,t){var r=e.xAxis,n=e.width,a=e.height,s=e.offset;return Vk(IM(eR(eR(eR({},XM.defaultProps),r),{},{ticks:qk(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},uR=function(e,t){var r=e.yAxis,n=e.width,a=e.height,s=e.offset;return Vk(IM(eR(eR(eR({},XM.defaultProps),r),{},{ticks:qk(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},hR={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mR(e){var t,r,n,a,s,i,o,l,c=$I(),d=UI(),u=at.useContext(TI),h=eR(eR({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:hR.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:hR.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:hR.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:hR.horizontalFill,vertical:null!==(s=e.vertical)&&void 0!==s?s:hR.vertical,verticalFill:null!==(i=e.verticalFill)&&void 0!==i?i:hR.verticalFill,x:Xd(e.x)?e.x:u.left,y:Xd(e.y)?e.y:u.top,width:Xd(e.width)?e.width:u.width,height:Xd(e.height)?e.height:u.height}),m=h.x,p=h.y,f=h.width,g=h.height,x=h.syncWithTicks,y=h.horizontalValues,v=h.verticalValues,b=(o=at.useContext(CI),eu(o)),j=(l=at.useContext(PI),OI(l,function(e){return DT(e.domain,Number.isFinite)})||eu(l));if(!Xd(f)||f<=0||!Xd(g)||g<=0||!Xd(m)||m!==+m||!Xd(p)||p!==+p)return null;var w=h.verticalCoordinatesGenerator||dR,N=h.horizontalCoordinatesGenerator||uR,_=h.horizontalPoints,S=h.verticalPoints;if((!_||!_.length)&&Id(N)){var k=y&&y.length,O=N({yAxis:j?eR(eR({},j),{},{ticks:k?y:j.ticks}):void 0,width:c,height:d,offset:u},!!k||x);eh(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ZM(O),"]")),Array.isArray(O)&&(_=O)}if((!S||!S.length)&&Id(w)){var A=v&&v.length,C=w({xAxis:b?eR(eR({},b),{},{ticks:A?v:b.ticks}):void 0,width:c,height:d,offset:u},!!A||x);eh(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ZM(C),"]")),Array.isArray(C)&&(S=C)}return lt.createElement("g",{className:"recharts-cartesian-grid"},lt.createElement(aR,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),lt.createElement(iR,rR({},h,{offset:u,horizontalPoints:_,xAxis:b,yAxis:j})),lt.createElement(oR,rR({},h,{offset:u,verticalPoints:S,xAxis:b,yAxis:j})),lt.createElement(lR,rR({},h,{horizontalPoints:_})),lt.createElement(cR,rR({},h,{verticalPoints:S})))}mR.displayName="CartesianGrid";var pR=["type","layout","connectNulls","ref"],fR=["key"];function gR(e){return(gR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yR(){return yR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yR.apply(this,arguments)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(t){AR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jR(e){return function(e){if(Array.isArray(e))return wR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CR(n.key),n)}}function _R(e,t,r){return t=kR(t),function(e,t){if(t&&("object"===gR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SR()?Reflect.construct(t,r||[],kR(e).constructor):t.apply(e,r))}function SR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(SR=function(){return!!e})()}function kR(e){return(kR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OR(e,t){return(OR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AR(e,t,r){return(t=CR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CR(e){var t=function(e,t){if("object"!=gR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=gR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==gR(t)?t:t+""}var PR=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return AR(t=_R(this,e,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),AR(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),AR(t,"getStrokeDasharray",function(r,n,a){var s=a.reduce(function(e,t){return e+t});if(!s)return t.generateSimpleStrokeDasharray(n,r);for(var i=Math.floor(r/s),o=r%s,l=n-r,c=[],d=0,u=0;d<a.length;u+=a[d],++d)if(u+a[d]>o){c=[].concat(jR(a.slice(0,d)),[o-u]);break}var h=c.length%2==0?[0,l]:[l];return[].concat(jR(e.repeat(a,i)),jR(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),AR(t,"id",Zd("recharts-line-")),AR(t,"pathRef",function(e){t.mainCurve=e}),AR(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),AR(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OR(e,t)}(e,at.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(jR(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(jR(n),jR(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(lt.isValidElement(e))r=lt.cloneElement(e,t);else if(Id(e))r=e(t);else{var n=t.key,a=xR(t,fR),s=vt("recharts-line-dot","boolean"!=typeof e?e.className:"");r=lt.createElement(oP,yR({key:n},a,{className:s}))}return r}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,s=r.yAxis,i=r.layout,o=ju(r.children,Sk);if(!o)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Lk(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return lt.createElement(Qu,c,o.map(function(e){return lt.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:a,yAxis:s,layout:i,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.dot,i=a.points,o=a.dataKey,l=ku(this.props,!1),c=ku(s,!0),d=i.map(function(t,r){var n=bR(bR(bR({key:"dot-".concat(r),r:3},l),c),{},{index:r,cx:t.x,cy:t.y,value:t.value,dataKey:o,payload:t.payload,points:i});return e.renderDotItem(s,n)}),u={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return lt.createElement(Qu,yR({className:"recharts-line-dots",key:"dots"},u),d)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,s=a.type,i=a.layout,o=a.connectNulls;a.ref;var l=xR(a,pR),c=bR(bR(bR({},ku(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:s,layout:i,connectNulls:o});return lt.createElement(pA,yR({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,s=n.strokeDasharray,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,d=n.animationId,u=n.animateNewValues,h=n.width,m=n.height,p=this.state,f=p.prevPoints,g=p.totalLength;return lt.createElement(UC,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t;if(f){var o=f.length/a.length,l=a.map(function(e,t){var r=Math.floor(t*o);if(f[r]){var n=f[r],a=tu(n.x,e.x),s=tu(n.y,e.y);return bR(bR({},e),{},{x:a(i),y:s(i)})}if(u){var l=tu(2*h,e.x),c=tu(m/2,e.y);return bR(bR({},e),{},{x:l(i),y:c(i)})}return bR(bR({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var c,d=tu(0,g)(i);if(s){var p="".concat(s).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(d,g,p)}else c=r.generateSimpleStrokeDasharray(g,d);return r.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,s=this.state,i=s.prevPoints,o=s.totalLength;return a&&n&&n.length&&(!i&&o>0||!uS(i,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,s=t.className,i=t.xAxis,o=t.yAxis,l=t.top,c=t.left,d=t.width,u=t.height,h=t.isAnimationActive,m=t.id;if(r||!a||!a.length)return null;var p=this.state.isAnimationFinished,f=1===a.length,g=vt("recharts-line",s),x=i&&i.allowDataOverflow,y=o&&o.allowDataOverflow,v=x||y,b=Cd(m)?this.id:m,j=null!==(e=ku(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},w=j.r,N=void 0===w?3:w,_=j.strokeWidth,S=void 0===_?2:_,k=(Su(n)?n:{}).clipDot,O=void 0===k||k,A=2*N+S;return lt.createElement(Qu,{className:g},x||y?lt.createElement("defs",null,lt.createElement("clipPath",{id:"clipPath-".concat(b)},lt.createElement("rect",{x:x?c:c-d/2,y:y?l:l-u/2,width:x?d:2*d,height:y?u:2*u})),!O&&lt.createElement("clipPath",{id:"clipPath-dots-".concat(b)},lt.createElement("rect",{x:c-A/2,y:l-A/2,width:d+A,height:u+A}))):null,!f&&this.renderCurve(v,b),this.renderErrorBar(v,b),(f||n)&&this.renderDots(v,O,b),(!h||p)&&KO.renderCallByParent(this.props,a))}}])&&NR(t.prototype,r),n&&NR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();AR(PR,"displayName","Line"),AR(PR,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!By,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),AR(PR,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return bR({points:l.map(function(e,t){var l=Lk(e,i);return"horizontal"===d?{x:Qk({axis:r,ticks:a,bandSize:o,entry:e,index:t}),y:Cd(l)?null:n.scale(l),value:l,payload:e}:{x:Cd(l)?null:r.scale(l),y:Qk({axis:n,ticks:s,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:d},c)});var ER,TR=["layout","type","stroke","connectNulls","isRange","ref"],IR=["key"];function MR(e){return(MR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DR(){return DR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DR.apply(this,arguments)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(t){qR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WR(n.key),n)}}function UR(e,t,r){return t=FR(t),function(e,t){if(t&&("object"===MR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,BR()?Reflect.construct(t,r||[],FR(e).constructor):t.apply(e,r))}function BR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(BR=function(){return!!e})()}function FR(e){return(FR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VR(e,t){return(VR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qR(e,t,r){return(t=WR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WR(e){var t=function(e,t){if("object"!=MR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=MR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==MR(t)?t:t+""}var HR=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return qR(t=UR(this,e,[].concat(n)),"state",{isAnimationFinished:!0}),qR(t,"id",Zd("recharts-area-")),qR(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),Id(e)&&e()}),qR(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),Id(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VR(e,t)}(e,at.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(r=[{key:"renderDots",value:function(t,r,n){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var i=this.props,o=i.dot,l=i.points,c=i.dataKey,d=ku(this.props,!1),u=ku(o,!0),h=l.map(function(t,r){var n=zR(zR(zR({key:"dot-".concat(r),r:3},d),u),{},{index:r,cx:t.x,cy:t.y,dataKey:c,value:t.value,payload:t.payload,points:l});return e.renderDotItem(o,n)}),m={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return lt.createElement(Qu,DR({className:"recharts-area-dots"},m),h)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,s=n[0].x,i=n[n.length-1].x,o=e*Math.abs(s-i),l=J_(n.map(function(e){return e.y||0}));return Xd(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(J_(r.map(function(e){return e.y||0})),l)),Xd(l)?lt.createElement("rect",{x:s<i?s:s-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,s=n[0].y,i=n[n.length-1].y,o=e*Math.abs(s-i),l=J_(n.map(function(e){return e.x||0}));return Xd(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(J_(r.map(function(e){return e.x||0})),l)),Xd(l)?lt.createElement("rect",{x:0,y:s<i?s:s-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,n){var a=this.props,s=a.layout,i=a.type,o=a.stroke,l=a.connectNulls,c=a.isRange;a.ref;var d=RR(a,TR);return lt.createElement(Qu,{clipPath:r?"url(#clipPath-".concat(n,")"):null},lt.createElement(pA,DR({},ku(d,!0),{points:e,connectNulls:l,type:i,baseLine:t,layout:s,stroke:"none",className:"recharts-area-area"})),"none"!==o&&lt.createElement(pA,DR({},ku(this.props,!1),{className:"recharts-area-curve",layout:s,type:i,connectNulls:l,fill:"none",points:e})),"none"!==o&&c&&lt.createElement(pA,DR({},ku(this.props,!1),{className:"recharts-area-curve",layout:s,type:i,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,s=n.baseLine,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,d=n.animationId,u=this.state,h=u.prevPoints,m=u.prevBaseLine;return lt.createElement(UC,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t;if(h){var o,l=h.length/a.length,c=a.map(function(e,t){var r=Math.floor(t*l);if(h[r]){var n=h[r],a=tu(n.x,e.x),s=tu(n.y,e.y);return zR(zR({},e),{},{x:a(i),y:s(i)})}return e});return o=Xd(s)&&"number"==typeof s?tu(m,s)(i):Cd(s)||Wd(s)?tu(m,0)(i):s.map(function(e,t){var r=Math.floor(t*l);if(m[r]){var n=m[r],a=tu(n.x,e.x),s=tu(n.y,e.y);return zR(zR({},e),{},{x:a(i),y:s(i)})}return e}),r.renderAreaStatically(c,o,e,t)}return lt.createElement(Qu,null,lt.createElement("defs",null,lt.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(i))),lt.createElement(Qu,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(a,s,e,t)))})}},{key:"renderArea",value:function(e,t){var r=this.props,n=r.points,a=r.baseLine,s=r.isAnimationActive,i=this.state,o=i.prevPoints,l=i.prevBaseLine,c=i.totalLength;return s&&n&&n.length&&(!o&&c>0||!uS(o,n)||!uS(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(n,a,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,s=t.className,i=t.top,o=t.left,l=t.xAxis,c=t.yAxis,d=t.width,u=t.height,h=t.isAnimationActive,m=t.id;if(r||!a||!a.length)return null;var p=this.state.isAnimationFinished,f=1===a.length,g=vt("recharts-area",s),x=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,v=x||y,b=Cd(m)?this.id:m,j=null!==(e=ku(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},w=j.r,N=void 0===w?3:w,_=j.strokeWidth,S=void 0===_?2:_,k=(Su(n)?n:{}).clipDot,O=void 0===k||k,A=2*N+S;return lt.createElement(Qu,{className:g},x||y?lt.createElement("defs",null,lt.createElement("clipPath",{id:"clipPath-".concat(b)},lt.createElement("rect",{x:x?o:o-d/2,y:y?i:i-u/2,width:x?d:2*d,height:y?u:2*u})),!O&&lt.createElement("clipPath",{id:"clipPath-dots-".concat(b)},lt.createElement("rect",{x:o-A/2,y:i-A/2,width:d+A,height:u+A}))):null,f?null:this.renderArea(v,b),(n||f)&&this.renderDots(v,O,b),(!h||p)&&KO.renderCallByParent(this.props,a))}}])&&$R(t.prototype,r),n&&$R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function GR(e){return(GR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KR(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eD(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XR(e,t,r){return t=JR(t),function(e,t){if(t&&("object"===GR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YR()?Reflect.construct(t,r||[],JR(e).constructor):t.apply(e,r))}function YR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(YR=function(){return!!e})()}function JR(e){return(JR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZR(e,t){return(ZR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function QR(e,t,r){return(t=eD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eD(e){var t=function(e,t){if("object"!=GR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=GR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==GR(t)?t:t+""}function tD(){return tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tD.apply(this,arguments)}function rD(e){var t=e.xAxisId,r=$I(),n=UI(),a=LI(t);return null==a?null:at.createElement(XM,tD({},a,{className:vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return qk(e,!0)}}))}ER=HR,qR(HR,"displayName","Area"),qR(HR,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!By,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),qR(HR,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,i=t.props.baseValue,o=null!=i?i:s;if(Xd(o)&&"number"==typeof o)return o;var l="horizontal"===a?n:r,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return"dataMin"===o?u:"dataMax"===o||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===o?c[0]:"dataMax"===o?c[1]:c[0]}),qR(HR,"getComposedData",function(e){var t,r=e.props,n=e.item,a=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,m=e.offset,p=r.layout,f=d&&d.length,g=ER.getBaseValue(r,n,a,s),x="horizontal"===p,y=!1,v=h.map(function(e,t){var r;f?r=d[u+t]:(r=Lk(e,c),Array.isArray(r)?y=!0:r=[g,r]);var n=null==r[1]||f&&null==Lk(e,c);return x?{x:Qk({axis:a,ticks:i,bandSize:l,entry:e,index:t}),y:n?null:s.scale(r[1]),value:r,payload:e}:{x:n?null:a.scale(r[1]),y:Qk({axis:s,ticks:o,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=f||y?v.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return x?{x:e.x,y:null!=t&&null!=e.y?s.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):x?s.scale(g):a.scale(g),zR({points:v,baseLine:t,layout:p,isRange:y},m)}),qR(HR,"renderDotItem",function(e,t){var r;if(lt.isValidElement(e))r=lt.cloneElement(e,t);else if(Id(e))r=e(t);else{var n=vt("recharts-area-dot","boolean"!=typeof e?e.className:""),a=t.key,s=RR(t,IR);r=lt.createElement(oP,DR({},s,{key:a,className:n}))}return r});var nD=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),XR(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZR(e,t)}(e,at.Component),KR(e,[{key:"render",value:function(){return at.createElement(rD,this.props)}}])}();function aD(e){return(aD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sD(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uD(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iD(e,t,r){return t=lD(t),function(e,t){if(t&&("object"===aD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oD()?Reflect.construct(t,r||[],lD(e).constructor):t.apply(e,r))}function oD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(oD=function(){return!!e})()}function lD(e){return(lD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cD(e,t){return(cD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dD(e,t,r){return(t=uD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uD(e){var t=function(e,t){if("object"!=aD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=aD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==aD(t)?t:t+""}function hD(){return hD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hD.apply(this,arguments)}QR(nD,"displayName","XAxis"),QR(nD,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var mD=function(e){var t=e.yAxisId,r=$I(),n=UI(),a=zI(t);return null==a?null:at.createElement(XM,hD({},a,{className:vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return qk(e,!0)}}))},pD=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),iD(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cD(e,t)}(e,at.Component),sD(e,[{key:"render",value:function(){return at.createElement(mD,this.props)}}])}();function fD(e){return function(e){if(Array.isArray(e))return gD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}dD(pD,"displayName","YAxis"),dD(pD,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var xD,yD=function(e,t,r,n,a){var s=ju(e,tM),i=ju(e,mM),o=[].concat(fD(s),fD(i)),l=ju(e,SM),c="".concat(n,"Id"),d=n[0],u=t;if(o.length&&(u=o.reduce(function(e,t){if(t.props[c]===r&&AT(t.props,"extendDomain")&&Xd(t.props[d])){var n=t.props[d];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},u)),l.length){var h="".concat(d,"1"),m="".concat(d,"2");u=l.reduce(function(e,t){if(t.props[c]===r&&AT(t.props,"extendDomain")&&Xd(t.props[h])&&Xd(t.props[m])){var n=t.props[h],a=t.props[m];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e},u)}return a&&a.length&&(u=a.reduce(function(e,t){return Xd(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},u)),u},vD={exports:{}};var bD=new(gt((xD||(xD=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new a(n,s||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,s=n.length,i=new Array(s);a<s;a++)i[a]=n[a].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,s,i){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,a),!0;case 5:return d.fn.call(d.context,t,n,a,s),!0;case 6:return d.fn.call(d.context,t,n,a,s,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||i(this,s);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(vD)),vD.exports))),jD="recharts.syncMouseEvents";function wD(e){return(wD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ND(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SD(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _D(e,t,r){return(t=SD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SD(e){var t=function(e,t){if("object"!=wD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=wD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==wD(t)?t:t+""}var kD=function(){return ND(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_D(this,"activeIndex",0),_D(this,"coordinateList",[]),_D(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,s=void 0===a?null:a,i=e.layout,o=void 0===i?null:i,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!=n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!=s?s:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,s=r.height,i=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+i+o,d=a+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}])}();function OD(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle;return{points:[gO(t,r,n,a),gO(t,r,n,s)],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function AD(e,t,r){var n,a,s,i;if("horizontal"===e)s=n=t.x,a=r.top,i=r.top+r.height;else if("vertical"===e)i=a=t.y,n=r.left,s=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return OD(t);var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,h=gO(o,l,c,u),m=gO(o,l,d,u);n=h.x,a=h.y,s=m.x,i=m.y}return[{x:n,y:a},{x:s,y:i}]}function CD(e){return(CD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ED(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(t){TD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function TD(e,t,r){var n;return n=function(e,t){if("object"!=CD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=CD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==CD(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ID(e){var t,r,n,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,p=null!==(t=a.props.cursor)&&void 0!==t?t:null===(r=a.type.defaultProps)||void 0===r?void 0:r.cursor;if(!a||!p||!i||!o||"ScatterChart"!==m&&"axis"!==s)return null;var f=pA;if("ScatterChart"===m)n=o,f=xP;else if("BarChart"===m)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(h,o,c,u),f=JC;else if("radial"===h){var g=OD(o),x=g.cx,y=g.cy,v=g.radius;n={cx:x,cy:y,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:v,outerRadius:v},f=nA}else n={points:AD(h,o,c)},f=pA;var b=ED(ED(ED(ED({stroke:"#ccc",pointerEvents:"none"},c),n),ku(p,!1)),{},{payload:l,payloadIndex:d,className:vt("recharts-tooltip-cursor",p.className)});return at.isValidElement(p)?at.cloneElement(p,b):at.createElement(f,b)}var MD=["item"],RD=["children","className","width","height","style","compact","title","desc"];function DD(e){return(DD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LD(){return LD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LD.apply(this,arguments)}function zD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t);else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||HD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $D(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UD(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JD(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BD(e,t,r){return t=VD(t),function(e,t){if(t&&("object"===DD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FD()?Reflect.construct(t,r||[],VD(e).constructor):t.apply(e,r))}function FD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(FD=function(){return!!e})()}function VD(e){return(VD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qD(e,t){return(qD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function WD(e){return function(e){if(Array.isArray(e))return GD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||HD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HD(e,t){if(e){if("string"==typeof e)return GD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?GD(e,t):void 0}}function GD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function XD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(t){YD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function YD(e,t,r){return(t=JD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JD(e){var t=function(e,t){if("object"!=DD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=DD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DD(t)?t:t+""}var ZD={xAxis:["bottom","top"],yAxis:["left","right"]},QD={width:"100%",height:"100%"},eL={x:0,y:0};function tL(e){return e}var rL=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,s=(null!=r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(WD(e),WD(r)):e},[]);return s.length>0?s:e&&e.length&&Xd(n)&&Xd(a)?e.slice(n,a+1):[]};function nL(e){return"number"===e?[0,"auto"]:void 0}var aL=function(e,t,r,n){var a=e.graphicalItems,s=e.tooltipAxis,i=rL(t,e);return r<0||!a||!a.length||r>=i.length?null:a.reduce(function(a,o){var l,c,d=null!==(l=o.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=ru(void 0===d?i:d,s.dataKey,n):c=d&&d[r]||i[r];return c?[].concat(WD(a),[oO(o,c)]):a},[])},sL=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),i=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,i=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0;if(i<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var o=a.range,l=0;l<i;l++){var c=l>0?n[l-1].coordinate:n[i-1].coordinate,d=n[l].coordinate,u=l>=i-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Gd(d-c)!==Gd(u-d)){var m=[];if(Gd(u-d)===Gd(o[1]-o[0])){h=u;var p=d+o[1]-o[0];m[0]=Math.min(p,(p+c)/2),m[1]=Math.max(p,(p+c)/2)}else{h=c;var f=u+o[1]-o[0];m[0]=Math.min(d,(f+d)/2),m[1]=Math.max(d,(f+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){s=n[l].index;break}}else{var x=Math.min(c,u),y=Math.max(c,u);if(e>(x+d)/2&&e<=(y+d)/2){s=n[l].index;break}}}else for(var v=0;v<i;v++)if(0===v&&e<=(r[v].coordinate+r[v+1].coordinate)/2||v>0&&v<i-1&&e>(r[v].coordinate+r[v-1].coordinate)/2&&e<=(r[v].coordinate+r[v+1].coordinate)/2||v===i-1&&e>(r[v].coordinate+r[v-1].coordinate)/2){s=r[v].index;break}return s}(s,i,l,o);if(c>=0&&l){var d=l[c]&&l[c].value,u=aL(e,t,c,d),h=function(e,t,r,n){var a=t.find(function(e){return e&&e.index===r});if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,i=n.radius;return XD(XD(XD({},n),gO(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,l=n.angle;return XD(XD(XD({},n),gO(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return eL}(r,i,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:h}}return null},iL=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,h=Fk(c,a);return r.reduce(function(t,r){var m,p=void 0!==r.type.defaultProps?XD(XD({},r.type.defaultProps),r.props):r.props,f=p.type,g=p.dataKey,x=p.allowDataOverflow,y=p.allowDuplicatedCategory,v=p.scale,b=p.ticks,j=p.includeHidden,w=p[s];if(t[w])return t;var N,_,S,k=rL(e.data,{graphicalItems:n.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===w}),dataStartIndex:o,dataEndIndex:l}),O=k.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null==e?void 0:e[0],a=null==e?void 0:e[1];if(n&&a&&Xd(n)&&Xd(a))return!0}return!1})(p.domain,x,f)&&(N=aO(p.domain,null,x),!h||"number"!==f&&"auto"===v||(S=zk(k,g,"category")));var A=nL(f);if(!N||0===N.length){var C,P=null!==(C=p.domain)&&void 0!==C?C:A;if(g){if(N=zk(k,g,f),"category"===f&&h){var E=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);y&&E?(_=N,N=eT(0,O)):y||(N=iO(P,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(WD(e),[t])},[]))}else if("category"===f)N=y?N.filter(function(e){return""!==e&&!Cd(e)}):iO(P,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Cd(t)?e:[].concat(WD(e),[t])},[]);else if("number"===f){var T=function(e,t,r,n,a){var s=t.map(function(t){return Uk(e,t,r,a,n)}).filter(function(e){return!Cd(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(k,n.filter(function(e){var t,r,n=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!a)}),g,a,c);T&&(N=T)}!h||"number"!==f&&"auto"===v||(S=zk(k,g,"category"))}else N=h?eT(0,O):i&&i[w]&&i[w].hasStack&&"number"===f?"expand"===u?[0,1]:tO(i[w].stackGroups,o,l):Bk(k,n.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)}),f,c,!0);if("number"===f)N=yD(d,N,w,a,b),P&&(N=aO(P,N,x));else if("category"===f&&P){var I=P;N.every(function(e){return I.indexOf(e)>=0})&&(N=I)}}return XD(XD({},t),{},YD({},w,XD(XD({},p),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:_,originalDomain:null!==(m=p.domain)&&void 0!==m?m:A,isCategorical:h,layout:c})))},{})},oL=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,s=t.graphicalItems,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(n,"Id"),u=ju(c,a),h={};return u&&u.length?h=iL(e,{axes:u,graphicalItems:s,axisType:n,axisIdKey:d,stackGroups:i,dataStartIndex:o,dataEndIndex:l}):s&&s.length&&(h=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=rL(e.data,{graphicalItems:r,dataStartIndex:o,dataEndIndex:l}),h=u.length,m=Fk(c,a),p=-1;return r.reduce(function(e,t){var f,g=(void 0!==t.type.defaultProps?XD(XD({},t.type.defaultProps),t.props):t.props)[s],x=nL("number");return e[g]?e:(p++,m?f=eT(0,h):i&&i[g]&&i[g].hasStack?(f=tO(i[g].stackGroups,o,l),f=yD(d,f,g,a)):(f=aO(x,Bk(u,r.filter(function(e){var t,r,n=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===g&&!a}),"number",c),n.defaultProps.allowDataOverflow),f=yD(d,f,g,a)),XD(XD({},e),{},YD({},g,XD(XD({axisType:a},n.defaultProps),{},{hide:!0,orientation:kd(ZD,"".concat(a,".").concat(p%2),null),domain:f,originalDomain:x,isCategorical:m,layout:c}))))},{})}(e,{Axis:a,graphicalItems:s,axisType:n,axisIdKey:d,stackGroups:i,dataStartIndex:o,dataEndIndex:l})),h},lL=function(e){var t=e.children,r=e.defaultShowTooltip,n=wu(t,wT),a=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(s=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},cL=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dL=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,s=e.yAxisMap,i=void 0===s?{}:s,o=r.width,l=r.height,c=r.children,d=r.margin||{},u=wu(c,wT),h=wu(c,ty),m=Object.keys(i).reduce(function(e,t){var r=i[t],n=r.orientation;return r.mirror||r.hide?e:XD(XD({},e),{},YD({},n,e[n]+r.width))},{left:d.left||0,right:d.right||0}),p=Object.keys(a).reduce(function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:XD(XD({},e),{},YD({},n,kd(e,"".concat(n))+r.height))},{top:d.top||0,bottom:d.bottom||0}),f=XD(XD({},p),m),g=f.bottom;u&&(f.bottom+=u.props.height||wT.defaultProps.height),h&&t&&(f=function(e,t,r,n){var a=r.children,s=r.width,i=r.margin,o=s-(i.left||0)-(i.right||0),l=Pk({children:a,legendWidth:o});if(l){var c=n||{},d=c.width,u=c.height,h=l.align,m=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===m)&&"center"!==h&&Xd(e[h]))return Rk(Rk({},e),{},Dk({},h,e[h]+(d||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==m&&Xd(e[m]))return Rk(Rk({},e),{},Dk({},m,e[m]+(u||0)))}return e}(f,0,r,t));var x=o-f.left-f.right,y=l-f.top-f.bottom;return XD(XD({brushBottom:g},f),{},{width:Math.max(x,0),height:Math.max(y,0)})},uL=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},hL=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=void 0===n?"axis":n,s=e.validateTooltipEventTypes,i=void 0===s?["axis"]:s,o=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,u=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,s=t.updateId,i=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,h=e.barCategoryGap,m=e.maxBarSize,p=cL(d),f=p.numericAxisName,g=p.cateAxisName,x=function(e){return!(!e||!e.length)&&e.some(function(e){var t=xu(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),y=[];return r.forEach(function(r,p){var v=rL(e.data,{graphicalItems:[r],dataStartIndex:i,dataEndIndex:l}),b=void 0!==r.type.defaultProps?XD(XD({},r.type.defaultProps),r.props):r.props,j=b.dataKey,w=b.maxBarSize,N=b["".concat(f,"Id")],_=b["".concat(g,"Id")],S=o.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],a=b["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||uk();var s=n[a];return XD(XD({},e),{},YD(YD({},r.axisType,s),"".concat(r.axisType,"Ticks"),qk(s)))},{}),k=S[g],O=S["".concat(g,"Ticks")],A=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?Rk(Rk({},e.type.defaultProps),e.props):e.props).stackId;if(Yd(n)){var a=t[n];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null}(r,n[N].stackGroups),C=xu(r.type).indexOf("Bar")>=0,P=sO(k,O),E=[],T=x&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var s={},i=Object.keys(a),o=0,l=i.length;o<l;o++)for(var c=a[i[o]].stackGroups,d=Object.keys(c),u=0,h=d.length;u<h;u++){var m=c[d[u]],p=m.items,f=m.cateAxisId,g=p.filter(function(e){return xu(e.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,y=void 0!==x?Rk(Rk({},x),g[0].props):g[0].props,v=y.barSize,b=y[f];s[b]||(s[b]=[]);var j=Cd(v)?t:v;s[b].push({item:g[0],stackList:g.slice(1),barSize:Cd(j)?void 0:Qd(j,r,0)})}}return s}({barSize:c,stackGroups:n,totalSize:uL(S,g)});if(C){var I,M,R=Cd(w)?m:w,D=null!==(I=null!==(M=sO(k,O,!0))&&void 0!==M?M:R)&&void 0!==I?I:0;E=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,s=void 0===a?[]:a,i=e.maxBarSize,o=s.length;if(o<1)return null;var l,c=Qd(t,n,0,!0),d=[];if(s[0].barSize===+s[0].barSize){var u=!1,h=n/o,m=s.reduce(function(e,t){return e+t.barSize||0},0);(m+=(o-1)*c)>=n&&(m-=(o-1)*c,c=0),m>=n&&h>0&&(u=!0,m=o*(h*=.9));var p={offset:((n-m)/2|0)-c,size:0};l=s.reduce(function(e,t){var r={item:t.item,position:{offset:p.offset+p.size+c,size:u?h:t.barSize}},n=[].concat(Tk(e),[r]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:p})}),n},d)}else{var f=Qd(r,n,0,!0);n-2*f-(o-1)*c<=0&&(c=0);var g=(n-2*f-(o-1)*c)/o;g>1&&(g>>=0);var x=i===+i?Math.min(g,i):g;l=s.reduce(function(e,t,r){var n=[].concat(Tk(e),[{item:t.item,position:{offset:f+(g+c)*r+(g-x)/2,size:x}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},d)}return l}({barGap:u,barCategoryGap:h,bandSize:D!==P?D:P,sizeList:T[_],maxBarSize:R}),D!==P&&(E=E.map(function(e){return XD(XD({},e),{},{position:XD(XD({},e.position),{},{offset:e.position.offset-D/2})})}))}var L,z,$=r&&r.type&&r.type.getComposedData;$&&y.push({props:XD(XD({},$(XD(XD({},S),{},{displayedData:v,props:e,dataKey:j,item:r,bandSize:P,barPosition:E,offset:a,stackedData:A,layout:d,dataStartIndex:i,dataEndIndex:l}))),{},YD(YD(YD({key:r.key||"item-".concat(p)},f,S[f]),g,S[g]),"animationId",s)),childIndex:(L=r,z=e.children,bu(z).indexOf(L)),item:r})}),y},h=function(e,n){var a=e.props,s=e.dataStartIndex,i=e.dataEndIndex,l=e.updateId;if(!Nu({props:a}))return null;var d=a.children,h=a.layout,m=a.stackOffset,p=a.data,f=a.reverseStackOrder,g=cL(h),x=g.numericAxisName,y=g.cateAxisName,v=ju(d,r),b=function(e,t,r,n,a,s){if(!e)return null;var i=(s?t.reverse():t).reduce(function(e,t){var a,s=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Rk(Rk({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(s.hide)return e;var o=s[r],l=e[o]||{hasStack:!1,stackGroups:{}};if(Yd(i)){var c=l.stackGroups[i]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[i]=c}else l.stackGroups[Zd("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return Rk(Rk({},e),{},Dk({},o,l))},{});return Object.keys(i).reduce(function(t,s){var o=i[s];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,s){var i=o.stackGroups[s];return Rk(Rk({},t),{},Dk({},s,{numericAxisId:r,cateAxisId:n,items:i.items,stackedData:Jk(e,i.items,a)}))},{})),Rk(Rk({},t),{},Dk({},s,o))},{})}(p,v,"".concat(x,"Id"),"".concat(y,"Id"),m,f),j=o.reduce(function(e,t){var r="".concat(t.axisType,"Map");return XD(XD({},e),{},YD({},r,oL(a,XD(XD({},t),{},{graphicalItems:v,stackGroups:t.axisType===x&&b,dataStartIndex:s,dataEndIndex:i}))))},{}),w=dL(XD(XD({},j),{},{props:a,graphicalItems:v}),null==n?void 0:n.legendBBox);Object.keys(j).forEach(function(e){j[e]=c(a,j[e],w,e.replace("Map",""),t)});var N,_,S=j["".concat(y,"Map")],k=(N=eu(S),{tooltipTicks:_=qk(N,!1,!0),orderedTooltipTicks:py(_,function(e){return e.coordinate}),tooltipAxis:N,tooltipAxisBandSize:sO(N,_)}),O=u(a,XD(XD({},j),{},{dataStartIndex:s,dataEndIndex:i,updateId:l,graphicalItems:v,stackGroups:b,offset:w}));return XD(XD({formattedGraphicalItems:O,graphicalItems:v,offset:w,stackGroups:b},k),j)},m=function(){function e(r){var n,a,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),YD(s=BD(this,e,[r]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),YD(s,"accessibilityManager",new kD),YD(s,"handleLegendBBoxUpdate",function(e){if(e){var t=s.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;s.setState(XD({legendBBox:e},h({props:s.props,dataStartIndex:r,dataEndIndex:n,updateId:a},XD(XD({},s.state),{},{legendBBox:e}))))}}),YD(s,"handleReceiveSyncEvent",function(e,t,r){if(s.props.syncId===e){if(r===s.eventEmitterSymbol&&"function"!=typeof s.props.syncMethod)return;s.applySyncEvent(t)}}),YD(s,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==s.state.dataStartIndex||r!==s.state.dataEndIndex){var n=s.state.updateId;s.setState(function(){return XD({dataStartIndex:t,dataEndIndex:r},h({props:s.props,dataStartIndex:t,dataEndIndex:r,updateId:n},s.state))}),s.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),YD(s,"handleMouseEnter",function(e){var t=s.getMouseInfo(e);if(t){var r=XD(XD({},t),{},{isTooltipActive:!0});s.setState(r),s.triggerSyncEvent(r);var n=s.props.onMouseEnter;Id(n)&&n(r,e)}}),YD(s,"triggeredAfterMouseMove",function(e){var t=s.getMouseInfo(e),r=t?XD(XD({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};s.setState(r),s.triggerSyncEvent(r);var n=s.props.onMouseMove;Id(n)&&n(r,e)}),YD(s,"handleItemMouseEnter",function(e){s.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),YD(s,"handleItemMouseLeave",function(){s.setState(function(){return{isTooltipActive:!1}})}),YD(s,"handleMouseMove",function(e){e.persist(),s.throttleTriggeredAfterMouseMove(e)}),YD(s,"handleMouseLeave",function(e){s.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};s.setState(t),s.triggerSyncEvent(t);var r=s.props.onMouseLeave;Id(r)&&r(t,e)}),YD(s,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&gu[t]?gu[t]:null}(e),n=kd(s.props,"".concat(r));r&&Id(n)&&n(null!==(t=/.*touch.*/i.test(r)?s.getMouseInfo(e.changedTouches[0]):s.getMouseInfo(e))&&void 0!==t?t:{},e)}),YD(s,"handleClick",function(e){var t=s.getMouseInfo(e);if(t){var r=XD(XD({},t),{},{isTooltipActive:!0});s.setState(r),s.triggerSyncEvent(r);var n=s.props.onClick;Id(n)&&n(r,e)}}),YD(s,"handleMouseDown",function(e){var t=s.props.onMouseDown;Id(t)&&t(s.getMouseInfo(e),e)}),YD(s,"handleMouseUp",function(e){var t=s.props.onMouseUp;Id(t)&&t(s.getMouseInfo(e),e)}),YD(s,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),YD(s,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseDown(e.changedTouches[0])}),YD(s,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseUp(e.changedTouches[0])}),YD(s,"handleDoubleClick",function(e){var t=s.props.onDoubleClick;Id(t)&&t(s.getMouseInfo(e),e)}),YD(s,"handleContextMenu",function(e){var t=s.props.onContextMenu;Id(t)&&t(s.getMouseInfo(e),e)}),YD(s,"triggerSyncEvent",function(e){void 0!==s.props.syncId&&bD.emit(jD,s.props.syncId,e,s.eventEmitterSymbol)}),YD(s,"applySyncEvent",function(e){var t=s.props,r=t.layout,n=t.syncMethod,a=s.state.updateId,i=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)s.setState(XD({dataStartIndex:i,dataEndIndex:o},h({props:s.props,dataStartIndex:i,dataEndIndex:o,updateId:a},s.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=s.state,m=u.offset,p=u.tooltipTicks;if(!m)return;if("function"==typeof n)d=n(p,e);else if("value"===n){d=-1;for(var f=0;f<p.length;f++)if(p[f].value===e.activeLabel){d=f;break}}var g=XD(XD({},m),{},{x:m.left,y:m.top}),x=Math.min(l,g.x+g.width),y=Math.min(c,g.y+g.height),v=p[d]&&p[d].value,b=aL(s.state,s.props.data,d),j=p[d]?{x:"horizontal"===r?p[d].coordinate:x,y:"horizontal"===r?y:p[d].coordinate}:eL;s.setState(XD(XD({},e),{},{activeLabel:v,activeCoordinate:j,activePayload:b,activeTooltipIndex:d}))}else s.setState(e)}),YD(s,"renderCursor",function(e){var r,n=s.state,a=n.isTooltipActive,i=n.activeCoordinate,o=n.activePayload,l=n.offset,c=n.activeTooltipIndex,d=n.tooltipAxisBandSize,u=s.getTooltipEventType(),h=null!==(r=e.props.active)&&void 0!==r?r:a,m=s.props.layout,p=e.key||"_recharts-cursor";return lt.createElement(ID,{key:p,activeCoordinate:i,activePayload:o,activeTooltipIndex:c,chartName:t,element:e,isActive:h,layout:m,offset:l,tooltipAxisBandSize:d,tooltipEventType:u})}),YD(s,"renderPolarAxis",function(e,t,r){var n=kd(e,"type.axisType"),a=kd(s.state,"".concat(n,"Map")),i=e.type.defaultProps,o=void 0!==i?XD(XD({},i),e.props):e.props,l=a&&a[o["".concat(n,"Id")]];return at.cloneElement(e,XD(XD({},l),{},{className:vt(n,l.className),key:e.key||"".concat(t,"-").concat(r),ticks:qk(l,!0)}))}),YD(s,"renderPolarGrid",function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,a=t.polarRadius,i=s.state,o=i.radiusAxisMap,l=i.angleAxisMap,c=eu(o),d=eu(l),u=d.cx,h=d.cy,m=d.innerRadius,p=d.outerRadius;return at.cloneElement(e,{polarAngles:Array.isArray(n)?n:qk(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:qk(c,!0).map(function(e){return e.coordinate}),cx:u,cy:h,innerRadius:m,outerRadius:p,key:e.key||"polar-grid",radialLines:r})}),YD(s,"renderLegend",function(){var e=s.state.formattedGraphicalItems,t=s.props,r=t.children,n=t.width,a=t.height,i=s.props.margin||{},o=n-(i.left||0)-(i.right||0),c=Pk({children:r,formattedGraphicalItems:e,legendWidth:o,legendContent:l});if(!c)return null;var d=c.item,u=$D(c,MD);return at.cloneElement(d,XD(XD({},u),{},{chartWidth:n,chartHeight:a,margin:i,onBBoxUpdate:s.handleLegendBBoxUpdate}))}),YD(s,"renderTooltip",function(){var e,t=s.props,r=t.children,n=t.accessibilityLayer,a=wu(r,uv);if(!a)return null;var i=s.state,o=i.isTooltipActive,l=i.activeCoordinate,c=i.activePayload,d=i.activeLabel,u=i.offset,h=null!==(e=a.props.active)&&void 0!==e?e:o;return at.cloneElement(a,{viewBox:XD(XD({},u),{},{x:u.left,y:u.top}),active:h,label:d,payload:h?c:[],coordinate:l,accessibilityLayer:n})}),YD(s,"renderBrush",function(e){var t=s.props,r=t.margin,n=t.data,a=s.state,i=a.offset,o=a.dataStartIndex,l=a.dataEndIndex,c=a.updateId;return at.cloneElement(e,{key:e.key||"_recharts-brush",onChange:Hk(s.handleBrushChange,e.props.onChange),data:n,x:Xd(e.props.x)?e.props.x:i.left,y:Xd(e.props.y)?e.props.y:i.top+i.height+i.brushBottom-(r.bottom||0),width:Xd(e.props.width)?e.props.width:i.width,startIndex:o,endIndex:l,updateId:"brush-".concat(c)})}),YD(s,"renderReferenceElement",function(e,t,r){if(!e)return null;var n=s.clipPathId,a=s.state,i=a.xAxisMap,o=a.yAxisMap,l=a.offset,c=e.type.defaultProps||{},d=e.props,u=d.xAxisId,h=void 0===u?c.xAxisId:u,m=d.yAxisId,p=void 0===m?c.yAxisId:m;return at.cloneElement(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:i[h],yAxis:o[p],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:n})}),YD(s,"renderActivePoints",function(t){var r=t.item,n=t.activePoint,a=t.basePoint,s=t.childIndex,i=t.isRange,o=[],l=r.props.key,c=void 0!==r.item.type.defaultProps?XD(XD({},r.item.type.defaultProps),r.item.props):r.item.props,d=c.activeDot,u=XD(XD({index:s,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:$k(r.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},ku(d,!1)),du(d));return o.push(e.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(s))),a?o.push(e.renderActiveDot(d,XD(XD({},u),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(s))):i&&o.push(null),o}),YD(s,"renderGraphicChild",function(e,t,r){var n=s.filterFormatItem(e,t,r);if(!n)return null;var a=s.getTooltipEventType(),i=s.state,o=i.isTooltipActive,l=i.tooltipAxis,c=i.activeTooltipIndex,d=i.activeLabel,u=wu(s.props.children,uv),h=n.props,m=h.points,p=h.isRange,f=h.baseLine,g=void 0!==n.item.type.defaultProps?XD(XD({},n.item.type.defaultProps),n.item.props):n.item.props,x=g.activeDot,y=g.hide,v=g.activeBar,b=g.activeShape,j=Boolean(!y&&o&&u&&(x||v||b)),w={};"axis"!==a&&u&&"click"===u.props.trigger?w={onClick:Hk(s.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(w={onMouseLeave:Hk(s.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Hk(s.handleItemMouseEnter,e.props.onMouseEnter)});var N=at.cloneElement(e,XD(XD({},n.props),w));if(j){if(!(c>=0)){var _,S=(null!==(_=s.getItemByXY(s.state.activeCoordinate))&&void 0!==_?_:{graphicalItem:N}).graphicalItem,k=S.item,O=void 0===k?e:k,A=S.childIndex,C=XD(XD(XD({},n.props),w),{},{activeIndex:A});return[at.cloneElement(O,C),null,null]}var P,E;if(l.dataKey&&!l.allowDuplicatedCategory){var T="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());P=ru(m,T,d),E=p&&f&&ru(f,T,d)}else P=null==m?void 0:m[c],E=p&&f&&f[c];if(b||v){var I=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[at.cloneElement(e,XD(XD(XD({},n.props),w),{},{activeIndex:I})),null,null]}if(!Cd(P))return[N].concat(WD(s.renderActivePoints({item:n,activePoint:P,basePoint:E,childIndex:c,isRange:p})))}return p?[N,null,null]:[N,null]}),YD(s,"renderCustomized",function(e,t,r){return at.cloneElement(e,XD(XD({key:"recharts-customized-".concat(r)},s.props),s.state))}),YD(s,"renderMap",{CartesianGrid:{handler:tL,once:!0},ReferenceArea:{handler:s.renderReferenceElement},ReferenceLine:{handler:tL},ReferenceDot:{handler:s.renderReferenceElement},XAxis:{handler:tL},YAxis:{handler:tL},Brush:{handler:s.renderBrush,once:!0},Bar:{handler:s.renderGraphicChild},Line:{handler:s.renderGraphicChild},Area:{handler:s.renderGraphicChild},Radar:{handler:s.renderGraphicChild},RadialBar:{handler:s.renderGraphicChild},Scatter:{handler:s.renderGraphicChild},Pie:{handler:s.renderGraphicChild},Funnel:{handler:s.renderGraphicChild},Tooltip:{handler:s.renderCursor,once:!0},PolarGrid:{handler:s.renderPolarGrid,once:!0},PolarAngleAxis:{handler:s.renderPolarAxis},PolarRadiusAxis:{handler:s.renderPolarAxis},Customized:{handler:s.renderCustomized}}),s.clipPathId="".concat(null!==(n=r.id)&&void 0!==n?n:Zd("recharts"),"-clip"),s.throttleTriggeredAfterMouseMove=gv(s.triggeredAfterMouseMove,null!==(a=r.throttleDelay)&&void 0!==a?a:1e3/60),s.state={},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qD(e,t)}(e,at.Component),UD(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,s=wu(t,uv);if(s){var i=s.props.defaultIndex;if(!("number"!=typeof i||i<0||i>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=aL(this.state,r,i,o),c=this.state.tooltipTicks[i].coordinate,d=(this.state.offset.top+n)/2,u="horizontal"===a?{x:c,y:d}:{y:c,x:d},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(u=XD(XD({},u),h.props.points[i].tooltipPosition),l=h.props.points[i].tooltipPayload);var m={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:u};this.setState(m),this.renderCursor(s),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var r,n;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}});return null}},{key:"componentDidUpdate",value:function(e){Ou([wu(e.children,uv)],[wu(this.props.children,uv)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=wu(this.props.children,uv);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return i.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},i=n.width/r.offsetWidth||1,o=this.inRange(s.chartX,s.chartY,i);if(!o)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),h=sL(this.state,this.props.data,this.props.layout,o);if("axis"!==u&&c&&d){var m=eu(c).scale,p=eu(d).scale,f=m&&m.invert?m.invert(s.chartX):null,g=p&&p.invert?p.invert(s.chartY):null;return XD(XD({},s),{},{xValue:f,yValue:g},h)}return h?XD(XD({},s),h):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,s=t/r;if("horizontal"===n||"vertical"===n){var i=this.state.offset;return a>=i.left&&a<=i.left+i.width&&s>=i.top&&s<=i.top+i.height?{x:a,y:s}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var d=eu(l);return bO({x:a,y:s},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=wu(e,uv),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),XD(XD({},du(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){bD.on(jD,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bD.removeListener(jD,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,s=n.length;a<s;a++){var i=n[a];if(i.item===e||i.props.key===e.key||t===xu(i.item.type)&&r===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,a=t.height,s=t.width;return lt.createElement("defs",null,lt.createElement("clipPath",{id:e},lt.createElement("rect",{x:r,y:n,height:a,width:s})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=zD(t,2),n=r[0],a=r[1];return XD(XD({},e),{},YD({},n,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=zD(t,2),n=r[0],a=r[1];return XD(XD({},e),{},YD({},n,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,s=r.length;a<s;a++){var i=r[a],o=i.props,l=i.item,c=void 0!==l.type.defaultProps?XD(XD({},l.type.defaultProps),l.props):l.props,d=xu(l.type);if("Bar"===d){var u=(o.data||[]).find(function(t){return XC(e,t)});if(u)return{graphicalItem:i,payload:u}}else if("RadialBar"===d){var h=(o.data||[]).find(function(t){return bO(e,t)});if(h)return{graphicalItem:i,payload:h}}else if(SE(i,n)||kE(i,n)||OE(i,n)){var m=EE({graphicalItem:i,activeTooltipItem:n,itemData:c.data}),p=void 0===c.activeIndex?m:c.activeIndex;return{graphicalItem:XD(XD({},i),{},{childIndex:p}),payload:OE(i,n)?c.data[m]:i.props.data[m]}}}return null}},{key:"render",value:function(){var e=this;if(!Nu(this))return null;var t,r,n=this.props,a=n.children,s=n.className,i=n.width,o=n.height,l=n.style,c=n.compact,d=n.title,u=n.desc,h=$D(n,RD),m=ku(h,!1);if(c)return lt.createElement(DI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},lt.createElement(Iu,LD({},m,{width:i,height:o,title:d,desc:u}),this.renderClipPath(),Cu(a,this.renderMap)));this.props.accessibilityLayer&&(m.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,m.role=null!==(r=this.props.role)&&void 0!==r?r:"application",m.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},m.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return lt.createElement(DI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},lt.createElement("div",LD({className:vt("recharts-wrapper",s),style:XD({position:"relative",cursor:"default",width:i,height:o},l)},p,{ref:function(t){e.container=t}}),lt.createElement(Iu,LD({},m,{width:i,height:o,title:d,desc:u,style:QD}),this.renderClipPath(),Cu(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();YD(m,"displayName",t),YD(m,"defaultProps",XD({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),YD(m,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,a=e.children,s=e.width,i=e.height,o=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var m=lL(e);return XD(XD(XD({},m),{},{updateId:0},h(XD(XD({props:e},m),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||s!==t.prevWidth||i!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!au(c,t.prevMargin)){var p=lL(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=XD(XD({},sL(t,n,o)),{},{updateId:t.updateId+1}),x=XD(XD(XD({},p),f),g);return XD(XD(XD({},x),h(XD({props:e},x),t)),{},{prevDataKey:r,prevData:n,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Ou(a,t.prevChildren)){var y,v,b,j,w=wu(a,wT),N=w&&null!==(y=null===(v=w.props)||void 0===v?void 0:v.startIndex)&&void 0!==y?y:d,_=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:u,S=N!==d||_!==u,k=!Cd(n)&&!S?t.updateId:t.updateId+1;return XD(XD({updateId:k},h(XD(XD({props:e},t),{},{updateId:k,dataStartIndex:N,dataEndIndex:_}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:_})}return null}),YD(m,"renderActiveDot",function(e,t,r){var n;return n=at.isValidElement(e)?at.cloneElement(e,t):Id(e)?e(t):lt.createElement(oP,t),lt.createElement(Qu,{className:"recharts-active-dot",key:r},n)});var p=at.forwardRef(function(e,t){return lt.createElement(m,LD({},e,{ref:t}))});return p.displayName=m.displayName,p},mL=hL({chartName:"LineChart",GraphicalChild:PR,axisComponents:[{axisType:"xAxis",AxisComp:nD},{axisType:"yAxis",AxisComp:pD}],formatAxisMap:pI}),pL=hL({chartName:"BarChart",GraphicalChild:oI,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:nD},{axisType:"yAxis",AxisComp:pD}],formatAxisMap:pI}),fL=hL({chartName:"PieChart",GraphicalChild:JE,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:eE},{axisType:"radiusAxis",AxisComp:DP}],formatAxisMap:function(e,t,r,n,a){var s=e.width,i=e.height,o=e.startAngle,l=e.endAngle,c=Qd(e.cx,s,s/2),d=Qd(e.cy,i,i/2),u=xO(s,i,r),h=Qd(e.innerRadius,u,0),m=Qd(e.outerRadius,u,.8*u);return Object.keys(t).reduce(function(e,r){var s,i=t[r],u=i.domain,p=i.reversed;if(Cd(i.range))"angleAxis"===n?s=[o,l]:"radiusAxis"===n&&(s=[h,m]),p&&(s=[s[1],s[0]]);else{var f=hO(s=i.range,2);o=f[0],l=f[1]}var g=Gk(i,a),x=g.realScaleType,y=g.scale;y.domain(u).range(s),Xk(y);var v=Zk(y,dO(dO({},i),{},{realScaleType:x})),b=dO(dO(dO({},i),v),{},{range:s,radius:m,realScaleType:x,scale:y,cx:c,cy:d,innerRadius:h,outerRadius:m,startAngle:o,endAngle:l});return dO(dO({},e),{},uO({},r,b))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),gL=hL({chartName:"AreaChart",GraphicalChild:HR,axisComponents:[{axisType:"xAxis",AxisComp:nD},{axisType:"yAxis",AxisComp:pD}],formatAxisMap:pI});const xL=["#3b82f6","#10b981","#f59e0b","#ef4444","#14b8a6","#0ea5e9"],yL=[{name:"Jan",users:12},{name:"Fev",users:19},{name:"Mar",users:32},{name:"Abr",users:45},{name:"Mai",users:68},{name:"Jun",users:82}];function vL({agents:e,routines:t,users:a,plans:s}){const i=()=>{if(!a||!s)return[];return s.map(e=>({name:e.name,value:a.filter(t=>t.plan_id===e.id).length})).filter(e=>e.value>0)};return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 h-full",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(E,{className:"w-5 h-5 text-sky-400"}),"Crescimento de Usuários"]})}),r.jsx(Ai,{children:r.jsx(Nv,{width:"100%",height:300,children:r.jsxs(mL,{data:yL,children:[r.jsx(mR,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),r.jsx(nD,{dataKey:"name",fontSize:12,stroke:"#a0a0a0"}),r.jsx(pD,{fontSize:12,stroke:"#a0a0a0"}),r.jsx(uv,{contentStyle:{background:"rgba(30, 41, 59, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",color:"#e5e7eb"}}),r.jsx(PR,{type:"monotone",dataKey:"users",stroke:"#0ea5e9",strokeWidth:3,dot:{r:5},activeDot:{r:8}})]})})})]})}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 h-full",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx($,{className:"w-5 h-5 text-green-400"}),"Distribuição de Planos"]})}),r.jsx(Ai,{children:r.jsx(Nv,{width:"100%",height:300,children:r.jsxs(fL,{children:[r.jsx(JE,{data:i(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:110,fill:"#8884d8",children:i().map((e,t)=>r.jsx(_v,{fill:xL[t%xL.length]},`cell-${t}`))}),r.jsx(uv,{contentStyle:{background:"rgba(30, 41, 59, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",color:"#e5e7eb"}}),r.jsx(ty,{iconSize:10,wrapperStyle:{color:"#a0a0a0"}})]})})})]})}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 h-full",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(x,{className:"w-5 h-5 text-indigo-400"}),"Uso de Agentes"]})}),r.jsx(Ai,{children:r.jsx(Nv,{width:"100%",height:300,children:r.jsxs(pL,{data:e.filter(e=>e.usage_count>0).map(e=>({name:e.name.replace("Agente ",""),uso:e.usage_count})).sort((e,t)=>t.uso-e.uso),children:[r.jsx(nD,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1,stroke:"#a0a0a0"}),r.jsx(pD,{fontSize:12,tickLine:!1,axisLine:!1,stroke:"#a0a0a0"}),r.jsx(uv,{contentStyle:{background:"rgba(30, 41, 59, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",color:"#e5e7eb"}}),r.jsx(oI,{dataKey:"uso",fill:"url(#agentGradient)",radius:[4,4,0,0]}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"agentGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#818cf8",stopOpacity:.8}),r.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:.3})]})})]})})})]})}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 h-full",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(u,{className:"w-5 h-5 text-cyan-400"}),"Interações com Vision"]})}),r.jsx(Ai,{children:r.jsx(Nv,{width:"100%",height:300,children:r.jsxs(gL,{data:[{day:"D-6",interactions:120},{day:"D-5",interactions:150},{day:"D-4",interactions:130},{day:"D-3",interactions:180},{day:"D-2",interactions:210},{day:"D-1",interactions:190},{day:"Hoje",interactions:250}],children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"interactionGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#22d3ee",stopOpacity:.8}),r.jsx("stop",{offset:"95%",stopColor:"#22d3ee",stopOpacity:0})]})}),r.jsx(nD,{dataKey:"day",fontSize:12,tickLine:!1,axisLine:!1,stroke:"#a0a0a0"}),r.jsx(pD,{fontSize:12,tickLine:!1,axisLine:!1,stroke:"#a0a0a0"}),r.jsx(uv,{contentStyle:{background:"rgba(30, 41, 59, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",color:"#e5e7eb"}}),r.jsx(HR,{type:"monotone",dataKey:"interactions",stroke:"#22d3ee",fill:"url(#interactionGradient)"})]})})})]})})]})}const bL=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ni("w-full caption-bottom text-sm",e),...t})}));bL.displayName="Table";const jL=at.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Ni("[&_tr]:border-b",e),...t}));jL.displayName="TableHeader";const wL=at.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Ni("[&_tr:last-child]:border-0",e),...t}));wL.displayName="TableBody";at.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Ni("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";const NL=at.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Ni("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));NL.displayName="TableRow";const _L=at.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Ni("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));_L.displayName="TableHead";const SL=at.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Ni("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));SL.displayName="TableCell";function kL(e,[t,r]){return Math.min(r,Math.max(t,e))}function OL(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function AL(e,t=[]){let n=[];const a=()=>{const t=n.map(e=>at.createContext(e));return function(r){const n=(null==r?void 0:r[e])||t;return at.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return a.scopeName=e,[function(t,a){const s=at.createContext(a),i=n.length;n=[...n,a];const o=t=>{var n;const{scope:a,children:o,...l}=t,c=(null==(n=null==a?void 0:a[e])?void 0:n[i])||s,d=at.useMemo(()=>l,Object.values(l));return r.jsx(c.Provider,{value:d,children:o})};return o.displayName=t+"Provider",[o,function(r,n){var o;const l=(null==(o=null==n?void 0:n[e])?void 0:o[i])||s,c=at.useContext(l);if(c)return c;if(void 0!==a)return a;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},CL(a,...t)]}function CL(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const n=r.reduce((t,{useScope:r,scopeName:n})=>({...t,...r(e)[`__scope${n}`]}),{});return at.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}function PL(e){const t=e+"CollectionProvider",[n,a]=AL(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:n}=e,a=lt.useRef(null),i=lt.useRef(new Map).current;return r.jsx(s,{scope:t,itemMap:i,collectionRef:a,children:n})};o.displayName=t;const l=e+"CollectionSlot",c=Ii(l),d=lt.forwardRef((e,t)=>{const{scope:n,children:a}=e,s=Ti(t,i(l,n).collectionRef);return r.jsx(c,{ref:s,children:a})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=Ii(u),p=lt.forwardRef((e,t)=>{const{scope:n,children:a,...s}=e,o=lt.useRef(null),l=Ti(t,o),c=i(u,n);return lt.useEffect(()=>(c.itemMap.set(o,{ref:o,...s}),()=>{c.itemMap.delete(o)})),r.jsx(m,{[h]:"",ref:l,children:a})});return p.displayName=u,[{Provider:o,Slot:d,ItemSlot:p},function(t){const r=i(e+"CollectionConsumer",t);return lt.useCallback(()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},a]}at.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Ni("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var EL=at.createContext(void 0);function TL(e){const t=at.useContext(EL);return e||t||"ltr"}function IL(e){const t=at.useRef(e);return at.useEffect(()=>{t.current=e}),at.useMemo(()=>(...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[])}var ML,RL="dismissableLayer.update",DL="dismissableLayer.pointerDownOutside",LL="dismissableLayer.focusOutside",zL=at.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$L=at.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=at.useContext(zL),[u,h]=at.useState(null),m=(null==u?void 0:u.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,p]=at.useState({}),f=Ti(t,e=>h(e)),g=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),v=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,w=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=IL(e),n=at.useRef(!1),a=at.useRef(()=>{});return at.useEffect(()=>{const e=e=>{if(e.target&&!n.current){let n=function(){BL(DL,r,s,{discrete:!0})};const s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=n,t.addEventListener("click",a.current,{once:!0})):n()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{const t=e.target,r=[...d.branches].some(e=>e.contains(t));j&&!r&&(null==s||s(e),null==o||o(e),e.defaultPrevented||null==l||l())},m),N=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=IL(e),n=at.useRef(!1);return at.useEffect(()=>{const e=e=>{if(e.target&&!n.current){BL(LL,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(null==i||i(e),null==o||o(e),e.defaultPrevented||null==l||l())},m);return function(e,t=(null==globalThis?void 0:globalThis.document)){const r=IL(e);at.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{v===d.layers.size-1&&(null==a||a(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},m),at.useEffect(()=>{if(u)return n&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(ML=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),UL(),()=>{n&&1===d.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=ML)}},[u,m,n,d]),at.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),UL())},[u,d]),at.useEffect(()=>{const e=()=>p({});return document.addEventListener(RL,e),()=>document.removeEventListener(RL,e)},[]),r.jsx(To.div,{...c,ref:f,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:OL(e.onFocusCapture,N.onFocusCapture),onBlurCapture:OL(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:OL(e.onPointerDownCapture,w.onPointerDownCapture)})});$L.displayName="DismissableLayer";function UL(){const e=new CustomEvent(RL);document.dispatchEvent(e)}function BL(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?function(e,t){e&&it.flushSync(()=>e.dispatchEvent(t))}(a,s):a.dispatchEvent(s)}at.forwardRef((e,t)=>{const n=at.useContext(zL),a=at.useRef(null),s=Ti(t,a);return at.useEffect(()=>{const e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),r.jsx(To.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var FL=0;function VL(){at.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qL()),document.body.insertAdjacentElement("beforeend",e[1]??qL()),FL++,()=>{1===FL&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),FL--}},[])}function qL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var WL="focusScope.autoFocusOnMount",HL="focusScope.autoFocusOnUnmount",GL={bubbles:!1,cancelable:!0},KL=at.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=at.useState(null),d=IL(s),u=IL(i),h=at.useRef(null),m=Ti(t,e=>c(e)),p=at.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;at.useEffect(()=>{if(a){let e=function(e){if(p.paused||!l)return;const t=e.target;l.contains(t)?h.current=t:ZL(h.current,{select:!0})},t=function(e){if(p.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||ZL(h.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&ZL(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[a,l,p.paused]),at.useEffect(()=>{if(l){QL.add(p);const t=document.activeElement;if(!l.contains(t)){const r=new CustomEvent(WL,GL);l.addEventListener(WL,d),l.dispatchEvent(r),r.defaultPrevented||(!function(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ZL(n,{select:t}),document.activeElement!==r)return}((e=XL(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&ZL(l))}return()=>{l.removeEventListener(WL,d),setTimeout(()=>{const e=new CustomEvent(HL,GL);l.addEventListener(HL,u),l.dispatchEvent(e),e.defaultPrevented||ZL(t??document.body,{select:!0}),l.removeEventListener(HL,u),QL.remove(p)},0)}}var e},[l,d,u,p]);const f=at.useCallback(e=>{if(!n&&!a)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[a,s]=function(e){const t=XL(e),r=YL(t,e),n=YL(t.reverse(),e);return[r,n]}(t);a&&s?e.shiftKey||r!==s?e.shiftKey&&r===a&&(e.preventDefault(),n&&ZL(s,{select:!0})):(e.preventDefault(),n&&ZL(a,{select:!0})):r===t&&e.preventDefault()}},[n,a,p.paused]);return r.jsx(To.div,{tabIndex:-1,...o,ref:m,onKeyDown:f})});function XL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function YL(e,t){for(const r of e)if(!JL(r,{upTo:t}))return r}function JL(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function ZL(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}KL.displayName="FocusScope";var QL=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null==r||r.pause()),e=ez(e,t),e.unshift(t)},remove(t){var r;e=ez(e,t),null==(r=e[0])||r.resume()}}}();function ez(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var tz=(null==globalThis?void 0:globalThis.document)?at.useLayoutEffect:()=>{},rz=ct[" useId ".trim().toString()]||(()=>{}),nz=0;function az(e){const[t,r]=at.useState(rz());return tz(()=>{r(e=>e??String(nz++))},[e]),t?`radix-${t}`:""}const sz=["top","right","bottom","left"],iz=Math.min,oz=Math.max,lz=Math.round,cz=Math.floor,dz=e=>({x:e,y:e}),uz={left:"right",right:"left",bottom:"top",top:"bottom"},hz={start:"end",end:"start"};function mz(e,t,r){return oz(e,iz(t,r))}function pz(e,t){return"function"==typeof e?e(t):e}function fz(e){return e.split("-")[0]}function gz(e){return e.split("-")[1]}function xz(e){return"x"===e?"y":"x"}function yz(e){return"y"===e?"height":"width"}const vz=new Set(["top","bottom"]);function bz(e){return vz.has(fz(e))?"y":"x"}function jz(e){return xz(bz(e))}function wz(e){return e.replace(/start|end/g,e=>hz[e])}const Nz=["left","right"],_z=["right","left"],Sz=["top","bottom"],kz=["bottom","top"];function Oz(e,t,r,n){const a=gz(e);let s=function(e,t,r){switch(e){case"top":case"bottom":return r?t?_z:Nz:t?Nz:_z;case"left":case"right":return t?Sz:kz;default:return[]}}(fz(e),"start"===r,n);return a&&(s=s.map(e=>e+"-"+a),t&&(s=s.concat(s.map(wz)))),s}function Az(e){return e.replace(/left|right|bottom|top/g,e=>uz[e])}function Cz(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Pz(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Ez(e,t,r){let{reference:n,floating:a}=e;const s=bz(t),i=jz(t),o=yz(i),l=fz(t),c="y"===s,d=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:u};break;case"left":m={x:n.x-a.width,y:u};break;default:m={x:n.x,y:n.y}}switch(gz(t)){case"start":m[i]-=h*(r&&c?-1:1);break;case"end":m[i]+=h*(r&&c?-1:1)}return m}async function Tz(e,t){var r;void 0===t&&(t={});const{x:n,y:a,platform:s,rects:i,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:m=0}=pz(t,e),p=Cz(m),f=o[h?"floating"===u?"reference":"floating":u],g=Pz(await s.getClippingRect({element:null==(r=await(null==s.isElement?void 0:s.isElement(f)))||r?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating)),v=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},b=Pz(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:y,strategy:l}):x);return{top:(g.top-b.top+p.top)/v.y,bottom:(b.bottom-g.bottom+p.bottom)/v.y,left:(g.left-b.left+p.left)/v.x,right:(b.right-g.right+p.right)/v.x}}function Iz(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mz(e){return sz.some(t=>e[t]>=0)}const Rz=new Set(["left","top"]);function Dz(){return"undefined"!=typeof window}function Lz(e){return Uz(e)?(e.nodeName||"").toLowerCase():"#document"}function zz(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function $z(e){var t;return null==(t=(Uz(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Uz(e){return!!Dz()&&(e instanceof Node||e instanceof zz(e).Node)}function Bz(e){return!!Dz()&&(e instanceof Element||e instanceof zz(e).Element)}function Fz(e){return!!Dz()&&(e instanceof HTMLElement||e instanceof zz(e).HTMLElement)}function Vz(e){return!(!Dz()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof zz(e).ShadowRoot)}const qz=new Set(["inline","contents"]);function Wz(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=n$(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!qz.has(a)}const Hz=new Set(["table","td","th"]);function Gz(e){return Hz.has(Lz(e))}const Kz=[":popover-open",":modal"];function Xz(e){return Kz.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const Yz=["transform","translate","scale","rotate","perspective"],Jz=["transform","translate","scale","rotate","perspective","filter"],Zz=["paint","layout","strict","content"];function Qz(e){const t=e$(),r=Bz(e)?n$(e):e;return Yz.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||Jz.some(e=>(r.willChange||"").includes(e))||Zz.some(e=>(r.contain||"").includes(e))}function e$(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const t$=new Set(["html","body","#document"]);function r$(e){return t$.has(Lz(e))}function n$(e){return zz(e).getComputedStyle(e)}function a$(e){return Bz(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function s$(e){if("html"===Lz(e))return e;const t=e.assignedSlot||e.parentNode||Vz(e)&&e.host||$z(e);return Vz(t)?t.host:t}function i$(e){const t=s$(e);return r$(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fz(t)&&Wz(t)?t:i$(t)}function o$(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=i$(e),s=a===(null==(n=e.ownerDocument)?void 0:n.body),i=zz(a);if(s){const e=l$(i);return t.concat(i,i.visualViewport||[],Wz(a)?a:[],e&&r?o$(e):[])}return t.concat(a,o$(a,[],r))}function l$(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function c$(e){const t=n$(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Fz(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,o=lz(r)!==s||lz(n)!==i;return o&&(r=s,n=i),{width:r,height:n,$:o}}function d$(e){return Bz(e)?e:e.contextElement}function u$(e){const t=d$(e);if(!Fz(t))return dz(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=c$(t);let i=(s?lz(r.width):r.width)/n,o=(s?lz(r.height):r.height)/a;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}const h$=dz(0);function m$(e){const t=zz(e);return e$()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:h$}function p$(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),s=d$(e);let i=dz(1);t&&(n?Bz(n)&&(i=u$(n)):i=u$(e));const o=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==zz(e))&&t}(s,r,n)?m$(s):dz(0);let l=(a.left+o.x)/i.x,c=(a.top+o.y)/i.y,d=a.width/i.x,u=a.height/i.y;if(s){const e=zz(s),t=n&&Bz(n)?zz(n):n;let r=e,a=l$(r);for(;a&&n&&t!==r;){const e=u$(a),t=a.getBoundingClientRect(),n=n$(a),s=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=s,c+=i,r=zz(a),a=l$(r)}}return Pz({width:d,height:u,x:l,y:c})}function f$(e,t){const r=a$(e).scrollLeft;return t?t.left+r:p$($z(e)).left+r}function g$(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:f$(e,n)),y:n.top+t.scrollTop}}const x$=new Set(["absolute","fixed"]);function y$(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=zz(e),n=$z(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const e=e$();(!e||e&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o,y:l}}(e,r);else if("document"===t)n=function(e){const t=$z(e),r=a$(e),n=e.ownerDocument.body,a=oz(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=oz(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+f$(e);const o=-r.scrollTop;return"rtl"===n$(n).direction&&(i+=oz(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:o}}($z(e));else if(Bz(t))n=function(e,t){const r=p$(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Fz(e)?u$(e):dz(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:n*s.y}}(t,r);else{const r=m$(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Pz(n)}function v$(e,t){const r=s$(e);return!(r===t||!Bz(r)||r$(r))&&("fixed"===n$(r).position||v$(r,t))}function b$(e,t,r){const n=Fz(t),a=$z(t),s="fixed"===r,i=p$(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=dz(0);function c(){l.x=f$(a)}if(n||!n&&!s)if(("body"!==Lz(t)||Wz(a))&&(o=a$(t)),n){const e=p$(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();s&&!n&&a&&c();const d=!a||n||s?dz(0):g$(a,o);return{x:i.left+o.scrollLeft-l.x-d.x,y:i.top+o.scrollTop-l.y-d.y,width:i.width,height:i.height}}function j$(e){return"static"===n$(e).position}function w$(e,t){if(!Fz(e)||"fixed"===n$(e).position)return null;if(t)return t(e);let r=e.offsetParent;return $z(e)===r&&(r=r.ownerDocument.body),r}function N$(e,t){const r=zz(e);if(Xz(e))return r;if(!Fz(e)){let t=s$(e);for(;t&&!r$(t);){if(Bz(t)&&!j$(t))return t;t=s$(t)}return r}let n=w$(e,t);for(;n&&Gz(n)&&j$(n);)n=w$(n,t);return n&&r$(n)&&j$(n)&&!Qz(n)?r:n||function(e){let t=s$(e);for(;Fz(t)&&!r$(t);){if(Qz(t))return t;if(Xz(t))return null;t=s$(t)}return null}(e)||r}const _$={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s="fixed"===a,i=$z(n),o=!!t&&Xz(t.floating);if(n===i||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=dz(1);const d=dz(0),u=Fz(n);if((u||!u&&!s)&&(("body"!==Lz(n)||Wz(i))&&(l=a$(n)),Fz(n))){const e=p$(n);c=u$(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const h=!i||u||s?dz(0):g$(i,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:$z,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[..."clippingAncestors"===r?Xz(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=o$(e,[],!1).filter(e=>Bz(e)&&"body"!==Lz(e)),a=null;const s="fixed"===n$(e).position;let i=s?s$(e):e;for(;Bz(i)&&!r$(i);){const t=n$(i),r=Qz(i);r||"fixed"!==t.position||(a=null),(s?!r&&!a:!r&&"static"===t.position&&a&&x$.has(a.position)||Wz(i)&&!r&&v$(e,i))?n=n.filter(e=>e!==i):a=t,i=s$(i)}return t.set(e,n),n}(t,this._c):[].concat(r),n],i=s[0],o=s.reduce((e,r)=>{const n=y$(t,r,a);return e.top=oz(n.top,e.top),e.right=iz(n.right,e.right),e.bottom=iz(n.bottom,e.bottom),e.left=oz(n.left,e.left),e},y$(t,i,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:N$,getElementRects:async function(e){const t=this.getOffsetParent||N$,r=this.getDimensions,n=await r(e.floating);return{reference:b$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=c$(e);return{width:t,height:r}},getScale:u$,isElement:Bz,isRTL:function(e){return"rtl"===n$(e).direction}};function S$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function k$(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=d$(e),d=a||s?[...c?o$(c):[],...o$(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});const u=c&&o?function(e,t){let r,n=null;const a=$z(e);function s(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function i(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:m}=c;if(o||t(),!h||!m)return;const p={rootMargin:-cz(u)+"px "+-cz(a.clientWidth-(d+h))+"px "+-cz(a.clientHeight-(u+m))+"px "+-cz(d)+"px",threshold:oz(0,iz(1,l))||1};let f=!0;function g(t){const n=t[0].intersectionRatio;if(n!==l){if(!f)return i();n?i(!1,n):r=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==n||S$(c,e.getBoundingClientRect())||i(),f=!1}try{n=new IntersectionObserver(g,{...p,root:a.ownerDocument})}catch(x){n=new IntersectionObserver(g,p)}n.observe(e)}(!0),s}(c,r):null;let h,m=-1,p=null;i&&(p=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let f=l?p$(e):null;return l&&function t(){const n=p$(e);f&&!S$(f,n)&&r();f=n,h=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==u||u(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const O$=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:o}=t,l=await async function(e,t){const{placement:r,platform:n,elements:a}=e,s=await(null==n.isRTL?void 0:n.isRTL(a.floating)),i=fz(r),o=gz(r),l="y"===bz(r),c=Rz.has(i)?-1:1,d=s&&l?-1:1,u=pz(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof p&&(m="end"===o?-1*p:p),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}(t,e);return i===(null==(r=o.offset)?void 0:r.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:i}}}}},A$=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:o={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=pz(e,t),c={x:r,y:n},d=await Tz(t,l),u=bz(fz(a)),h=xz(u);let m=c[h],p=c[u];if(s){const e="y"===h?"bottom":"right";m=mz(m+d["y"===h?"top":"left"],m,m-d[e])}if(i){const e="y"===u?"bottom":"right";p=mz(p+d["y"===u?"top":"left"],p,p-d[e])}const f=o.fn({...t,[h]:m,[u]:p});return{...f,data:{x:f.x-r,y:f.y-n,enabled:{[h]:s,[u]:i}}}}}},C$=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:f=!0,...g}=pz(e,t);if(null!=(r=s.arrow)&&r.alignmentOffset)return{};const x=fz(a),y=bz(o),v=fz(o)===o,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),j=h||(v||!f?[Az(o)]:function(e){const t=Az(e);return[wz(e),t,wz(t)]}(o)),w="none"!==p;!h&&w&&j.push(...Oz(o,f,p,b));const N=[o,...j],_=await Tz(t,g),S=[];let k=(null==(n=s.flip)?void 0:n.overflows)||[];if(d&&S.push(_[x]),u){const e=function(e,t,r){void 0===r&&(r=!1);const n=gz(e),a=jz(e),s=yz(a);let i="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Az(i)),[i,Az(i)]}(a,i,b);S.push(_[e[0]],_[e[1]])}if(k=[...k,{placement:a,overflows:S}],!S.every(e=>e<=0)){var O,A;const e=((null==(O=s.flip)?void 0:O.index)||0)+1,t=N[e];if(t){if(!("alignment"===u&&y!==bz(t))||k.every(e=>e.overflows[0]>0&&bz(e.placement)===y))return{data:{index:e,overflows:k},reset:{placement:t}}}let r=null==(A=k.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:A.placement;if(!r)switch(m){case"bestFit":{var C;const e=null==(C=k.filter(e=>{if(w){const t=bz(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:C[0];e&&(r=e);break}case"initialPlacement":r=o}if(a!==r)return{reset:{placement:r}}}return{}}}},P$=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:o}=t,{apply:l=()=>{},...c}=pz(e,t),d=await Tz(t,c),u=fz(a),h=gz(a),m="y"===bz(a),{width:p,height:f}=s.floating;let g,x;"top"===u||"bottom"===u?(g=u,x=h===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(x=u,g="end"===h?"top":"bottom");const y=f-d.top-d.bottom,v=p-d.left-d.right,b=iz(f-d[g],y),j=iz(p-d[x],v),w=!t.middlewareData.shift;let N=b,_=j;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(_=v),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(N=y),w&&!h){const e=oz(d.left,0),t=oz(d.right,0),r=oz(d.top,0),n=oz(d.bottom,0);m?_=p-2*(0!==e||0!==t?e+t:oz(d.left,d.right)):N=f-2*(0!==r||0!==n?r+n:oz(d.top,d.bottom))}await l({...t,availableWidth:_,availableHeight:N});const S=await i.getDimensions(o.floating);return p!==S.width||f!==S.height?{reset:{rects:!0}}:{}}}},E$=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=pz(e,t);switch(n){case"referenceHidden":{const e=Iz(await Tz(t,{...a,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Mz(e)}}}case"escaped":{const e=Iz(await Tz(t,{...a,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:Mz(e)}}}default:return{}}}}},T$=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=pz(e,t)||{};if(null==c)return{};const u=Cz(d),h={x:r,y:n},m=jz(a),p=yz(m),f=await i.getDimensions(c),g="y"===m,x=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",b=s.reference[p]+s.reference[m]-h[m]-s.floating[p],j=h[m]-s.reference[m],w=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c));let N=w?w[v]:0;N&&await(null==i.isElement?void 0:i.isElement(w))||(N=o.floating[v]||s.floating[p]);const _=b/2-j/2,S=N/2-f[p]/2-1,k=iz(u[x],S),O=iz(u[y],S),A=k,C=N-f[p]-O,P=N/2-f[p]/2+_,E=mz(A,P,C),T=!l.arrow&&null!=gz(a)&&P!==E&&s.reference[p]/2-(P<A?k:O)-f[p]/2<0,I=T?P<A?P-A:P-C:0;return{[m]:h[m]+I,data:{[m]:E,centerOffset:P-E-I,...T&&{alignmentOffset:I}},reset:T}}}),I$=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=pz(e,t),d={x:r,y:n},u=bz(a),h=xz(u);let m=d[h],p=d[u];const f=pz(o,t),g="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const e="y"===h?"height":"width",t=s.reference[h]-s.floating[e]+g.mainAxis,r=s.reference[h]+s.reference[e]-g.mainAxis;m<t?m=t:m>r&&(m=r)}if(c){var x,y;const e="y"===h?"width":"height",t=Rz.has(fz(a)),r=s.reference[u]-s.floating[e]+(t&&(null==(x=i.offset)?void 0:x[u])||0)+(t?0:g.crossAxis),n=s.reference[u]+s.reference[e]+(t?0:(null==(y=i.offset)?void 0:y[u])||0)-(t?g.crossAxis:0);p<r?p=r:p>n&&(p=n)}return{[h]:m,[u]:p}}}},M$=(e,t,r)=>{const n=new Map,a={platform:_$,...r},s={...a.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,o=s.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=Ez(c,n,l),h=n,m={},p=0;for(let f=0;f<o.length;f++){const{name:r,fn:s}=o[f],{x:g,y:x,data:y,reset:v}=await s({x:d,y:u,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=x?x:u,m={...m,[r]:{...m[r],...y}},v&&p<=50&&(p++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):v.rects),({x:d,y:u}=Ez(c,h,l))),f=-1)}return{x:d,y:u,placement:h,strategy:a,middlewareData:m}})(e,t,{...a,platform:s})};var R$="undefined"!=typeof document?at.useLayoutEffect:function(){};function D$(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!D$(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!==n--;){const r=a[n];if(("_owner"!==r||!e.$$typeof)&&!D$(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function L$(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function z$(e,t){const r=L$(e);return Math.round(t*r)/r}function $$(e){const t=at.useRef(e);return R$(()=>{t.current=e}),t}const U$=e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"==typeof e?e(t):e;return r&&(a=r,{}.hasOwnProperty.call(a,"current"))?null!=r.current?T$({element:r.current,padding:n}).fn(t):{}:r?T$({element:r,padding:n}).fn(t):{};var a}}),B$=(e,t)=>({...O$(e),options:[e,t]}),F$=(e,t)=>({...A$(e),options:[e,t]}),V$=(e,t)=>({...I$(e),options:[e,t]}),q$=(e,t)=>({...C$(e),options:[e,t]}),W$=(e,t)=>({...P$(e),options:[e,t]}),H$=(e,t)=>({...E$(e),options:[e,t]}),G$=(e,t)=>({...U$(e),options:[e,t]});var K$=at.forwardRef((e,t)=>{const{children:n,width:a=10,height:s=5,...i}=e;return r.jsx(To.svg,{...i,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});K$.displayName="Arrow";var X$=K$;function Y$(e){const[t,r]=at.useState(void 0);return tz(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let a,s;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}var J$="Popper",[Z$,Q$]=AL(J$),[eU,tU]=Z$(J$),rU=e=>{const{__scopePopper:t,children:n}=e,[a,s]=at.useState(null);return r.jsx(eU,{scope:t,anchor:a,onAnchorChange:s,children:n})};rU.displayName=J$;var nU="PopperAnchor",aU=at.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...s}=e,i=tU(nU,n),o=at.useRef(null),l=Ti(t,o);return at.useEffect(()=>{i.onAnchorChange((null==a?void 0:a.current)||o.current)}),a?null:r.jsx(To.div,{...s,ref:l})});aU.displayName=nU;var sU="PopperContent",[iU,oU]=Z$(sU),lU=at.forwardRef((e,t)=>{var n,a,s,i,o,l;const{__scopePopper:c,side:d="bottom",sideOffset:u=0,align:h="center",alignOffset:m=0,arrowPadding:p=0,avoidCollisions:f=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:j,...w}=e,N=tU(sU,c),[_,S]=at.useState(null),k=Ti(t,e=>S(e)),[O,A]=at.useState(null),C=Y$(O),P=(null==C?void 0:C.width)??0,E=(null==C?void 0:C.height)??0,T=d+("center"!==h?"-"+h:""),I="number"==typeof x?x:{top:0,right:0,bottom:0,left:0,...x},M=Array.isArray(g)?g:[g],R=M.length>0,D={padding:I,boundary:M.filter(hU),altBoundary:R},{refs:L,floatingStyles:z,placement:$,isPositioned:U,middlewareData:B}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,u]=at.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=at.useState(n);D$(h,n)||m(n);const[p,f]=at.useState(null),[g,x]=at.useState(null),y=at.useCallback(e=>{e!==w.current&&(w.current=e,f(e))},[]),v=at.useCallback(e=>{e!==N.current&&(N.current=e,x(e))},[]),b=s||p,j=i||g,w=at.useRef(null),N=at.useRef(null),_=at.useRef(d),S=null!=l,k=$$(l),O=$$(a),A=$$(c),C=at.useCallback(()=>{if(!w.current||!N.current)return;const e={placement:t,strategy:r,middleware:h};O.current&&(e.platform=O.current),M$(w.current,N.current,e).then(e=>{const t={...e,isPositioned:!1!==A.current};P.current&&!D$(_.current,t)&&(_.current=t,it.flushSync(()=>{u(t)}))})},[h,t,r,O,A]);R$(()=>{!1===c&&_.current.isPositioned&&(_.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);const P=at.useRef(!1);R$(()=>(P.current=!0,()=>{P.current=!1}),[]),R$(()=>{if(b&&(w.current=b),j&&(N.current=j),b&&j){if(k.current)return k.current(b,j,C);C()}},[b,j,C,k,S]);const E=at.useMemo(()=>({reference:w,floating:N,setReference:y,setFloating:v}),[y,v]),T=at.useMemo(()=>({reference:b,floating:j}),[b,j]),I=at.useMemo(()=>{const e={position:r,left:0,top:0};if(!T.floating)return e;const t=z$(T.floating,d.x),n=z$(T.floating,d.y);return o?{...e,transform:"translate("+t+"px, "+n+"px)",...L$(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,o,T.floating,d.x,d.y]);return at.useMemo(()=>({...d,update:C,refs:E,elements:T,floatingStyles:I}),[d,C,E,T,I])}({strategy:"fixed",placement:T,whileElementsMounted:(...e)=>k$(...e,{animationFrame:"always"===b}),elements:{reference:N.anchor},middleware:[B$({mainAxis:u+E,alignmentAxis:m}),f&&F$({mainAxis:!0,crossAxis:!1,limiter:"partial"===y?V$():void 0,...D}),f&&q$({...D}),W$({...D,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{const{width:a,height:s}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${r}px`),i.setProperty("--radix-popper-available-height",`${n}px`),i.setProperty("--radix-popper-anchor-width",`${a}px`),i.setProperty("--radix-popper-anchor-height",`${s}px`)}}),O&&G$({element:O,padding:p}),mU({arrowWidth:P,arrowHeight:E}),v&&H$({strategy:"referenceHidden",...D})]}),[F,V]=pU($),q=IL(j);tz(()=>{U&&(null==q||q())},[U,q]);const W=null==(n=B.arrow)?void 0:n.x,H=null==(a=B.arrow)?void 0:a.y,G=0!==(null==(s=B.arrow)?void 0:s.centerOffset),[K,X]=at.useState();return tz(()=>{_&&X(window.getComputedStyle(_).zIndex)},[_]),r.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:U?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[null==(i=B.transformOrigin)?void 0:i.x,null==(o=B.transformOrigin)?void 0:o.y].join(" "),...(null==(l=B.hide)?void 0:l.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(iU,{scope:c,placedSide:F,onArrowChange:A,arrowX:W,arrowY:H,shouldHideArrow:G,children:r.jsx(To.div,{"data-side":F,"data-align":V,...w,ref:k,style:{...w.style,animation:U?void 0:"none"}})})})});lU.displayName=sU;var cU="PopperArrow",dU={top:"bottom",right:"left",bottom:"top",left:"right"},uU=at.forwardRef(function(e,t){const{__scopePopper:n,...a}=e,s=oU(cU,n),i=dU[s.placedSide];return r.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:r.jsx(X$,{...a,ref:t,style:{...a.style,display:"block"}})})});function hU(e){return null!==e}uU.displayName=cU;var mU=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a;const{placement:s,rects:i,middlewareData:o}=t,l=0!==(null==(r=o.arrow)?void 0:r.centerOffset),c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,h]=pU(s),m={start:"0%",center:"50%",end:"100%"}[h],p=((null==(n=o.arrow)?void 0:n.x)??0)+c/2,f=((null==(a=o.arrow)?void 0:a.y)??0)+d/2;let g="",x="";return"bottom"===u?(g=l?m:`${p}px`,x=-d+"px"):"top"===u?(g=l?m:`${p}px`,x=`${i.floating.height+d}px`):"right"===u?(g=-d+"px",x=l?m:`${f}px`):"left"===u&&(g=`${i.floating.width+d}px`,x=l?m:`${f}px`),{data:{x:g,y:x}}}});function pU(e){const[t,r="center"]=e.split("-");return[t,r]}var fU=rU,gU=aU,xU=lU,yU=uU,vU=at.forwardRef((e,t)=>{var n;const{container:a,...s}=e,[i,o]=at.useState(!1);tz(()=>o(!0),[]);const l=a||i&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return l?dt.createPortal(r.jsx(To.div,{...s,ref:t}),l):null});vU.displayName="Portal";var bU=ct[" useInsertionEffect ".trim().toString()]||tz;function jU({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=function({defaultProp:e,onChange:t}){const[r,n]=at.useState(e),a=at.useRef(r),s=at.useRef(t);return bU(()=>{s.current=t},[t]),at.useEffect(()=>{var e;a.current!==r&&(null==(e=s.current)||e.call(s,r),a.current=r)},[r,a]),[r,n,s]}({defaultProp:t,onChange:r}),o=void 0!==e,l=o?e:a;{const t=at.useRef(void 0!==e);at.useEffect(()=>{const e=t.current;if(e!==o){}t.current=o},[o,n])}const c=at.useCallback(t=>{var r;if(o){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&(null==(r=i.current)||r.call(i,n))}else s(t)},[o,e,s,i]);return[l,c]}function wU(e){const t=at.useRef({value:e,previous:e});return at.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var NU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_U=at.forwardRef((e,t)=>r.jsx(To.span,{...e,ref:t,style:{...NU,...e.style}}));_U.displayName="VisuallyHidden";var SU=_U,kU=new WeakMap,OU=new WeakMap,AU={},CU=0,PU=function(e){return e&&(e.host||PU(e.parentNode))},EU=function(e,t,r,n){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=PU(t);return r&&e.contains(r)?r:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);AU[r]||(AU[r]=new WeakMap);var s=AU[r],i=[],o=new Set,l=new Set(a),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};a.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))d(e);else try{var t=e.getAttribute(n),a=null!==t&&"false"!==t,l=(kU.get(e)||0)+1,c=(s.get(e)||0)+1;kU.set(e,l),s.set(e,c),i.push(e),1===l&&a&&OU.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(n,"true")}catch(u){}})};return d(t),o.clear(),CU++,function(){i.forEach(function(e){var t=kU.get(e)-1,a=s.get(e)-1;kU.set(e,t),s.set(e,a),t||(OU.has(e)||e.removeAttribute(n),OU.delete(e)),a||e.removeAttribute(r)}),--CU||(kU=new WeakMap,kU=new WeakMap,OU=new WeakMap,AU={})}},TU=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),EU(n,a,r,"aria-hidden")):function(){return null}},IU=function(){return IU=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},IU.apply(this,arguments)};function MU(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}"function"==typeof SuppressedError&&SuppressedError;var RU="right-scroll-bar-position",DU="width-before-scroll-bar";function LU(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var zU="undefined"!=typeof window?at.useLayoutEffect:at.useEffect,$U=new WeakMap;function UU(e,t){var r,n,a,s=(r=null,n=function(t){return e.forEach(function(e){return LU(e,t)})},(a=at.useState(function(){return{value:r,callback:n,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}})[0]).callback=n,a.facade);return zU(function(){var t=$U.get(s);if(t){var r=new Set(t),n=new Set(e),a=s.current;r.forEach(function(e){n.has(e)||LU(e,null)}),n.forEach(function(e){r.has(e)||LU(e,a)})}$U.set(s,e)},[e]),s}function BU(e){return e}var FU=function(e){var t=e.sideCar,r=MU(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return at.createElement(n,IU({},r))};FU.isSideCarExport=!0;var VU=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=BU);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var a=t(e,n);return r.push(a),function(){r=r.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var a=r;r=[],a.forEach(e),t=r}var s=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(s)};i(),r={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),r}}}}}(null);return t.options=IU({async:!0,ssr:!1},e),t}(),qU=function(){},WU=at.forwardRef(function(e,t){var r=at.useRef(null),n=at.useState({onScrollCapture:qU,onWheelCapture:qU,onTouchMoveCapture:qU}),a=n[0],s=n[1],i=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,m=e.noRelative,p=e.noIsolation,f=e.inert,g=e.allowPinchZoom,x=e.as,y=void 0===x?"div":x,v=e.gapMode,b=MU(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,w=UU([r,t]),N=IU(IU({},b),a);return at.createElement(at.Fragment,null,d&&at.createElement(j,{sideCar:VU,removeScrollBar:c,shards:u,noRelative:m,noIsolation:p,inert:f,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:v}),i?at.cloneElement(at.Children.only(o),IU(IU({},N),{ref:w})):at.createElement(y,IU({},N,{className:l,ref:w}),o))});WU.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},WU.classNames={fullWidth:DU,zeroRight:RU};function HU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var GU=function(){var e=0,t=null;return{add:function(r){var n,a;0==e&&(t=HU())&&(a=r,(n=t).styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KU=function(){var e,t=(e=GU(),function(t,r){at.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])});return function(e){var r=e.styles,n=e.dynamic;return t(r,n),null}},XU={left:0,top:0,right:0,gap:0},YU=function(e){return parseInt(e||"",10)||0},JU=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return XU;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[YU(r),YU(n),YU(a)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ZU=KU(),QU="data-scroll-locked",eB=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,o=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(o,"px ").concat(n,";\n  }\n  body[").concat(QU,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(RU," {\n    right: ").concat(o,"px ").concat(n,";\n  }\n  \n  .").concat(DU," {\n    margin-right: ").concat(o,"px ").concat(n,";\n  }\n  \n  .").concat(RU," .").concat(RU," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(DU," .").concat(DU," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(QU,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},tB=function(){var e=parseInt(document.body.getAttribute(QU)||"0",10);return isFinite(e)?e:0},rB=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=void 0===n?"margin":n;at.useEffect(function(){return document.body.setAttribute(QU,(tB()+1).toString()),function(){var e=tB()-1;e<=0?document.body.removeAttribute(QU):document.body.setAttribute(QU,e.toString())}},[]);var s=at.useMemo(function(){return JU(a)},[a]);return at.createElement(ZU,{styles:eB(s,!t,a,r?"":"!important")})},nB=!1;if("undefined"!=typeof window)try{var aB=Object.defineProperty({},"passive",{get:function(){return nB=!0,!0}});window.addEventListener("test",aB,aB),window.removeEventListener("test",aB,aB)}catch(JK){nB=!1}var sB=!!nB&&{passive:!1},iB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},oB=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),lB(e,n)){var a=cB(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},lB=function(e,t){return"v"===e?function(e){return iB(e,"overflowY")}(t):function(e){return iB(e,"overflowX")}(t)},cB=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},dB=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uB=function(e){return[e.deltaX,e.deltaY]},hB=function(e){return e&&"current"in e?e.current:e},mB=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},pB=0,fB=[];function gB(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xB=(yB=function(e){var t=at.useRef([]),r=at.useRef([0,0]),n=at.useRef(),a=at.useState(pB++)[0],s=at.useState(KU)[0],i=at.useRef(e);at.useEffect(function(){i.current=e},[e]),at.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(hB),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=at.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var a,s=dB(e),o=r.current,l="deltaX"in e?e.deltaX:o[0]-s[0],c="deltaY"in e?e.deltaY:o[1]-s[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=oB(u,d);if(!h)return!0;if(h?a=u:(a="v"===u?"h":"v",h=oB(u,d)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||c)&&(n.current=a),!a)return!0;var m=n.current||a;return function(e,t,r,n){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=a*n,i=r.target,o=t.contains(i),l=!1,c=s>0,d=0,u=0;do{if(!i)break;var h=cB(e,i),m=h[0],p=h[1]-h[2]-a*m;(m||p)&&lB(e,i)&&(d+=p,u+=m);var f=i.parentNode;i=f&&f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?f.host:f}while(!o&&i!==document.body||o&&(t.contains(i)||t===i));return(c&&Math.abs(d)<1||!c&&Math.abs(u)<1)&&(l=!0),l}(m,t,e,"h"===m?l:c)},[]),l=at.useCallback(function(e){var r=e;if(fB.length&&fB[fB.length-1]===s){var n="deltaY"in r?uB(r):dB(r),a=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&(t=e.delta,a=n,t[0]===a[0]&&t[1]===a[1]);var t,a})[0];if(a&&a.should)r.cancelable&&r.preventDefault();else if(!a){var l=(i.current.shards||[]).map(hB).filter(Boolean).filter(function(e){return e.contains(r.target)});(l.length>0?o(r,l[0]):!i.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),c=at.useCallback(function(e,r,n,a){var s={name:e,delta:r,target:n,should:a,shadowParent:gB(n)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),d=at.useCallback(function(e){r.current=dB(e),n.current=void 0},[]),u=at.useCallback(function(t){c(t.type,uB(t),t.target,o(t,e.lockRef.current))},[]),h=at.useCallback(function(t){c(t.type,dB(t),t.target,o(t,e.lockRef.current))},[]);at.useEffect(function(){return fB.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,sB),document.addEventListener("touchmove",l,sB),document.addEventListener("touchstart",d,sB),function(){fB=fB.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,sB),document.removeEventListener("touchmove",l,sB),document.removeEventListener("touchstart",d,sB)}},[]);var m=e.removeScrollBar,p=e.inert;return at.createElement(at.Fragment,null,p?at.createElement(s,{styles:mB(a)}):null,m?at.createElement(rB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},VU.useMedium(yB),FU);var yB,vB=at.forwardRef(function(e,t){return at.createElement(WU,IU({},e,{ref:t,sideCar:xB}))});vB.classNames=WU.classNames;var bB=[" ","Enter","ArrowUp","ArrowDown"],jB=[" ","Enter"],wB="Select",[NB,_B,SB]=PL(wB),[kB,OB]=AL(wB,[SB,Q$]),AB=Q$(),[CB,PB]=kB(wB),[EB,TB]=kB(wB),IB=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:f}=e,g=AB(t),[x,y]=at.useState(null),[v,b]=at.useState(null),[j,w]=at.useState(!1),N=TL(d),[_,S]=jU({prop:a,defaultProp:s??!1,onChange:i,caller:wB}),[k,O]=jU({prop:o,defaultProp:l,onChange:c,caller:wB}),A=at.useRef(null),C=!x||(f||!!x.closest("form")),[P,E]=at.useState(new Set),T=Array.from(P).map(e=>e.props.value).join(";");return r.jsx(fU,{...g,children:r.jsxs(CB,{required:p,scope:t,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:w,contentId:az(),value:k,onValueChange:O,open:_,onOpenChange:S,dir:N,triggerPointerDownPosRef:A,disabled:m,children:[r.jsx(NB.Provider,{scope:t,children:r.jsx(EB,{scope:e.__scopeSelect,onNativeOptionAdd:at.useCallback(e=>{E(t=>new Set(t).add(e))},[]),onNativeOptionRemove:at.useCallback(e=>{E(t=>{const r=new Set(t);return r.delete(e),r})},[]),children:n})}),C?r.jsxs(vF,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:k,onChange:e=>O(e.target.value),disabled:m,form:f,children:[void 0===k?r.jsx("option",{value:""}):null,Array.from(P)]},T):null]})})};IB.displayName=wB;var MB="SelectTrigger",RB=at.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,i=AB(n),o=PB(MB,n),l=o.disabled||a,c=Ti(t,o.onTriggerChange),d=_B(n),u=at.useRef("touch"),[h,m,p]=jF(e=>{const t=d().filter(e=>!e.disabled),r=t.find(e=>e.value===o.value),n=wF(t,e,r);void 0!==n&&o.onValueChange(n.value)}),f=e=>{l||(o.onOpenChange(!0),p()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return r.jsx(gU,{asChild:!0,...i,children:r.jsx(To.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bF(o.value)?"":void 0,...s,ref:c,onClick:OL(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&f(e)}),onPointerDown:OL(s.onPointerDown,e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())}),onKeyDown:OL(s.onKeyDown,e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),t&&" "===e.key||bB.includes(e.key)&&(f(),e.preventDefault())})})})});RB.displayName=MB;var DB="SelectValue",LB=at.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:o="",...l}=e,c=PB(DB,n),{onValueNodeHasChildrenChange:d}=c,u=void 0!==i,h=Ti(t,c.onValueNodeChange);return tz(()=>{d(u)},[d,u]),r.jsx(To.span,{...l,ref:h,style:{pointerEvents:"none"},children:bF(c.value)?r.jsx(r.Fragment,{children:o}):i})});LB.displayName=DB;var zB=at.forwardRef((e,t)=>{const{__scopeSelect:n,children:a,...s}=e;return r.jsx(To.span,{"aria-hidden":!0,...s,ref:t,children:a||"▼"})});zB.displayName="SelectIcon";var $B=e=>r.jsx(vU,{asChild:!0,...e});$B.displayName="SelectPortal";var UB="SelectContent",BB=at.forwardRef((e,t)=>{const n=PB(UB,e.__scopeSelect),[a,s]=at.useState();if(tz(()=>{s(new DocumentFragment)},[]),!n.open){const t=a;return t?it.createPortal(r.jsx(VB,{scope:e.__scopeSelect,children:r.jsx(NB.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),t):null}return r.jsx(HB,{...e,ref:t})});BB.displayName=UB;var FB=10,[VB,qB]=kB(UB),WB=Ii("SelectContent.RemoveScroll"),HB=at.forwardRef((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:f,hideWhenDetached:g,avoidCollisions:x,...y}=e,v=PB(UB,n),[b,j]=at.useState(null),[w,N]=at.useState(null),_=Ti(t,e=>j(e)),[S,k]=at.useState(null),[O,A]=at.useState(null),C=_B(n),[P,E]=at.useState(!1),T=at.useRef(!1);at.useEffect(()=>{if(b)return TU(b)},[b]),VL();const I=at.useCallback(e=>{const[t,...r]=C().map(e=>e.ref.current),[n]=r.slice(-1),a=document.activeElement;for(const s of e){if(s===a)return;if(null==s||s.scrollIntoView({block:"nearest"}),s===t&&w&&(w.scrollTop=0),s===n&&w&&(w.scrollTop=w.scrollHeight),null==s||s.focus(),document.activeElement!==a)return}},[C,w]),M=at.useCallback(()=>I([S,b]),[I,S,b]);at.useEffect(()=>{P&&M()},[P,M]);const{onOpenChange:R,triggerPointerDownPosRef:D}=v;at.useEffect(()=>{if(b){let e={x:0,y:0};const t=t=>{var r,n;e={x:Math.abs(Math.round(t.pageX)-((null==(r=D.current)?void 0:r.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(n=D.current)?void 0:n.y)??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():b.contains(r.target)||R(!1),document.removeEventListener("pointermove",t),D.current=null};return null!==D.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[b,R,D]),at.useEffect(()=>{const e=()=>R(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[R]);const[L,z]=jF(e=>{const t=C().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=wF(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),$=at.useCallback((e,t,r)=>{const n=!T.current&&!r;(void 0!==v.value&&v.value===t||n)&&(k(e),n&&(T.current=!0))},[v.value]),U=at.useCallback(()=>null==b?void 0:b.focus(),[b]),B=at.useCallback((e,t,r)=>{const n=!T.current&&!r;(void 0!==v.value&&v.value===t||n)&&A(e)},[v.value]),F="popper"===a?KB:GB,V=F===KB?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:f,hideWhenDetached:g,avoidCollisions:x}:{};return r.jsx(VB,{scope:n,content:b,viewport:w,onViewportChange:N,itemRefCallback:$,selectedItem:S,onItemLeave:U,itemTextRefCallback:B,focusSelectedItem:M,selectedItemText:O,position:a,isPositioned:P,searchRef:L,children:r.jsx(vB,{as:WB,allowPinchZoom:!0,children:r.jsx(KL,{asChild:!0,trapped:v.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:OL(s,e=>{var t;null==(t=v.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:r.jsx($L,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:r.jsx(F,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:e=>e.preventDefault(),...y,...V,onPlaced:()=>E(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:OL(y.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||z(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=C().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>I(t)),e.preventDefault()}})})})})})})});HB.displayName="SelectContentImpl";var GB=at.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,i=PB(UB,n),o=qB(UB,n),[l,c]=at.useState(null),[d,u]=at.useState(null),h=Ti(t,e=>u(e)),m=_B(n),p=at.useRef(!1),f=at.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=o,b=at.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&x&&y){const e=i.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),r=i.valueNode.getBoundingClientRect(),n=y.getBoundingClientRect();if("rtl"!==i.dir){const a=n.left-t.left,s=r.left-a,i=e.left-s,o=e.width+i,c=Math.max(o,t.width),d=window.innerWidth-FB,u=kL(s,[FB,Math.max(FB,d-c)]);l.style.minWidth=o+"px",l.style.left=u+"px"}else{const a=t.right-n.right,s=window.innerWidth-r.right-a,i=window.innerWidth-e.right-s,o=e.width+i,c=Math.max(o,t.width),d=window.innerWidth-FB,u=kL(s,[FB,Math.max(FB,d-c)]);l.style.minWidth=o+"px",l.style.right=u+"px"}const s=m(),o=window.innerHeight-2*FB,c=g.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),f=parseInt(u.paddingTop,10),v=parseInt(u.borderBottomWidth,10),b=h+f+c+parseInt(u.paddingBottom,10)+v,j=Math.min(5*x.offsetHeight,b),w=window.getComputedStyle(g),N=parseInt(w.paddingTop,10),_=parseInt(w.paddingBottom,10),S=e.top+e.height/2-FB,k=o-S,O=x.offsetHeight/2,A=h+f+(x.offsetTop+O),C=b-A;if(A<=S){const e=s.length>0&&x===s[s.length-1].ref.current;l.style.bottom="0px";const t=d.clientHeight-g.offsetTop-g.offsetHeight,r=A+Math.max(k,O+(e?_:0)+t+v);l.style.height=r+"px"}else{const e=s.length>0&&x===s[0].ref.current;l.style.top="0px";const t=Math.max(S,h+g.offsetTop+(e?N:0)+O)+C;l.style.height=t+"px",g.scrollTop=A-S+g.offsetTop}l.style.margin=`${FB}px 0`,l.style.minHeight=j+"px",l.style.maxHeight=o+"px",null==a||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,x,y,i.dir,a]);tz(()=>b(),[b]);const[j,w]=at.useState();tz(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const N=at.useCallback(e=>{e&&!0===f.current&&(b(),null==v||v(),f.current=!1)},[b,v]);return r.jsx(XB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:r.jsx(To.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});GB.displayName="SelectItemAlignedPosition";var KB=at.forwardRef((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=FB,...i}=e,o=AB(n);return r.jsx(xU,{...o,...i,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});KB.displayName="SelectPopperPosition";var[XB,YB]=kB(UB,{}),JB="SelectViewport",ZB=at.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:a,...s}=e,i=qB(JB,n),o=YB(JB,n),l=Ti(t,i.onViewportChange),c=at.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(NB.Slot,{scope:n,children:r.jsx(To.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:OL(s.onScroll,e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=o;if((null==n?void 0:n.current)&&r){const e=Math.abs(c.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*FB,a=parseFloat(r.style.minHeight),s=parseFloat(r.style.height),i=Math.max(a,s);if(i<n){const a=i+e,s=Math.min(n,a),o=a-s;r.style.height=s+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});ZB.displayName=JB;var QB="SelectGroup",[eF,tF]=kB(QB);at.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=az();return r.jsx(eF,{scope:n,id:s,children:r.jsx(To.div,{role:"group","aria-labelledby":s,...a,ref:t})})}).displayName=QB;var rF="SelectLabel",nF=at.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=tF(rF,n);return r.jsx(To.div,{id:s.id,...a,ref:t})});nF.displayName=rF;var aF="SelectItem",[sF,iF]=kB(aF),oF=at.forwardRef((e,t)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...o}=e,l=PB(aF,n),c=qB(aF,n),d=l.value===a,[u,h]=at.useState(i??""),[m,p]=at.useState(!1),f=Ti(t,e=>{var t;return null==(t=c.itemRefCallback)?void 0:t.call(c,e,a,s)}),g=az(),x=at.useRef("touch"),y=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(""===a)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(sF,{scope:n,value:a,disabled:s,textId:g,isSelected:d,onItemTextChange:at.useCallback(e=>{h(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:r.jsx(NB.ItemSlot,{scope:n,value:a,disabled:s,textValue:u,children:r.jsx(To.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:f,onFocus:OL(o.onFocus,()=>p(!0)),onBlur:OL(o.onBlur,()=>p(!1)),onClick:OL(o.onClick,()=>{"mouse"!==x.current&&y()}),onPointerUp:OL(o.onPointerUp,()=>{"mouse"===x.current&&y()}),onPointerDown:OL(o.onPointerDown,e=>{x.current=e.pointerType}),onPointerMove:OL(o.onPointerMove,e=>{var t;x.current=e.pointerType,s?null==(t=c.onItemLeave)||t.call(c):"mouse"===x.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:OL(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=c.onItemLeave)||t.call(c))}),onKeyDown:OL(o.onKeyDown,e=>{var t;""!==(null==(t=c.searchRef)?void 0:t.current)&&" "===e.key||(jB.includes(e.key)&&y()," "===e.key&&e.preventDefault())})})})})});oF.displayName=aF;var lF="SelectItemText",cF=at.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,...i}=e,o=PB(lF,n),l=qB(lF,n),c=iF(lF,n),d=TB(lF,n),[u,h]=at.useState(null),m=Ti(t,e=>h(e),c.onItemTextChange,e=>{var t;return null==(t=l.itemTextRefCallback)?void 0:t.call(l,e,c.value,c.disabled)}),p=null==u?void 0:u.textContent,f=at.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=d;return tz(()=>(g(f),()=>x(f)),[g,x,f]),r.jsxs(r.Fragment,{children:[r.jsx(To.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?it.createPortal(i.children,o.valueNode):null]})});cF.displayName=lF;var dF="SelectItemIndicator",uF=at.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return iF(dF,n).isSelected?r.jsx(To.span,{"aria-hidden":!0,...a,ref:t}):null});uF.displayName=dF;var hF="SelectScrollUpButton",mF=at.forwardRef((e,t)=>{const n=qB(hF,e.__scopeSelect),a=YB(hF,e.__scopeSelect),[s,i]=at.useState(!1),o=Ti(t,a.onScrollButtonChange);return tz(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),s?r.jsx(gF,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});mF.displayName=hF;var pF="SelectScrollDownButton",fF=at.forwardRef((e,t)=>{const n=qB(pF,e.__scopeSelect),a=YB(pF,e.__scopeSelect),[s,i]=at.useState(!1),o=Ti(t,a.onScrollButtonChange);return tz(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;i(r)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),s?r.jsx(gF,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});fF.displayName=pF;var gF=at.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,i=qB("SelectScrollButton",n),o=at.useRef(null),l=_B(n),c=at.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return at.useEffect(()=>()=>c(),[c]),tz(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[l]),r.jsx(To.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:OL(s.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(a,50))}),onPointerMove:OL(s.onPointerMove,()=>{var e;null==(e=i.onItemLeave)||e.call(i),null===o.current&&(o.current=window.setInterval(a,50))}),onPointerLeave:OL(s.onPointerLeave,()=>{c()})})}),xF=at.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return r.jsx(To.div,{"aria-hidden":!0,...a,ref:t})});xF.displayName="SelectSeparator";var yF="SelectArrow";at.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=AB(n),i=PB(yF,n),o=qB(yF,n);return i.open&&"popper"===o.position?r.jsx(yU,{...s,...a,ref:t}):null}).displayName=yF;var vF=at.forwardRef(({__scopeSelect:e,value:t,...n},a)=>{const s=at.useRef(null),i=Ti(a,s),o=wU(t);return at.useEffect(()=>{const e=s.current;if(!e)return;const r=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(r,"value").set;if(o!==t&&n){const r=new Event("change",{bubbles:!0});n.call(e,t),e.dispatchEvent(r)}},[o,t]),r.jsx(To.select,{...n,style:{...NU,...n.style},ref:i,defaultValue:t})});function bF(e){return""===e||void 0===e}function jF(e){const t=IL(e),r=at.useRef(""),n=at.useRef(0),a=at.useCallback(e=>{const a=r.current+e;t(a),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(a)},[t]),s=at.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return at.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function wF(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=(i=e,o=Math.max(a,0),i.map((e,t)=>i[(o+t)%i.length]));var i,o;1===n.length&&(s=s.filter(e=>e!==r));const l=s.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==r?l:void 0}vF.displayName="SelectBubbleInput";var NF=RB,_F=zB,SF=$B,kF=BB,OF=ZB,AF=nF,CF=oF,PF=cF,EF=uF,TF=mF,IF=fF,MF=xF;const RF=IB,DF=LB,LF=at.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(NF,{ref:a,className:Ni("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(_F,{asChild:!0,children:r.jsx(U,{className:"h-4 w-4 opacity-50"})})]}));LF.displayName=NF.displayName;const zF=at.forwardRef(({className:e,...t},n)=>r.jsx(TF,{ref:n,className:Ni("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(B,{className:"h-4 w-4"})}));zF.displayName=TF.displayName;const $F=at.forwardRef(({className:e,...t},n)=>r.jsx(IF,{ref:n,className:Ni("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(U,{className:"h-4 w-4"})}));$F.displayName=IF.displayName;const UF=at.forwardRef(({className:e,children:t,position:n="popper",...a},s)=>r.jsx(SF,{children:r.jsxs(kF,{ref:s,className:Ni("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[r.jsx(zF,{}),r.jsx(OF,{className:Ni("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx($F,{})]})}));UF.displayName=kF.displayName;at.forwardRef(({className:e,...t},n)=>r.jsx(AF,{ref:n,className:Ni("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=AF.displayName;const BF=at.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(CF,{ref:a,className:Ni("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(EF,{children:r.jsx(F,{className:"h-4 w-4"})})}),r.jsx(PF,{children:t})]}));BF.displayName=CF.displayName;function FF(){const{globalData:e,syncModule:t}=ko(),{users:a,plans:s}=e,[i,o]=at.useState(""),[c,d]=at.useState({full_name:"",email:"",role:"user",plan_id:""}),[u,h]=at.useState(!1),m=a.filter(e=>e.full_name.toLowerCase().includes(i.toLowerCase())||e.email.toLowerCase().includes(i.toLowerCase()));return r.jsxs("div",{className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center",children:r.jsx(E,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-100",children:"Gerenciamento de Usuários"}),r.jsx("p",{className:"text-gray-400 text-sm lg:text-base",children:"Gerencie usuários, permissões e planos da plataforma"})]})]}),r.jsx("div",{className:"lg:ml-auto",children:r.jsxs(Vi,{onClick:()=>h(!u),className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[r.jsx(V,{className:"w-5 h-5 mr-2"}),u?"Cancelar":"Adicionar Usuário"]})})]}),u&&r.jsxs(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 p-6 rounded-lg space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Adicionar Novo Usuário"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(Hi,{placeholder:"Nome Completo",value:c.full_name,onChange:e=>d({...c,full_name:e.target.value}),className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"}),r.jsx(Hi,{type:"email",placeholder:"Email",value:c.email,onChange:e=>d({...c,email:e.target.value}),className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"}),r.jsxs(RF,{value:c.role,onValueChange:e=>d({...c,role:e}),children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{placeholder:"Cargo"})}),r.jsxs(UF,{className:"bg-gray-700 border-gray-600",children:[r.jsx(BF,{value:"user",children:"Usuário"}),r.jsx(BF,{value:"admin",children:"Admin"})]})]}),r.jsxs(RF,{value:c.plan_id,onValueChange:e=>d({...c,plan_id:e}),children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{placeholder:"Plano"})}),r.jsx(UF,{className:"bg-gray-700 border-gray-600",children:s.map(e=>r.jsx(BF,{value:e.id,children:e.name},e.id))})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(Vi,{onClick:async()=>{if(c.email&&c.full_name&&c.plan_id)try{await uo.create(c),d({full_name:"",email:"",role:"user",plan_id:""}),h(!1),await t("users")}catch(e){alert("Erro ao adicionar usuário.")}else alert("Preencha todos os campos para adicionar um novo usuário.")},className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white",children:"Salvar Usuário"}),r.jsx(Vi,{variant:"outline",onClick:()=>h(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancelar"})]})]}),r.jsx("div",{className:"w-full max-w-md",children:r.jsx(Hi,{placeholder:"Buscar por nome ou email...",value:i,onChange:e=>o(e.target.value),className:"bg-gray-800/50 border-gray-700 text-white placeholder:text-gray-400"})}),r.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-b border-gray-700",children:[r.jsx(_L,{className:"text-gray-300",children:"Usuário"}),r.jsx(_L,{className:"text-gray-300 hidden md:table-cell",children:"Email"}),r.jsx(_L,{className:"text-gray-300",children:"Plano"}),r.jsx(_L,{className:"text-gray-300 hidden lg:table-cell",children:"Cargo"}),r.jsx(_L,{className:"text-gray-300",children:"Ações"})]})}),r.jsx(wL,{children:m.map(e=>{const n=s.find(t=>t.id===e.plan_id);return r.jsxs(NL,{className:"border-b border-gray-700 hover:bg-gray-700/30",children:[r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center",children:r.jsx(l,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:e.full_name}),r.jsx("p",{className:"text-sm text-gray-400 md:hidden",children:e.email})]})]})}),r.jsx(SL,{className:"text-gray-300 hidden md:table-cell",children:e.email}),r.jsx(SL,{children:r.jsx(Wi,{variant:"outline",className:"text-cyan-300 border-cyan-300/50",children:n?n.name:"N/A"})}),r.jsx(SL,{className:"hidden lg:table-cell",children:r.jsxs(Wi,{className:"admin"===e.role?"bg-red-500":"bg-blue-500",children:["admin"===e.role?r.jsx(y,{className:"w-3 h-3 mr-1"}):r.jsx(l,{className:"w-3 h-3 mr-1"}),e.role]})}),r.jsx(SL,{children:r.jsx(Vi,{variant:"ghost",size:"icon",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja deletar este usuário? Esta ação é irreversível."))try{await uo.delete(e),await t("users")}catch(r){alert("Erro ao deletar usuário.")}})(e.id),className:"hover:bg-gray-700",children:r.jsx(q,{className:"w-4 h-4 text-red-500"})})})]},e.id)})})]})})})]})}at.forwardRef(({className:e,...t},n)=>r.jsx(MF,{ref:n,className:Ni("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=MF.displayName;var VF="rovingFocusGroup.onEntryFocus",qF={bubbles:!1,cancelable:!0},WF="RovingFocusGroup",[HF,GF,KF]=PL(WF),[XF,YF]=AL(WF,[KF]),[JF,ZF]=XF(WF),QF=at.forwardRef((e,t)=>r.jsx(HF.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(HF.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(eV,{...e,ref:t})})}));QF.displayName=WF;var eV=at.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=at.useRef(null),p=Ti(t,m),f=TL(i),[g,x]=jU({prop:o,defaultProp:l??null,onChange:c,caller:WF}),[y,v]=at.useState(!1),b=IL(d),j=GF(n),w=at.useRef(!1),[N,_]=at.useState(0);return at.useEffect(()=>{const e=m.current;if(e)return e.addEventListener(VF,b),()=>e.removeEventListener(VF,b)},[b]),r.jsx(JF,{scope:n,orientation:a,dir:f,loop:s,currentTabStopId:g,onItemFocus:at.useCallback(e=>x(e),[x]),onItemShiftTab:at.useCallback(()=>v(!0),[]),onFocusableItemAdd:at.useCallback(()=>_(e=>e+1),[]),onFocusableItemRemove:at.useCallback(()=>_(e=>e-1),[]),children:r.jsx(To.div,{tabIndex:y||0===N?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:OL(e.onMouseDown,()=>{w.current=!0}),onFocus:OL(e.onFocus,e=>{const t=!w.current;if(e.target===e.currentTarget&&t&&!y){const t=new CustomEvent(VF,qF);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=j().filter(e=>e.focusable);aV([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),u)}}w.current=!1}),onBlur:OL(e.onBlur,()=>v(!1))})})}),tV="RovingFocusGroupItem",rV=at.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=az(),d=i||c,u=ZF(tV,n),h=u.currentTabStopId===d,m=GF(n),{onFocusableItemAdd:p,onFocusableItemRemove:f,currentTabStopId:g}=u;return at.useEffect(()=>{if(a)return p(),()=>f()},[a,p,f]),r.jsx(HF.ItemSlot,{scope:n,id:d,focusable:a,active:s,children:r.jsx(To.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:OL(e.onMouseDown,e=>{a?u.onItemFocus(d):e.preventDefault()}),onFocus:OL(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:OL(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:nV[n]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();const s=a.indexOf(e.currentTarget);a=u.loop?(n=s+1,(r=a).map((e,t)=>r[(n+t)%r.length])):a.slice(s+1)}setTimeout(()=>aV(a))}var r,n}),children:"function"==typeof o?o({isCurrentTabStop:h,hasTabStop:null!=g}):o})})});rV.displayName=tV;var nV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aV(e,t=!1){const r=document.activeElement;for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),document.activeElement!==r)return}}var sV=QF,iV=rV;var oV=e=>{const{present:t,children:r}=e,n=function(e){const[t,r]=at.useState(),n=at.useRef(null),a=at.useRef(e),s=at.useRef("none"),i=e?"mounted":"unmounted",[o,l]=function(e,t){return at.useReducer((e,r)=>t[e][r]??e,e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return at.useEffect(()=>{const e=lV(n.current);s.current="mounted"===o?e:"none"},[o]),tz(()=>{const t=n.current,r=a.current;if(r!==e){const n=s.current,i=lV(t);if(e)l("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(r&&n!==i?"ANIMATION_OUT":"UNMOUNT")}a.current=e}},[e,l]),tz(()=>{if(t){let e;const r=t.ownerDocument.defaultView??window,i=s=>{const i=lV(n.current).includes(s.animationName);if(s.target===t&&i&&(l("ANIMATION_END"),!a.current)){const n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=r.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)})}},o=e=>{e.target===t&&(s.current=lV(n.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{r.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:at.useCallback(e=>{n.current=e?getComputedStyle(e):null,r(e)},[])}}(t),a="function"==typeof r?r({present:n.isPresent}):at.Children.only(r),s=Ti(n.ref,function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(a));return"function"==typeof r||n.isPresent?at.cloneElement(a,{ref:s}):null};function lV(e){return(null==e?void 0:e.animationName)||"none"}oV.displayName="Presence";var cV="Tabs",[dV,uV]=AL(cV,[YF]),hV=YF(),[mV,pV]=dV(cV),fV=at.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=TL(l),[h,m]=jU({prop:a,onChange:s,defaultProp:i??"",caller:cV});return r.jsx(mV,{scope:n,baseId:az(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:r.jsx(To.div,{dir:u,"data-orientation":o,...d,ref:t})})});fV.displayName=cV;var gV="TabsList",xV=at.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,i=pV(gV,n),o=hV(n);return r.jsx(sV,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:r.jsx(To.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});xV.displayName=gV;var yV="TabsTrigger",vV=at.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=e,o=pV(yV,n),l=hV(n),c=wV(o.baseId,a),d=NV(o.baseId,a),u=a===o.value;return r.jsx(iV,{asChild:!0,...l,focusable:!s,active:u,children:r.jsx(To.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:OL(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(a)}),onKeyDown:OL(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(a)}),onFocus:OL(e.onFocus,()=>{const e="manual"!==o.activationMode;u||s||!e||o.onValueChange(a)})})})});vV.displayName=yV;var bV="TabsContent",jV=at.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i,...o}=e,l=pV(bV,n),c=wV(l.baseId,a),d=NV(l.baseId,a),u=a===l.value,h=at.useRef(u);return at.useEffect(()=>{const e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),r.jsx(oV,{present:s||u,children:({present:n})=>r.jsx(To.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!n,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:n&&i})})});function wV(e,t){return`${e}-trigger-${t}`}function NV(e,t){return`${e}-content-${t}`}jV.displayName=bV;var _V=xV,SV=vV,kV=jV;const OV=fV,AV=at.forwardRef(({className:e,...t},n)=>r.jsx(_V,{ref:n,className:Ni("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));AV.displayName=_V.displayName;const CV=at.forwardRef(({className:e,...t},n)=>r.jsx(SV,{ref:n,className:Ni("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));CV.displayName=SV.displayName;const PV=at.forwardRef(({className:e,...t},n)=>r.jsx(kV,{ref:n,className:Ni("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));PV.displayName=kV.displayName;var EV="Switch",[TV,IV]=AL(EV),[MV,RV]=TV(EV),DV=at.forwardRef((e,t)=>{const{__scopeSwitch:n,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=at.useState(null),f=Ti(t,e=>p(e)),g=at.useRef(!1),x=!m||(u||!!m.closest("form")),[y,v]=jU({prop:s,defaultProp:i??!1,onChange:d,caller:EV});return r.jsxs(MV,{scope:n,checked:y,disabled:l,children:[r.jsx(To.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":UV(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:f,onClick:OL(e.onClick,e=>{v(e=>!e),x&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),x&&r.jsx($V,{control:m,bubbles:!g.current,name:a,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});DV.displayName=EV;var LV="SwitchThumb",zV=at.forwardRef((e,t)=>{const{__scopeSwitch:n,...a}=e,s=RV(LV,n);return r.jsx(To.span,{"data-state":UV(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});zV.displayName=LV;var $V=at.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:a=!0,...s},i)=>{const o=at.useRef(null),l=Ti(o,i),c=wU(n),d=Y$(t);return at.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(c!==n&&r){const t=new Event("click",{bubbles:a});r.call(e,n),e.dispatchEvent(t)}},[c,n,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function UV(e){return e?"checked":"unchecked"}$V.displayName="SwitchBubbleInput";var BV=DV,FV=zV;const VV=at.forwardRef(({className:e,...t},n)=>r.jsx(BV,{className:Ni("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(FV,{className:Ni("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));VV.displayName=BV.displayName;const qV={system:{icon:H,title:"Sistema",description:"Configurações gerais do sistema",configs:[{key:"app_name",label:"Nome da Aplicação",type:"string",default:"AutVision"},{key:"app_url",label:"URL da Aplicação",type:"string",default:"https://autvision.com"},{key:"maintenance_mode",label:"Modo Manutenção",type:"boolean",default:"false"},{key:"max_users",label:"Máximo de Usuários",type:"number",default:"10000"},{key:"session_timeout",label:"Timeout de Sessão (min)",type:"number",default:"60"},{key:"file_upload_max_size",label:"Tamanho Máximo Upload (MB)",type:"number",default:"50"}]},email:{icon:j,title:"Email",description:"Configurações de envio de email",configs:[{key:"smtp_host",label:"Servidor SMTP",type:"string",default:"smtp.gmail.com"},{key:"smtp_port",label:"Porta SMTP",type:"number",default:"587"},{key:"smtp_username",label:"Usuário SMTP",type:"string",default:""},{key:"smtp_password",label:"Senha SMTP",type:"password",default:"",sensitive:!0},{key:"smtp_encryption",label:"Criptografia",type:"select",options:["none","tls","ssl"],default:"tls"},{key:"from_email",label:"Email Remetente",type:"string",default:"noreply@autvision.com"},{key:"from_name",label:"Nome Remetente",type:"string",default:"AutVision"}]},security:{icon:y,title:"Segurança",description:"Configurações de segurança e autenticação",configs:[{key:"password_min_length",label:"Tamanho Mínimo Senha",type:"number",default:"8"},{key:"password_require_special",label:"Requer Caracteres Especiais",type:"boolean",default:"true"},{key:"two_factor_enabled",label:"2FA Habilitado",type:"boolean",default:"false"},{key:"max_login_attempts",label:"Máx. Tentativas Login",type:"number",default:"5"},{key:"lockout_duration",label:"Duração Bloqueio (min)",type:"number",default:"15"},{key:"api_rate_limit",label:"Limite Rate API (req/min)",type:"number",default:"1000"}]},api:{icon:x,title:"API",description:"Configurações de API e integrações",configs:[{key:"n8n_base_url",label:"URL Base N8N",type:"string",default:"http://localhost:5678"},{key:"n8n_api_key",label:"Chave API N8N",type:"password",default:"",sensitive:!0},{key:"openai_api_key",label:"Chave API OpenAI",type:"password",default:"",sensitive:!0},{key:"google_api_key",label:"Chave API Google",type:"password",default:"",sensitive:!0},{key:"webhook_timeout",label:"Timeout Webhook (seg)",type:"number",default:"30"},{key:"api_version",label:"Versão da API",type:"string",default:"v1"}]},backup:{icon:W,title:"Backup",description:"Configurações de backup e recuperação",configs:[{key:"backup_enabled",label:"Backup Automático",type:"boolean",default:"true"},{key:"backup_frequency",label:"Frequência",type:"select",options:["daily","weekly","monthly"],default:"daily"},{key:"backup_retention_days",label:"Retenção (dias)",type:"number",default:"30"},{key:"s3_bucket",label:"Bucket S3",type:"string",default:""},{key:"s3_access_key",label:"Access Key S3",type:"password",default:"",sensitive:!0},{key:"s3_secret_key",label:"Secret Key S3",type:"password",default:"",sensitive:!0}]},logs:{icon:b,title:"Logs",description:"Configurações de logging e monitoramento",configs:[{key:"log_level",label:"Nível de Log",type:"select",options:["debug","info","warning","error"],default:"info"},{key:"log_retention_days",label:"Retenção Logs (dias)",type:"number",default:"90"},{key:"enable_error_tracking",label:"Rastreamento de Erros",type:"boolean",default:"true"},{key:"enable_performance_monitoring",label:"Monitor Performance",type:"boolean",default:"true"},{key:"sentry_dsn",label:"Sentry DSN",type:"password",default:"",sensitive:!0}]}};function WV(){const{refreshAll:e}=ko(),[t,a]=at.useState({}),[i,o]=at.useState(!1),[l,c]=at.useState(!0),[d,u]=at.useState("system");at.useEffect(()=>{h()},[]);const h=async()=>{c(!0);try{const e=await lo.list(),t={};e.forEach(e=>{t[e.category]||(t[e.category]={}),t[e.category][e.key]=e.value}),a(t)}catch(e){alert("Erro ao carregar configurações")}c(!1)},m=(e,t,r)=>{a(n=>({...n,[e]:{...n[e],[t]:r}}))},p=(e,n)=>{var a,s;const i=(null==(a=t[e])?void 0:a[n.key])||n.default||"";switch(n.type){case"boolean":return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(VV,{checked:"true"===i,onCheckedChange:t=>m(e,n.key,t.toString())}),r.jsx(Do,{className:"text-gray-300",children:n.label})]});case"select":return r.jsxs("div",{className:"space-y-2",children:[r.jsx(Do,{className:"text-gray-300",children:n.label}),r.jsxs(RF,{value:i,onValueChange:t=>m(e,n.key,t),children:[r.jsx(LF,{className:"bg-gray-800 border-gray-600",children:r.jsx(DF,{})}),r.jsx(UF,{className:"bg-gray-800 text-white",children:null==(s=n.options)?void 0:s.map(e=>r.jsx(BF,{value:e,className:"capitalize",children:e},e))})]})]});case"password":return r.jsxs("div",{className:"space-y-2",children:[r.jsx(Do,{className:"text-gray-300",children:n.label}),r.jsx(Hi,{type:"password",value:i,onChange:t=>m(e,n.key,t.target.value),className:"bg-gray-800 border-gray-600",placeholder:n.sensitive?"••••••••••••":""})]});default:return r.jsxs("div",{className:"space-y-2",children:[r.jsx(Do,{className:"text-gray-300",children:n.label}),r.jsx(Hi,{type:"number"===n.type?"number":"text",value:i,onChange:t=>m(e,n.key,t.target.value),className:"bg-gray-800 border-gray-600",placeholder:n.default})]})}};return l?r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(f,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando configurações..."})]})})}):r.jsxs("div",{className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl flex items-center justify-center",children:r.jsx(s,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Configurações do Sistema"}),r.jsx("p",{className:"text-gray-400",children:"Gerencie todas as configurações da plataforma"})]})]}),r.jsxs(OV,{value:d,onValueChange:u,className:"space-y-6",children:[r.jsx(AV,{className:"bg-gray-800/50 border border-gray-700 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:Object.entries(qV).map(([e,t])=>{const n=t.icon;return r.jsxs(CV,{value:e,className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white flex items-center gap-2",children:[r.jsx(n,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:t.title})]},e)})}),Object.entries(qV).map(([n,a])=>r.jsx(PV,{value:n,children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(a.icon,{className:"w-6 h-6 text-blue-400"}),r.jsxs("div",{children:[r.jsx(ki,{className:"text-white",children:a.title}),r.jsx(Oi,{className:"text-gray-400",children:a.description})]})]})}),r.jsxs(Ai,{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.configs.map(e=>r.jsx("div",{children:p(n,e)},e.key))}),r.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-700",children:r.jsx(Vi,{onClick:()=>(async r=>{var n;o(!0);try{const a=qV[r].configs,s=[];for(const e of a){const a=(null==(n=t[r])?void 0:n[e.key])||e.default;s.push({category:r,key:e.key,value:a.toString(),data_type:e.type,description:e.label,is_sensitive:e.sensitive||!1})}const i=await lo.filter({category:r}),o=i.map(e=>e.key);for(const e of s)if(o.includes(e.key)){const t=i.find(t=>t.key===e.key);await lo.update(t.id,e)}else await lo.create(e);alert(`Configurações de ${qV[r].title} salvas com sucesso!`),await e()}catch(a){alert("Erro ao salvar configurações")}o(!1)})(n),disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:i?r.jsxs(r.Fragment,{children:[r.jsx(f,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(G,{className:"mr-2 h-4 w-4"}),"Salvar ",a.title]})})})]})]})},n))]})]})}const HV={totalRevenue:125430.5,monthlyGrowth:12.5,activeSubscriptions:1248,averageTicket:89.75};function GV(){return r.jsx("div",{className:"admin-full-width w-full max-w-none",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Receita Total"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",HV.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),r.jsxs("p",{className:"text-xs text-green-400 mt-1",children:["+",HV.monthlyGrowth,"% este mês"]})]}),r.jsx($,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Crescimento Mensal"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["+",HV.monthlyGrowth,"%"]}),r.jsx("p",{className:"text-xs text-blue-400 mt-1",children:"vs mês anterior"})]}),r.jsx(T,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Assinaturas Ativas"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:HV.activeSubscriptions}),r.jsx("p",{className:"text-xs text-purple-400 mt-1",children:"clientes recorrentes"})]}),r.jsx(E,{className:"w-8 h-8 text-purple-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Ticket Médio"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",HV.averageTicket.toFixed(2)]}),r.jsx("p",{className:"text-xs text-cyan-400 mt-1",children:"por transação"})]}),r.jsx(K,{className:"w-8 h-8 text-cyan-400"})]})})})]})})}const KV=[{id:"txn_1",user_email:"user1@example.com",type:"subscription",amount:99.9,status:"completed",gateway:"Stripe",date:"2023-10-28T10:00:00Z"},{id:"txn_2",user_email:"user2@example.com",type:"token_purchase",amount:50,status:"completed",gateway:"Mercado Pago",date:"2023-10-28T11:30:00Z"},{id:"txn_3",user_email:"user3@example.com",type:"payment",amount:25.5,status:"pending",gateway:"Pix",date:"2023-10-28T12:00:00Z"},{id:"txn_4",user_email:"user1@example.com",type:"refund",amount:-99.9,status:"refunded",gateway:"Stripe",date:"2023-10-27T15:00:00Z"},{id:"txn_5",user_email:"user4@example.com",type:"subscription",amount:199.9,status:"failed",gateway:"Stripe",date:"2023-10-27T14:00:00Z"}];function XV(){const[e]=at.useState(KV),[t,n]=at.useState(""),a=e.filter(e=>e.user_email.toLowerCase().includes(t.toLowerCase())||e.id.toLowerCase().includes(t.toLowerCase()));return r.jsx("div",{className:"admin-full-width w-full max-w-none",children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700 w-full",children:[r.jsx(Si,{children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx(ki,{className:"text-white",children:"Histórico de Transações"}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Visualize todos os movimentos financeiros da plataforma."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(X,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx(Hi,{placeholder:"Buscar por usuário ou ID...",value:t,onChange:e=>n(e.target.value),className:"pl-10 bg-gray-700 border-gray-600 w-full md:w-64"})]}),r.jsxs(Vi,{variant:"outline",className:"border-gray-600 text-white hover:bg-gray-700",children:[r.jsx(Y,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]})}),r.jsx(Ai,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(_L,{className:"text-white",children:"Usuário"}),r.jsx(_L,{className:"text-white",children:"Tipo"}),r.jsx(_L,{className:"text-white",children:"Status"}),r.jsx(_L,{className:"text-white",children:"Valor"}),r.jsx(_L,{className:"text-white",children:"Gateway"}),r.jsx(_L,{className:"text-white",children:"Data"})]})}),r.jsx(wL,{children:a.map(e=>{return r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(SL,{className:"font-medium text-gray-300",children:e.user_email}),r.jsx(SL,{className:"capitalize text-gray-300",children:e.type.replace("_"," ")}),r.jsx(SL,{children:(t=e.status,r.jsx(Wi,{className:`${{completed:"bg-green-500",pending:"bg-yellow-500",failed:"bg-red-500",refunded:"bg-gray-500",cancelled:"bg-orange-500"}[t]} text-white capitalize`,children:t}))}),r.jsxs(SL,{className:"font-bold "+(e.amount>0?"text-green-400":"text-red-400"),children:["R$ ",e.amount.toFixed(2)]}),r.jsx(SL,{className:"text-gray-300",children:e.gateway}),r.jsx(SL,{className:"text-gray-400 text-sm",children:new Date(e.date).toLocaleString("pt-BR")})]},e.id);var t})})]})})})]})})}const YV=[{id:1,name:"Stripe",type:"stripe",is_active:!0,is_sandbox:!1,fees:{percentage:2.9,fixed:.3},supported_methods:["credit_card","debit_card"],last_sync:"2023-10-28T10:00:00Z"},{id:2,name:"Mercado Pago",type:"mercado_pago",is_active:!0,is_sandbox:!0,fees:{percentage:3.99,fixed:0},supported_methods:["credit_card","debit_card","pix"],last_sync:"2023-10-28T09:30:00Z"},{id:3,name:"PIX Brasileiro",type:"pix",is_active:!1,is_sandbox:!1,fees:{percentage:0,fixed:0},supported_methods:["pix"],last_sync:null}];function JV(){const[e]=at.useState(YV),[t,n]=at.useState(!1),a=e=>e.is_active?e.is_sandbox?r.jsx(Wi,{className:"bg-yellow-500 text-white",children:"Teste"}):r.jsx(Wi,{className:"bg-green-500 text-white",children:"Produção"}):r.jsx(Wi,{variant:"secondary",className:"bg-gray-500 text-white",children:"Inativo"});return r.jsx("div",{className:"admin-full-width w-full max-w-none",children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700 w-full",children:[r.jsxs(Si,{className:"flex flex-row items-center justify-between",children:[r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(K,{className:"w-5 h-5"}),"Gateways de Pagamento"]}),r.jsxs(Vi,{onClick:()=>n(!0),className:"bg-green-600 hover:bg-green-700",children:[r.jsx(J,{className:"w-4 h-4 mr-2"}),"Novo Gateway"]})]}),r.jsxs(Ai,{children:[t&&r.jsxs("div",{className:"p-6 mb-6 bg-gray-700/50 rounded-lg space-y-4 border border-gray-600",children:[r.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[r.jsx(s,{className:"w-5 h-5"}),"Configurar Gateway"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Hi,{placeholder:"Nome do Gateway",className:"bg-gray-800 border-gray-600 text-white"}),r.jsxs("select",{className:"bg-gray-800 border border-gray-600 rounded-md px-3 py-2 text-white",children:[r.jsx("option",{value:"",children:"Selecione o tipo"}),r.jsx("option",{value:"stripe",children:"Stripe"}),r.jsx("option",{value:"mercado_pago",children:"Mercado Pago"}),r.jsx("option",{value:"pix",children:"PIX"}),r.jsx("option",{value:"asaas",children:"Asaas"}),r.jsx("option",{value:"pagarme",children:"PagarMe"})]}),r.jsx(Hi,{placeholder:"API Key",type:"password",className:"bg-gray-800 border-gray-600 text-white"}),r.jsx(Hi,{placeholder:"Secret Key",type:"password",className:"bg-gray-800 border-gray-600 text-white"}),r.jsx(Hi,{placeholder:"Webhook URL",className:"bg-gray-800 border-gray-600 text-white"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center space-x-2 text-white",children:[r.jsx(VV,{}),r.jsx("span",{children:"Modo Sandbox"})]}),r.jsxs("label",{className:"flex items-center space-x-2 text-white",children:[r.jsx(VV,{}),r.jsx("span",{children:"Ativo"})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Vi,{className:"bg-blue-600 hover:bg-blue-700",children:"Salvar Gateway"}),r.jsx(Vi,{variant:"outline",onClick:()=>n(!1),className:"border-gray-600 text-white hover:bg-gray-600",children:"Cancelar"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(_L,{className:"text-white",children:"Gateway"}),r.jsx(_L,{className:"text-white",children:"Status"}),r.jsx(_L,{className:"text-white",children:"Taxas"}),r.jsx(_L,{className:"text-white",children:"Métodos"}),r.jsx(_L,{className:"text-white",children:"Última Sinc."}),r.jsx(_L,{className:"text-white",children:"Ações"})]})}),r.jsx(wL,{children:e.map(e=>{return r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:(t=e.type,{stripe:"💳",mercado_pago:"💰",pix:"🏦",asaas:"💼",pagarme:"🔷"}[t]||"💳")}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-100",children:e.name}),r.jsx("p",{className:"text-sm text-gray-400 capitalize",children:e.type.replace("_"," ")})]})]})}),r.jsx(SL,{children:a(e)}),r.jsxs(SL,{className:"text-gray-300",children:[e.fees.percentage,"% + R$ ",e.fees.fixed.toFixed(2)]}),r.jsx(SL,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.supported_methods.slice(0,2).map(e=>r.jsx(Wi,{variant:"outline",className:"text-xs border-gray-500 text-gray-300",children:e.replace("_"," ")},e)),e.supported_methods.length>2&&r.jsxs(Wi,{variant:"outline",className:"text-xs border-gray-500 text-gray-400",children:["+",e.supported_methods.length-2]})]})}),r.jsx(SL,{className:"text-gray-400 text-sm",children:e.last_sync?new Date(e.last_sync).toLocaleString("pt-BR"):"Nunca"}),r.jsxs(SL,{className:"space-x-2",children:[r.jsx(Vi,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r.jsx(Z,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r.jsx(Q,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"destructive",size:"sm",children:r.jsx(q,{className:"w-4 h-4"})})]})]},e.id);var t})})]})})]})]})})}const ZV=at.createContext(),QV=()=>{try{return(()=>{const e=at.useContext(ZV);if(!e)throw new Error("useAdminData deve ser usado dentro de AdminDataProvider");return e})()}catch(e){return{data:{agents:[],visions:[],users:[],systemStats:{uptime:"0h 0m",totalRequests:0,successRate:0,averageResponseTime:0,activeConnections:0,memoryUsage:0,cpuUsage:0}},isLoading:!1,error:"Contexto não disponível",refreshAll:()=>{}}}},eq=({children:e})=>{const[t,n]=at.useState(null),[a,s]=at.useState(!0),[i,o]=at.useState(null),l=at.useRef(!1),c=at.useCallback(async(e=0)=>{var t,r,a;if(!l.current||0!==e){l.current=!0,s(!0),o(null);try{const[e,r,a]=await Promise.allSettled([Promise.race([uo.list(),new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout")),5e3))]).catch(e=>[]),Promise.race([ho.getAll(),new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout")),5e3))]).catch(e=>[]),Promise.race([ao.getVisionConfigsSimple().catch(e=>ao.getAllVisionConfigsWithUserProfile()).catch(e=>ao.getAllVisionConfigs()).catch(e=>ao.getVisionConfigsEmergency()),new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout")),8e3))]).catch(e=>ao.getVisionConfigsEmergency())]),s=(e,t,r)=>{var n,a,s,i,o,l,c;if("fulfilled"===e.status&&e.value&&Array.isArray(e.value)&&e.value.length>0)return e.value;if("fulfilled"===e.status&&Array.isArray(e.value)&&0===e.value.length)return t;if("rejected"===e.status){let r="Erro desconhecido";return 500===(null==(a=null==(n=e.reason)?void 0:n.response)?void 0:a.status)?r="Erro interno do servidor (500)":400===(null==(i=null==(s=e.reason)?void 0:s.response)?void 0:i.status)?r="Requisição malformada (400)":404===(null==(l=null==(o=e.reason)?void 0:o.response)?void 0:l.status)?r="Endpoint não encontrado (404)":(null==(c=e.reason)?void 0:c.message)&&(r=e.reason.message),t}return t},i={agents:[{id:1,name:"Vision Alpha",status:"active",type:"assistant",interactions:1250},{id:2,name:"Vision Beta",status:"active",type:"automation",interactions:890},{id:3,name:"Vision Gamma",status:"inactive",type:"analysis",interactions:456},{id:4,name:"Vision Delta",status:"active",type:"support",interactions:2100},{id:5,name:"Vision Echo",status:"active",type:"monitoring",interactions:678}],visions:[{id:1,name:"Questão",status:"active",total_interactions:530,personality:"analytical",description:"Vision especializado em análise e resolução de problemas",users_count:45,interactions_today:127,capabilities:["chat","analise","suporte"],created_at:"2024-01-15T10:00:00Z"},{id:2,name:"Echo",status:"active",total_interactions:230,personality:"friendly",description:"Vision assistente com personalidade amigável e acolhedora",users_count:32,interactions_today:89,capabilities:["chat","suporte","social"],created_at:"2024-01-20T14:30:00Z"},{id:3,name:"Social",status:"active",total_interactions:220,personality:"social",description:"Vision otimizado para interações sociais e networking",users_count:28,interactions_today:64,capabilities:["chat","social","networking"],created_at:"2024-02-01T09:15:00Z"},{id:4,name:"Nova",status:"active",total_interactions:180,personality:"creative",description:"Vision criativo para geração de conteúdo e ideias inovadoras",users_count:19,interactions_today:43,capabilities:["chat","criativo","content"],created_at:"2024-02-05T16:45:00Z"},{id:5,name:"Auto",status:"inactive",total_interactions:100,personality:"efficient",description:"Vision automatizado para tarefas repetitivas e eficiência",users_count:12,interactions_today:0,capabilities:["automacao","eficiencia","tasks"],created_at:"2024-01-25T11:20:00Z"}],users:[{id:1,name:"Admin",role:"administrator",last_active:"2024-01-15T10:30:00Z"},{id:2,name:"User1",role:"user",last_active:"2024-01-15T09:15:00Z"},{id:3,name:"User2",role:"user",last_active:"2024-01-14T16:45:00Z"}],systemStats:{uptime:"24h 15m",totalRequests:15420,successRate:98.5,averageResponseTime:245,activeConnections:42,memoryUsage:68,cpuUsage:45},recentActivity:[{id:1,type:"interaction",agent:"Vision Alpha",timestamp:"2024-01-15T10:25:00Z",status:"success"},{id:2,type:"automation",agent:"Vision Beta",timestamp:"2024-01-15T10:20:00Z",status:"success"},{id:3,type:"analysis",agent:"Vision Gamma",timestamp:"2024-01-15T10:15:00Z",status:"warning"},{id:4,type:"support",agent:"Vision Delta",timestamp:"2024-01-15T10:10:00Z",status:"success"}]},o=s(e,[{id:1,name:"Admin",email:"digitalinfluenceradm@gmail.com",role:"administrator",last_active:(new Date).toISOString(),plan_id:1},{id:2,name:"User Demo",email:"user@demo.com",role:"user",last_active:(new Date).toISOString(),plan_id:2}],"Usuários"),l=s(r,i.agents,"Agentes");let c;if("fulfilled"===a.status&&a.value&&Array.isArray(a.value)&&a.value.length>0){a.value.forEach((e,t)=>{}),c=a.value.map((e,t)=>{var r,n,a,s,i,o;const l=!e.userprofile;let c="Usuário Anônimo",d=`user-${e.user_id}@sistema.com`;if(null==(r=e.userprofile)?void 0:r.full_name)c=e.userprofile.full_name,d=e.userprofile.email||d;else if(null==(n=e.profiles)?void 0:n.full_name)c=e.profiles.full_name,d=e.profiles.email||d;else if(null==(a=e.userprofile)?void 0:a.email){const t=e.userprofile.email.split("@")[0];c=t.charAt(0).toUpperCase()+t.slice(1),d=e.userprofile.email}else if(null==(s=e.profiles)?void 0:s.email){const t=e.profiles.email.split("@")[0];c=t.charAt(0).toUpperCase()+t.slice(1),d=e.profiles.email}else if(e.user_email){const t=e.user_email.split("@")[0];c=t.charAt(0).toUpperCase()+t.slice(1),d=e.user_email}else if(e.email){const t=e.email.split("@")[0];c=t.charAt(0).toUpperCase()+t.slice(1),d=e.email}else c=`Usuário ${(null==(i=e.user_id)?void 0:i.substring(0,8))||t+1}`,d=`user-${(null==(o=e.user_id)?void 0:o.substring(0,8))||t+1}@sistema.com`;const u=e.created_at||e.customization_date,h=u?Math.max(1,Math.ceil((Date.now()-Date.parse(u))/864e5)):1,m=Math.floor(8*Math.random())+2,p=Math.min(Math.floor(h*m*(.7+.6*Math.random())),1e3),f=Math.max(.3,1-h/30),g=Math.random()*f;let x;x=g<.2?0:g<.35?1:g<.5?Math.floor(3*Math.random())+2:g<.7?Math.floor(4*Math.random())+4:Math.floor(Math.random()*Math.min(h,30))+8;const y=new Date;y.setDate(y.getDate()-x);const v=0===x?Math.floor(Math.random()*m)+1:0;return{id:e.id||`vision-${t+1}`,name:e.vision_name||`Vision ${t+1}`,description:l?`Vision personalizado (ID: ${e.user_id})`:`Vision personalizado de ${c}`,personality:e.vision_personality||"friendly",status:!1!==e.is_active?"active":"inactive",users_count:1,interactions_today:v,total_interactions:p,last_interaction:y.toISOString(),created_at:e.created_at||e.customization_date,capabilities:["chat","personalizado"],user_email:d,user_name:c,user_id:e.user_id,theme_color:e.theme_color||"#3B82F6",voice_enabled:e.voice_enabled||!1,auto_speak:e.auto_speak||!1,has_customized_name:e.has_customized_name||!1,customization_date:e.customization_date,config_age_days:h,last_used:0===x?"hoje":1===x?"ontem":x<=7?`${x} dias atrás`:x<=30?`${Math.ceil(x/7)} semanas atrás`:"há muito tempo",is_recent:x<=2,data_source:l?"simple":"userprofile"}});c.filter(e=>e.interactions_today>0),c.reduce((e,t)=>e+t.interactions_today,0);c=await(async e=>{const t=(await Promise.allSettled(e.map(async e=>{var t,r,n,a,s,i,o,l;try{const d=e.user_name&&("Usuário Anônimo"===e.user_name||"Usuário Desconhecido"===e.user_name||e.user_name.startsWith("Usuário ")||["Ana Silva","João Santos","Maria Oliveira","Carlos Souza","Fernanda Costa","Pedro Lima","Juliana Alves","Ricardo Ferreira","Camila Rodrigues","Bruno Martins","Larissa Pereira","Rafael Barbosa","Mariana Gomes","Diego Carvalho","Aline Ribeiro","Lucas Araújo","Priscila Dias","Thiago Moreira","Vanessa Cardoso","Felipe Castro","Gabriela Nunes","André Ramos","Tatiana Correia","Marcelo Teixeira","Renata Vieira","Oseias Gomes","Mariza Milene","Roberto Machado","Claudia Monteiro","Daniel Pinto"].includes(e.user_name));if(e.user_name&&!d&&"api"===e.user_source)return e;try{const n=await fetch(`https://autvisionai-backend.vercel.app/users/${e.user_id}`);if(n.ok){const a=await n.json();if(a.success&&a.data)return{...e,user_name:a.data.full_name||(null==(t=a.data.email)?void 0:t.split("@")[0])||e.user_name,user_email:a.data.email||e.user_email,user_source:"backend",description:`Vision personalizado de ${a.data.full_name||(null==(r=a.data.email)?void 0:r.split("@")[0])||e.user_name}`}}}catch(c){}const{data:u,error:h}=await is.from("auth.users").select("email, raw_user_meta_data").eq("id",e.user_id).maybeSingle();if(!h&&u)return{...e,user_name:(null==(n=u.raw_user_meta_data)?void 0:n.full_name)||(null==(a=u.email)?void 0:a.split("@")[0])||e.user_name,user_email:u.email||e.user_email,user_source:"supabase_auth",description:`Vision personalizado de ${(null==(s=u.raw_user_meta_data)?void 0:s.full_name)||(null==(i=u.email)?void 0:i.split("@")[0])||e.user_name}`};const{data:m,error:p}=await is.from("userprofile").select("full_name, email").eq("id",e.user_id).maybeSingle();return m&&!p?{...e,user_name:m.full_name||(null==(o=m.email)?void 0:o.split("@")[0])||e.user_name,user_email:m.email||e.user_email,user_source:"supabase",description:`Vision personalizado de ${m.full_name||(null==(l=m.email)?void 0:l.split("@")[0])||e.user_name}`}:e}catch(d){return e}}))).map((t,r)=>"fulfilled"===t.status?t.value:e[r]);return t.filter(e=>"supabase"===e.user_source||"api"===e.user_source).length,t.forEach((e,t)=>{}),t})(c)}else a.status,a.value,Array.isArray(a.value),null==(t=a.value)||t.length,c=i.visions;const d={users:o,agents:l,visions:c,analytics:[],affiliates:[],transactions:[],systemStats:{uptime:"24h 15m",totalRequests:Math.floor(5e4*Math.random())+1e4,successRate:98.5+1.5*Math.random(),averageResponseTime:Math.floor(100*Math.random())+200,activeConnections:Math.floor(20*Math.random())+30,memoryUsage:Math.floor(30*Math.random())+50,cpuUsage:Math.floor(40*Math.random())+20,dataSource:{users:o.length>2?"real":"mock",agents:l.length>5?"real":"mock",visions:"fulfilled"===a.status&&a.value&&a.value.length>0?"real":"mock"}},plans:[{id:1,name:"Admin",price:0,features:["admin_access","unlimited"]},{id:2,name:"Premium",price:29.9,features:["advanced_ai","priority_support"]},{id:3,name:"Enterprise",price:99.9,features:["custom_integrations","dedicated_support"]}],recentActivity:i.recentActivity};o.length,l.length,"fulfilled"===a.status&&a.value&&a.value.length;n(d)}catch(i){if(500===(null==(r=null==i?void 0:i.response)?void 0:r.status)&&e<2)return void setTimeout(()=>{c(e+1)},3e3);o(`Erro ${(null==(a=null==i?void 0:i.response)?void 0:a.status)||"desconhecido"}: ${i.message}`),n({agents:[{id:1,name:"Vision Alpha",status:"active",type:"assistant",interactions:1250},{id:2,name:"Vision Beta",status:"active",type:"automation",interactions:890},{id:3,name:"Vision Gamma",status:"inactive",type:"analysis",interactions:456},{id:4,name:"Vision Delta",status:"active",type:"support",interactions:2100},{id:5,name:"Vision Echo",status:"active",type:"monitoring",interactions:678}],visions:[{id:1,name:"Questão",status:"active",total_interactions:530,personality:"analytical",description:"Vision especializado em análise e resolução de problemas",users_count:45,interactions_today:127,capabilities:["chat","analise","suporte"],created_at:"2024-01-15T10:00:00Z"},{id:2,name:"Echo",status:"active",total_interactions:230,personality:"friendly",description:"Vision assistente com personalidade amigável e acolhedora",users_count:32,interactions_today:89,capabilities:["chat","suporte","social"],created_at:"2024-01-20T14:30:00Z"},{id:3,name:"Social",status:"active",total_interactions:220,personality:"social",description:"Vision otimizado para interações sociais e networking",users_count:28,interactions_today:64,capabilities:["chat","social","networking"],created_at:"2024-02-01T09:15:00Z"},{id:4,name:"Nova",status:"active",total_interactions:180,personality:"creative",description:"Vision criativo para geração de conteúdo e ideias inovadoras",users_count:19,interactions_today:43,capabilities:["chat","criativo","content"],created_at:"2024-02-05T16:45:00Z"},{id:5,name:"Auto",status:"inactive",total_interactions:100,personality:"efficient",description:"Vision automatizado para tarefas repetitivas e eficiência",users_count:12,interactions_today:0,capabilities:["automacao","eficiencia","tasks"],created_at:"2024-01-25T11:20:00Z"}],users:[{id:1,name:"Admin",role:"administrator",last_active:"2024-01-15T10:30:00Z"},{id:2,name:"User1",role:"user",last_active:"2024-01-15T09:15:00Z"},{id:3,name:"User2",role:"user",last_active:"2024-01-14T16:45:00Z"}],systemStats:{uptime:"24h 15m",totalRequests:15420,successRate:98.5,averageResponseTime:245,activeConnections:42,memoryUsage:68,cpuUsage:45},recentActivity:[{id:1,type:"interaction",agent:"Vision Alpha",timestamp:"2024-01-15T10:25:00Z",status:"success"},{id:2,type:"automation",agent:"Vision Beta",timestamp:"2024-01-15T10:20:00Z",status:"success"},{id:3,type:"analysis",agent:"Vision Gamma",timestamp:"2024-01-15T10:15:00Z",status:"warning"},{id:4,type:"support",agent:"Vision Delta",timestamp:"2024-01-15T10:10:00Z",status:"success"}]})}finally{l.current=!1,s(!1)}}},[]),d=at.useCallback(()=>{c(0)},[c]);at.useEffect(()=>{(async()=>{await c(0)})();const e=setInterval(()=>{t&&l.current||c(0)},12e4);return()=>clearInterval(e)},[]);const u={data:t,isLoading:a,error:i,refreshAll:d,updateAgentStatus:(e,t)=>{n(r=>({...r,agents:r.agents.map(r=>r.id===e?{...r,status:t}:r)}))},addActivity:e=>{n(t=>({...t,recentActivity:[e,...t.recentActivity.slice(0,9)]}))}};return r.jsx(ZV.Provider,{value:u,children:e})};function tq(){const{data:e}=QV(),{users:t=[]}=e,[n,a]=at.useState([]),[s,i]=at.useState(""),[o,l]=at.useState(""),[c,d]=at.useState(""),[u,h]=at.useState("add"),[m,p]=at.useState(!1);at.useEffect(()=>{f()},[]);const f=async()=>{try{const e=await No.list();a(e)}catch(e){}},x={totalWallets:n.length,totalBalance:n.reduce((e,t)=>e+(t.balance||0),0),activeWallets:n.filter(e=>(e.balance||0)>0).length,averageBalance:n.length>0?n.reduce((e,t)=>e+(t.balance||0),0)/n.length:0};return r.jsxs("div",{className:"admin-full-width w-full max-w-none space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Carteiras"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:x.totalWallets})]}),r.jsx(ee,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Saldo Total"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",x.totalBalance.toFixed(2)]})]}),r.jsx($,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Carteiras Ativas"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:x.activeWallets})]}),r.jsx(E,{className:"w-8 h-8 text-cyan-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Saldo Médio"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",x.averageBalance.toFixed(2)]})]}),r.jsx(T,{className:"w-8 h-8 text-purple-400"})]})})})]}),r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(g,{className:"w-5 h-5"}),"Gerenciar Saldo das Carteiras"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsxs(RF,{value:s,onValueChange:i,children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{placeholder:"Selecionar usuário"})}),r.jsx(UF,{className:"bg-gray-800 text-white",children:t.map(e=>r.jsxs(BF,{value:e.email,children:[e.full_name," (",e.email,")"]},e.email))})]}),r.jsxs(RF,{value:u,onValueChange:h,children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{})}),r.jsxs(UF,{className:"bg-gray-800 text-white",children:[r.jsx(BF,{value:"add",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(te,{className:"w-4 h-4 text-green-400"}),"Adicionar Saldo"]})}),r.jsx(BF,{value:"deduct",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(re,{className:"w-4 h-4 text-red-400"}),"Deduzir Saldo"]})})]})]}),r.jsx(Hi,{type:"number",placeholder:"Valor (R$)",value:o,onChange:e=>l(e.target.value),className:"bg-gray-700 border-gray-600 text-white",step:"0.01"}),r.jsx(Hi,{placeholder:"Motivo da operação",value:c,onChange:e=>d(e.target.value),className:"bg-gray-700 border-gray-600 text-white"}),r.jsx(Vi,{onClick:async()=>{if(s&&o&&c){p(!0);try{let e=n.find(e=>e.user_email===s);e||(e=await No.create({user_email:s,balance:0,tokens:0}),a(t=>[...t,e]));const t=parseFloat(o),r="add"===u?(e.balance||0)+t:Math.max(0,(e.balance||0)-t);await No.update(e.id,{balance:r,last_transaction:(new Date).toISOString()}),await wo.create({user_email:s,type:"add"===u?"payment":"refund",amount:t,status:"completed",description:`Admin ${"add"===u?"adicionou":"deduziu"} R$ ${t} - ${c}`,metadata:{admin_action:!0,reason:c,operation:u,previous_balance:e.balance||0,new_balance:r}}),i(""),l(""),d(""),await f(),alert(`Operação realizada com sucesso! ${"add"===u?"Adicionado":"Deduzido"} R$ ${t}`)}catch(e){alert("Erro ao processar operação")}p(!1)}else alert("Preencha todos os campos")},disabled:m||!s||!o||!c,className:("add"===u?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700")+" text-white",children:m?r.jsx(L,{className:"w-4 h-4 animate-spin"}):"add"===u?r.jsxs(r.Fragment,{children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Adicionar"]}):r.jsxs(r.Fragment,{children:[r.jsx(re,{className:"w-4 h-4 mr-2"}),"Deduzir"]})})]})})]}),r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsxs(Si,{className:"flex flex-row items-center justify-between",children:[r.jsx(ki,{className:"text-white",children:"Carteiras dos Usuários"}),r.jsxs(Vi,{onClick:f,variant:"outline",className:"border-gray-600 text-white hover:bg-gray-700",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Atualizar"]})]}),r.jsx(Ai,{children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-white",children:"Usuário"}),r.jsx(_L,{className:"text-white",children:"Email"}),r.jsx(_L,{className:"text-white",children:"Saldo"}),r.jsx(_L,{className:"text-white",children:"Tokens"}),r.jsx(_L,{className:"text-white",children:"Status"}),r.jsx(_L,{className:"text-white",children:"Última Transação"}),r.jsx(_L,{className:"text-white",children:"Ações"})]})}),r.jsx(wL,{children:t.map(e=>{const t=n.find(t=>t.user_email===e.email);return r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(SL,{className:"text-white font-medium",children:e.full_name}),r.jsx(SL,{className:"text-gray-300",children:e.email}),r.jsx(SL,{children:r.jsxs("span",{className:"text-green-400 font-semibold",children:["R$ ",((null==t?void 0:t.balance)||0).toFixed(2)]})}),r.jsx(SL,{children:r.jsx("span",{className:"text-yellow-400 font-semibold",children:(null==t?void 0:t.tokens)||0})}),r.jsx(SL,{children:t?r.jsx(Wi,{className:(t.is_active?"bg-green-500":"bg-red-500")+" text-white",children:t.is_active?"Ativa":"Inativa"}):r.jsx(Wi,{variant:"outline",className:"border-gray-500 text-gray-400",children:"Sem Carteira"})}),r.jsx(SL,{className:"text-gray-400 text-sm",children:(null==t?void 0:t.last_transaction)?new Date(t.last_transaction).toLocaleDateString("pt-BR"):"Nunca"}),r.jsx(SL,{children:t?r.jsx(Vi,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Detalhes"}):r.jsx(Vi,{onClick:()=>(async e=>{try{const t=await No.create({user_email:e,balance:0,tokens:0});a(e=>[...e,t]),alert("Carteira criada com sucesso!")}catch(t){alert("Erro ao criar carteira")}})(e.email),size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Criar Carteira"})})]},e.email)})})]})})]})]})}function rq(){var e;const{globalData:t}=ko(),{users:a=[]}=t,[s,o]=at.useState([]),[l,c]=at.useState(!1),[d,u]=at.useState(null),[h,m]=at.useState({name:"",price:"",features:[],max_agents:"",max_routines:"",max_integrations:"",support_level:"basic",is_popular:!1,is_active:!0});at.useEffect(()=>{p()},[]);const p=async()=>{try{const e=await fo.list();o(e)}catch(e){}},f=()=>{m({name:"",price:"",features:[],max_agents:"",max_routines:"",max_integrations:"",support_level:"basic",is_popular:!1,is_active:!0})},g={totalPlans:s.length,activePlans:s.filter(e=>e.is_active).length,totalRevenue:a.reduce((e,t)=>{const r=s.find(e=>e.id===t.plan_id);return e+((null==r?void 0:r.price)||0)},0),mostPopular:s.find(e=>e.is_popular)};return r.jsxs("div",{className:"admin-full-width w-full max-w-none space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total de Planos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:g.totalPlans})]}),r.jsx(ne,{className:"w-8 h-8 text-purple-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Planos Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:g.activePlans})]}),r.jsx(i,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Receita Mensal"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",g.totalRevenue.toFixed(2)]})]}),r.jsx($,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Plano Popular"}),r.jsx("p",{className:"text-lg font-bold text-white",children:(null==(e=g.mostPopular)?void 0:e.name)||"Nenhum"})]}),r.jsx(O,{className:"w-8 h-8 text-yellow-400"})]})})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gerenciamento de Planos"}),r.jsxs(Vi,{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Novo Plano"]})]}),l&&r.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsxs(_i,{className:"bg-gray-800 border-gray-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:d?"Editar Plano":"Novo Plano"})}),r.jsx(Ai,{children:r.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e={...h,price:parseFloat(h.price),max_agents:parseInt(h.max_agents),max_routines:parseInt(h.max_routines),max_integrations:parseInt(h.max_integrations),features:h.features.filter(e=>""!==e.trim())};d?await fo.update(d.id,e):await fo.create(e),c(!1),u(null),f(),p()}catch(t){}},className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Hi,{placeholder:"Nome do plano",value:h.name,onChange:e=>m({...h,name:e.target.value}),className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400",required:!0}),r.jsx(Hi,{type:"number",placeholder:"Preço (R$)",value:h.price,onChange:e=>m({...h,price:e.target.value}),className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400",step:"0.01",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Hi,{type:"number",placeholder:"Máx. Agentes",value:h.max_agents,onChange:e=>m({...h,max_agents:e.target.value}),className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400"}),r.jsx(Hi,{type:"number",placeholder:"Máx. Rotinas",value:h.max_routines,onChange:e=>m({...h,max_routines:e.target.value}),className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400"}),r.jsx(Hi,{type:"number",placeholder:"Máx. Integrações",value:h.max_integrations,onChange:e=>m({...h,max_integrations:e.target.value}),className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400"})]}),r.jsxs("select",{value:h.support_level,onChange:e=>m({...h,support_level:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white",children:[r.jsx("option",{value:"basic",children:"Suporte Básico"}),r.jsx("option",{value:"priority",children:"Suporte Prioritário"}),r.jsx("option",{value:"dedicated",children:"Suporte Dedicado"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recursos do Plano"}),h.features.map((e,t)=>r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx(Hi,{placeholder:"Recurso do plano",value:e,onChange:e=>((e,t)=>{const r=[...h.features];r[e]=t,m({...h,features:r})})(t,e.target.value),className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400 flex-1"}),r.jsx(Vi,{type:"button",onClick:()=>(e=>{const t=h.features.filter((t,r)=>r!==e);m({...h,features:t})})(t),variant:"outline",size:"sm",className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:r.jsx(q,{className:"w-4 h-4"})})]},t)),r.jsxs(Vi,{type:"button",onClick:()=>{m({...h,features:[...h.features,""]})},variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Adicionar Recurso"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(VV,{checked:h.is_popular,onCheckedChange:e=>m({...h,is_popular:e})}),r.jsx("span",{className:"text-gray-300",children:"Plano Popular"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(VV,{checked:h.is_active,onCheckedChange:e=>m({...h,is_active:e})}),r.jsx("span",{className:"text-gray-300",children:"Plano Ativo"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(Vi,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white flex-1",children:d?"Salvar Alterações":"Criar Plano"}),r.jsx(Vi,{type:"button",onClick:()=>{c(!1),u(null),f()},variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700 flex-1",children:"Cancelar"})]})]})})]})}),r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Planos Cadastrados"})}),r.jsx(Ai,{children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-gray-300",children:"Plano"}),r.jsx(_L,{className:"text-gray-300",children:"Preço"}),r.jsx(_L,{className:"text-gray-300",children:"Recursos"}),r.jsx(_L,{className:"text-gray-300",children:"Limites"}),r.jsx(_L,{className:"text-gray-300",children:"Status"}),r.jsx(_L,{className:"text-gray-300",children:"Usuários"}),r.jsx(_L,{className:"text-gray-300",children:"Ações"})]})}),r.jsx(wL,{children:s.map(e=>{var t,n;return r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ne,{className:"w-5 h-5 text-purple-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:e.name}),e.is_popular&&r.jsxs(Wi,{className:"bg-yellow-500 text-black text-xs mt-1",children:[r.jsx(O,{className:"w-3 h-3 mr-1"}),"Popular"]})]})]})}),r.jsx(SL,{children:r.jsxs("span",{className:"text-green-400 font-semibold text-lg",children:["R$ ",e.price.toFixed(2)]})}),r.jsx(SL,{children:r.jsxs("div",{className:"space-y-1",children:[null==(t=e.features)?void 0:t.slice(0,2).map((e,t)=>r.jsxs("div",{className:"text-gray-300 text-sm",children:["• ",e]},t)),(null==(n=e.features)?void 0:n.length)>2&&r.jsxs("div",{className:"text-gray-500 text-xs",children:["+",e.features.length-2," mais"]})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"text-gray-300 text-sm space-y-1",children:[r.jsxs("div",{children:["Agentes: ",e.max_agents||"∞"]}),r.jsxs("div",{children:["Rotinas: ",e.max_routines||"∞"]}),r.jsxs("div",{children:["Integrações: ",e.max_integrations||"∞"]})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(VV,{checked:e.is_active,onCheckedChange:()=>(async e=>{try{await fo.update(e.id,{is_active:!e.is_active}),p()}catch(t){}})(e)}),r.jsx("span",{className:"text-sm "+(e.is_active?"text-green-400":"text-red-400"),children:e.is_active?"Ativo":"Inativo"})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(E,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-white",children:a.filter(t=>t.plan_id===e.id).length})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vi,{onClick:()=>(e=>{var t,r,n;u(e),m({...e,price:e.price.toString(),max_agents:(null==(t=e.max_agents)?void 0:t.toString())||"",max_routines:(null==(r=e.max_routines)?void 0:r.toString())||"",max_integrations:(null==(n=e.max_integrations)?void 0:n.toString())||"",features:e.features||[]}),c(!0)})(e),size:"sm",variant:"outline",className:"border-blue-600 text-blue-400 hover:bg-blue-600 hover:text-white",children:r.jsx(Z,{className:"w-4 h-4"})}),r.jsx(Vi,{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja deletar este plano?"))try{await fo.delete(e),p()}catch(t){}})(e.id),size:"sm",variant:"outline",className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:r.jsx(q,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]})]})}eq.propTypes={children:It.node.isRequired};var nq="Progress",[aq,sq]=AL(nq),[iq,oq]=aq(nq),lq=at.forwardRef((e,t)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:i=uq,...o}=e;(s||0===s)&&pq(s);const l=pq(s)?s:100;null!==a&&fq(a,l);const c=fq(a,l)?a:null,d=mq(c)?i(c,l):void 0;return r.jsx(iq,{scope:n,value:c,max:l,children:r.jsx(To.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":mq(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":hq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});lq.displayName=nq;var cq="ProgressIndicator",dq=at.forwardRef((e,t)=>{const{__scopeProgress:n,...a}=e,s=oq(cq,n);return r.jsx(To.div,{"data-state":hq(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});function uq(e,t){return`${Math.round(e/t*100)}%`}function hq(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function mq(e){return"number"==typeof e}function pq(e){return mq(e)&&!isNaN(e)&&e>0}function fq(e,t){return mq(e)&&!isNaN(e)&&e<=t&&e>=0}dq.displayName=cq;var gq=lq,xq=dq;const yq=at.forwardRef(({className:e,value:t,...n},a)=>r.jsx(gq,{ref:a,className:Ni("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:r.jsx(xq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));function vq(){const{globalData:e,syncModule:t}=ko(),{affiliates:a=[],users:s=[]}=e,[i,o]=at.useState(!1),[l,c]=at.useState(""),[d,u]=at.useState(10),[h,m]=at.useState(100),[p,f]=at.useState(!1),g=s.filter(e=>!a.some(t=>t.user_email===e.email)),x={totalAffiliates:a.length,activeAffiliates:a.filter(e=>"active"===e.status).length,totalTokensGenerated:a.reduce((e,t)=>e+(t.tokens_earned||0),0),totalClicks:a.reduce((e,t)=>e+(t.clicks||0),0),totalConversions:a.reduce((e,t)=>e+(t.conversions||0),0),conversionRate:a.reduce((e,t)=>e+(t.clicks||0),0)>0?(a.reduce((e,t)=>e+(t.conversions||0),0)/a.reduce((e,t)=>e+(t.clicks||0),0)*100).toFixed(1):0};return r.jsxs("div",{className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:r.jsx(ae,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-100",children:"Gerenciamento de Afiliados"}),r.jsx("p",{className:"text-gray-400 text-sm lg:text-base",children:"Configure e monitore o programa de afiliados"})]})]}),r.jsx("div",{className:"lg:ml-auto",children:r.jsxs(Vi,{onClick:()=>o(!i),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[r.jsx(J,{className:"w-5 h-5 mr-2"}),"Novo Afiliado"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Afiliados"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:x.totalAffiliates})]}),r.jsx(ae,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Tokens Gerados"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:x.totalTokensGenerated})]}),r.jsx(se,{className:"w-8 h-8 text-yellow-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Cliques"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:x.totalClicks})]}),r.jsx(_,{className:"w-8 h-8 text-purple-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Taxa Conversão"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.conversionRate,"%"]})]}),r.jsx(T,{className:"w-8 h-8 text-green-400"})]})})})]}),i&&r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700 text-white w-full",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2",children:[r.jsx(ie,{className:"w-5 h-5 text-yellow-400"}),"Criar Novo Afiliado"]})}),r.jsx(Ai,{className:"w-full",children:r.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-4 w-full",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Selecionar Usuário"}),r.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-md px-3 py-2 text-white",children:[r.jsx("option",{value:"",children:"Escolha um usuário"}),g.map(e=>r.jsxs("option",{value:e.email,children:[e.full_name," (",e.email,")"]},e.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Taxa de Comissão (%)"}),r.jsx(Hi,{type:"number",value:d,onChange:e=>u(parseFloat(e.target.value)),className:"bg-gray-800 border-gray-600 text-white",min:"0",max:"50",step:"0.5"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bônus de Tokens"}),r.jsx(Hi,{type:"number",value:h,onChange:e=>m(parseInt(e.target.value)),className:"bg-gray-800 border-gray-600 text-white",min:"0",step:"10"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Vi,{onClick:async()=>{if(l){f(!0);try{const r={user_email:l,affiliate_code:(e=l,e.split("@")[0].replace(/[^a-zA-Z0-9]/g,"").toUpperCase()+Math.random().toString(36).substring(2,6).toUpperCase()),commission_rate:d,bonus_tokens:h};await vo.create(r);const n=s.find(e=>e.email===l);n&&await uo.update(n.id,{tokens:(n.tokens||0)+h}),o(!1),c(""),await t("affiliates"),await t("users")}catch(r){}var e;f(!1)}},disabled:p||!l,className:"bg-green-600 hover:bg-green-700",children:[p?r.jsx(L,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(ie,{className:"w-4 h-4 mr-2"}),"Criar Afiliado"]}),r.jsx(Vi,{variant:"outline",onClick:()=>o(!1),className:"border-gray-600 text-white hover:bg-gray-700",children:"Cancelar"})]})]})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700 text-white w-full",children:[r.jsxs(Si,{className:"flex flex-row items-center justify-between",children:[r.jsxs(ki,{className:"flex items-center gap-2",children:[r.jsx(ae,{className:"w-5 h-5 text-blue-400"}),"Lista de Afiliados"]}),r.jsxs(Vi,{onClick:()=>t("affiliates"),variant:"outline",className:"border-gray-600 text-white hover:bg-gray-700",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Atualizar"]})]}),r.jsxs(Ai,{className:"w-full overflow-x-auto",children:[r.jsxs(bL,{className:"w-full",children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(_L,{className:"text-gray-300",children:"Afiliado"}),r.jsx(_L,{className:"text-gray-300",children:"Código"}),r.jsx(_L,{className:"text-gray-300",children:"Performance"}),r.jsx(_L,{className:"text-gray-300",children:"Tokens Gerados"}),r.jsx(_L,{className:"text-gray-300",children:"Comissão"}),r.jsx(_L,{className:"text-gray-300",children:"Link de Referência"}),r.jsx(_L,{className:"text-gray-300",children:"Status"}),r.jsx(_L,{className:"text-gray-300",children:"Ações"})]})}),r.jsx(wL,{children:a.map(e=>{var n;const a=s.find(t=>t.email===e.user_email),i=`https://autvision.com/register?ref=${e.affiliate_code}`,o=e.clicks>0?((e.conversions||0)/e.clicks*100).toFixed(1):0;return r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:(null==(n=null==a?void 0:a.full_name)?void 0:n.charAt(0))||"A"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:(null==a?void 0:a.full_name)||e.user_email}),r.jsx("p",{className:"text-gray-400 text-sm",children:e.user_email})]})]})}),r.jsx(SL,{children:r.jsx(Wi,{className:"bg-blue-500/20 text-blue-300 border border-blue-500/30",children:e.affiliate_code})}),r.jsx(SL,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Conversão:"}),r.jsxs("span",{className:"text-white font-medium",children:[o,"%"]})]}),r.jsx(yq,{value:parseFloat(o),className:"h-2"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:[e.clicks||0," cliques"]}),r.jsxs("span",{children:[e.conversions||0," conversões"]})]})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(se,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{className:"text-yellow-400 font-semibold",children:e.tokens_earned||0})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($,{className:"w-4 h-4 text-green-400"}),r.jsxs("span",{className:"text-green-400 font-semibold",children:[e.commission_rate||10,"%"]})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Vi,{variant:"outline",size:"sm",onClick:()=>{return e=i,navigator.clipboard.writeText(e),void alert("Link copiado para a área de transferência!");var e},className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(oe,{className:"w-4 h-4 mr-1"}),"Copiar"]}),r.jsx(Vi,{variant:"outline",size:"sm",onClick:()=>window.open(i,"_blank"),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r.jsx(le,{className:"w-4 h-4"})})]})}),r.jsx(SL,{children:r.jsx(Wi,{className:""+("active"===e.status?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"),children:"active"===e.status?"Ativo":"Inativo"})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vi,{variant:"outline",size:"sm",className:"border-blue-600 text-blue-400 hover:bg-blue-600 hover:text-white",children:r.jsx(_,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja remover este afiliado?"))try{await vo.delete(e),await t("affiliates")}catch(r){}})(e.id),className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:r.jsx(q,{className:"w-4 h-4"})})]})})]},e.id)})})]}),0===a.length&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ae,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Nenhum afiliado cadastrado"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Comece criando o primeiro afiliado da plataforma"}),r.jsxs(Vi,{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(J,{className:"w-4 h-4 mr-2"}),"Criar Primeiro Afiliado"]})]})]})]})]})}yq.displayName=gq.displayName;const bq=[{name:"Jan",Receita:4e3},{name:"Fev",Receita:3e3},{name:"Mar",Receita:5e3},{name:"Abr",Receita:4500},{name:"Mai",Receita:6e3},{name:"Jun",Receita:5500},{name:"Jul",Receita:7e3},{name:"Ago",Receita:6500},{name:"Set",Receita:7500},{name:"Out",Receita:8e3}],jq=[{name:"Sem 1",Clientes:12},{name:"Sem 2",Clientes:19},{name:"Sem 3",Clientes:15},{name:"Sem 4",Clientes:25}];function wq(){return r.jsx("div",{className:"admin-full-width w-full max-w-none",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx($,{className:"w-5 h-5 text-green-400"}),"Receita Mensal (Últimos 10 meses)"]})}),r.jsx(Ai,{children:r.jsx(Nv,{width:"100%",height:300,children:r.jsxs(gL,{data:bq,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),r.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),r.jsx(mR,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),r.jsx(nD,{dataKey:"name",fontSize:12,stroke:"#a0a0a0"}),r.jsx(pD,{fontSize:12,stroke:"#a0a0a0",tickFormatter:e=>`R$${e/1e3}k`}),r.jsx(uv,{contentStyle:{background:"rgba(30, 41, 59, 0.9)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem"},itemStyle:{color:"#e5e7eb"},labelStyle:{color:"#9ca3af"}}),r.jsx(HR,{type:"monotone",dataKey:"Receita",stroke:"#10b981",fill:"url(#revenueGradient)"})]})})})]}),r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(E,{className:"w-5 h-5 text-blue-400"}),"Aquisição de Novos Clientes (Mês Atual)"]})}),r.jsx(Ai,{children:r.jsx(Nv,{width:"100%",height:300,children:r.jsxs(pL,{data:jq,children:[r.jsx(mR,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),r.jsx(nD,{dataKey:"name",fontSize:12,stroke:"#a0a0a0"}),r.jsx(pD,{fontSize:12,stroke:"#a0a0a0"}),r.jsx(uv,{contentStyle:{background:"rgba(30, 41, 59, 0.9)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem"},itemStyle:{color:"#e5e7eb"},labelStyle:{color:"#9ca3af"}}),r.jsx(oI,{dataKey:"Clientes",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]})]})})}function Nq(){var e;const{globalData:t,syncModule:a}=ko(),{users:s=[]}=t,[i,o]=at.useState(""),[l,c]=at.useState(""),[d,u]=at.useState(""),[h,m]=at.useState(""),[p,f]=at.useState(""),[x,y]=at.useState(!1),[v,b]=at.useState([]),j={totalTokens:s.reduce((e,t)=>e+(t.tokens||0),0),averageTokens:s.length>0?(s.reduce((e,t)=>e+(t.tokens||0),0)/s.length).toFixed(1):0,usersWithTokens:s.filter(e=>(e.tokens||0)>0).length,topTokenHolder:s.reduce((e,t)=>(t.tokens||0)>(e.tokens||0)?t:e,{})};return r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"admin-full-width w-full max-w-none space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center",children:r.jsx(ce,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Gerenciamento de Tokens"}),r.jsx("p",{className:"text-gray-400",children:"Administração completa do sistema de tokens da plataforma"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total de Tokens"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:j.totalTokens.toLocaleString()})]}),r.jsx(ce,{className:"w-8 h-8 text-yellow-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Média por Usuário"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:j.averageTokens})]}),r.jsx(T,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Usuários com Tokens"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:j.usersWithTokens})]}),r.jsx(E,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Top Holder"}),r.jsx("p",{className:"text-lg font-bold text-white",children:(null==(e=j.topTokenHolder.full_name)?void 0:e.split(" ")[0])||"N/A"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[j.topTokenHolder.tokens||0," tokens"]})]}),r.jsx(ie,{className:"w-8 h-8 text-purple-400"})]})})})]}),r.jsxs(OV,{defaultValue:"individual",className:"space-y-6",children:[r.jsxs(AV,{className:"bg-gray-800/50 border border-gray-700",children:[r.jsxs(CV,{value:"individual",className:"data-[state=active]:bg-blue-600",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Individual"]}),r.jsxs(CV,{value:"bulk",className:"data-[state=active]:bg-green-600",children:[r.jsx(se,{className:"w-4 h-4 mr-2"}),"Em Massa"]}),r.jsxs(CV,{value:"users",className:"data-[state=active]:bg-purple-600",children:[r.jsx(E,{className:"w-4 h-4 mr-2"}),"Por Usuário"]}),r.jsxs(CV,{value:"history",className:"data-[state=active]:bg-orange-600",children:[r.jsx(de,{className:"w-4 h-4 mr-2"}),"Histórico"]})]}),r.jsx(PV,{value:"individual",className:"space-y-6",children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Gerenciar Tokens Individual"})}),r.jsx(Ai,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(RF,{value:i,onValueChange:o,children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600",children:r.jsx(DF,{placeholder:"Selecionar usuário"})}),r.jsx(UF,{className:"bg-gray-800 text-white",children:s.map(e=>r.jsxs(BF,{value:e.email,children:[e.full_name," (",e.tokens||0," tokens)"]},e.id))})]}),r.jsx(Hi,{type:"number",placeholder:"Quantidade",value:l,onChange:e=>c(e.target.value),className:"bg-gray-700 border-gray-600"}),r.jsx(Hi,{placeholder:"Motivo",value:d,onChange:e=>u(e.target.value),className:"bg-gray-700 border-gray-600"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Vi,{onClick:async()=>{if(i&&l&&d){y(!0);try{const e=s.find(e=>e.email===i),t=(e.tokens||0)+parseInt(l);await uo.update(e.id,{tokens:t}),await wo.create({user_email:i,type:"token_purchase",amount:0,status:"completed",description:`Admin adicionou ${l} tokens - ${d}`,metadata:{admin_action:!0,reason:d}}),b(t=>[{user:e.full_name,action:`+${l} tokens`,reason:d,timestamp:(new Date).toISOString()},...t.slice(0,9)]),o(""),c(""),u(""),await a("users")}catch(e){}y(!1)}},disabled:x||!i||!l||!d,className:"bg-green-600 hover:bg-green-700 flex-1",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),r.jsxs(Vi,{onClick:async()=>{if(i&&l&&d){y(!0);try{const e=s.find(e=>e.email===i),t=Math.max(0,(e.tokens||0)-parseInt(l));await uo.update(e.id,{tokens:t}),await wo.create({user_email:i,type:"token_purchase",amount:0,status:"completed",description:`Admin removeu ${l} tokens - ${d}`,metadata:{admin_action:!0,reason:d,action:"remove"}}),b(t=>[{user:e.full_name,action:`-${l} tokens`,reason:d,timestamp:(new Date).toISOString()},...t.slice(0,9)]),o(""),c(""),u(""),await a("users")}catch(e){}y(!1)}},disabled:x||!i||!l||!d,variant:"destructive",className:"flex-1",children:[r.jsx(re,{className:"w-4 h-4 mr-2"}),"Remover"]})]})]})})]})}),r.jsx(PV,{value:"bulk",className:"space-y-6",children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Distribuição em Massa"})}),r.jsxs(Ai,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Hi,{type:"number",placeholder:"Tokens para cada usuário",value:h,onChange:e=>m(e.target.value),className:"bg-gray-700 border-gray-600"}),r.jsx(Hi,{placeholder:"Motivo da distribuição",value:p,onChange:e=>f(e.target.value),className:"bg-gray-700 border-gray-600"}),r.jsxs(Vi,{onClick:async()=>{if(h&&p){y(!0);try{const e=s.map(async e=>{const t=(e.tokens||0)+parseInt(h);return await uo.update(e.id,{tokens:t}),wo.create({user_email:e.email,type:"token_purchase",amount:0,status:"completed",description:`Distribuição em massa: ${h} tokens - ${p}`,metadata:{admin_action:!0,bulk_distribution:!0,reason:p}})});await Promise.all(e),b(e=>[{user:"TODOS OS USUÁRIOS",action:`+${h} tokens cada`,reason:p,timestamp:(new Date).toISOString()},...e.slice(0,9)]),m(""),f(""),await a("users")}catch(e){}y(!1)}},disabled:x||!h||!p,className:"bg-green-600 hover:bg-green-700",children:[r.jsx(g,{className:"w-4 h-4 mr-2"}),"Distribuir para Todos"]})]}),r.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:r.jsxs("p",{className:"text-blue-300 text-sm",children:["⚠️ Esta ação irá adicionar ",h||0," tokens para todos os ",s.length," usuários da plataforma."]})})]})]})}),r.jsx(PV,{value:"users",className:"space-y-6",children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Tokens por Usuário"})}),r.jsx(Ai,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-white",children:"Usuário"}),r.jsx(_L,{className:"text-white",children:"Email"}),r.jsx(_L,{className:"text-white",children:"Tokens"}),r.jsx(_L,{className:"text-white",children:"Plano"}),r.jsx(_L,{className:"text-white",children:"Ações"})]})}),r.jsx(wL,{children:s.sort((e,t)=>(t.tokens||0)-(e.tokens||0)).map(e=>r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-700/50",children:[r.jsx(SL,{className:"text-white",children:e.full_name}),r.jsx(SL,{className:"text-gray-300",children:e.email}),r.jsx(SL,{children:r.jsxs(Wi,{className:"bg-yellow-500/20 text-yellow-300",children:[r.jsx(ce,{className:"w-3 h-3 mr-1"}),e.tokens||0]})}),r.jsx(SL,{children:r.jsx(Wi,{variant:"outline",className:"border-gray-500 text-gray-300",children:e.plan_id?"Premium":"Free"})}),r.jsx(SL,{children:r.jsx(Vi,{variant:"ghost",size:"sm",onClick:()=>o(e.email),className:"text-blue-400 hover:text-blue-300",children:"Gerenciar"})})]},e.id))})]})})})]})}),r.jsx(PV,{value:"history",className:"space-y-6",children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Histórico de Ações"})}),r.jsx(Ai,{children:r.jsx("div",{className:"space-y-4",children:v.length>0?v.map((e,t)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:e.user}),r.jsx("p",{className:"text-sm text-gray-400",children:e.reason})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium "+(e.action.includes("+")?"text-green-400":"text-red-400"),children:e.action}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]})]},t)):r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(de,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Nenhuma ação registrada ainda"})]})})})]})})]})]})}function _q(){var e;const[t,a]=at.useState("overview"),[i,o]=at.useState({totalRevenue:0,monthlyRevenue:0,totalTransactions:0,activeSubscriptions:0,pendingPayments:0,refundRequests:0,totalTokensDistributed:0,affiliateCommissions:0}),[l,c]=at.useState(!0),[d,u]=at.useState(!1),[h,m]=at.useState({currency:"BRL",taxRate:5,autoReports:!0,emailAlerts:!0});at.useEffect(()=>{p()},[]);const p=async()=>{c(!0);try{await new Promise(e=>setTimeout(e,1e3)),o({totalRevenue:125430.5,monthlyRevenue:23890.75,totalTransactions:1247,activeSubscriptions:892,pendingPayments:23,refundRequests:5,totalTokensDistributed:15e4,affiliateCommissions:7500})}catch(e){}c(!1)},f=[{title:"Receita Total",value:`R$ ${i.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:$,color:"text-green-400",bgColor:"bg-green-500/10",change:"+12.5%",changeType:"positive"},{title:"Receita Mensal",value:`R$ ${i.monthlyRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:T,color:"text-blue-400",bgColor:"bg-blue-500/10",change:"+8.2%",changeType:"positive"},{title:"Transações",value:i.totalTransactions.toLocaleString("pt-BR"),icon:K,color:"text-purple-400",bgColor:"bg-purple-500/10",change:"+15.3%",changeType:"positive"},{title:"Assinaturas Ativas",value:i.activeSubscriptions.toLocaleString("pt-BR"),icon:E,color:"text-cyan-400",bgColor:"bg-cyan-500/10",change:"+5.7%",changeType:"positive"},{title:"Tokens Distribuídos",value:(null==(e=i.totalTokensDistributed)?void 0:e.toLocaleString("pt-BR"))||"0",icon:ce,color:"text-yellow-400",bgColor:"bg-yellow-500/10",change:"+25.3%",changeType:"positive"},{title:"Comissões Afiliados",value:`R$ ${(i.affiliateCommissions||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:ae,color:"text-pink-400",bgColor:"bg-pink-500/10",change:"+18.9%",changeType:"positive"}];return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(L,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando dados financeiros..."})]})}):r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:r.jsx($,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-100",children:"Centro Financeiro"}),r.jsx("p",{className:"text-gray-400 text-sm lg:text-base",children:"Gestão completa de receitas, pagamentos e carteiras"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 lg:ml-auto",children:[r.jsxs(Vi,{onClick:p,variant:"outline",className:"border-gray-600 text-white hover:bg-gray-700 w-full sm:w-auto",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Atualizar"]}),r.jsxs(Vi,{onClick:()=>u(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 w-full sm:w-auto",children:[r.jsx(s,{className:"w-4 h-4 mr-2"}),"Configurações"]})]})]}),d&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsxs(n.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-gray-800 p-6 rounded-xl border border-gray-700 w-full max-w-md",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Configurações Financeiras"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Moeda"}),r.jsxs("select",{value:h.currency,onChange:e=>m({...h,currency:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white",children:[r.jsx("option",{value:"BRL",children:"Real (BRL)"}),r.jsx("option",{value:"USD",children:"Dólar (USD)"}),r.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Taxa de Sistema (%)"}),r.jsx("input",{type:"number",value:h.taxRate,onChange:e=>m({...h,taxRate:parseFloat(e.target.value)}),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white",step:"0.1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:h.autoReports,onChange:e=>m({...h,autoReports:e.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-gray-300",children:"Relatórios Automáticos"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:h.emailAlerts,onChange:e=>m({...h,emailAlerts:e.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-gray-300",children:"Alertas por Email"})]})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx(Vi,{onClick:()=>{alert("Configurações salvas com sucesso!"),u(!1)},className:"bg-green-600 hover:bg-green-700 flex-1",children:"Salvar"}),r.jsx(Vi,{onClick:()=>u(!1),variant:"outline",className:"border-gray-600 text-white hover:bg-gray-700 flex-1",children:"Cancelar"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((e,t)=>r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},children:r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 hover:bg-gray-800/70 transition-all duration-300",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:e.title}),r.jsx("p",{className:"text-2xl font-bold text-white mb-2",children:e.value}),r.jsxs("div",{className:"flex items-center gap-1",children:["positive"===e.changeType?r.jsx(ue,{className:"w-4 h-4 text-green-400"}):r.jsx(he,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:"text-sm font-medium "+("positive"===e.changeType?"text-green-400":"text-red-400"),children:e.change}),r.jsx("span",{className:"text-gray-500 text-xs ml-1",children:"vs mês anterior"})]})]}),r.jsx("div",{className:`w-12 h-12 ${e.bgColor} rounded-xl flex items-center justify-center`,children:r.jsx(e.icon,{className:`w-6 h-6 ${e.color}`})})]})})})},e.title))}),r.jsxs(OV,{value:t,onValueChange:a,className:"space-y-6",children:[r.jsxs(AV,{className:"bg-gray-800/50 border border-gray-700",children:[r.jsxs(CV,{value:"overview",className:"data-[state=active]:bg-blue-600",children:[r.jsx(me,{className:"w-4 h-4 mr-2"}),"Visão Geral"]}),r.jsxs(CV,{value:"transactions",className:"data-[state=active]:bg-blue-600",children:[r.jsx(K,{className:"w-4 h-4 mr-2"}),"Transações"]}),r.jsxs(CV,{value:"wallets",className:"data-[state=active]:bg-blue-600",children:[r.jsx(ee,{className:"w-4 h-4 mr-2"}),"Carteiras"]}),r.jsxs(CV,{value:"gateways",className:"data-[state=active]:bg-blue-600",children:[r.jsx(s,{className:"w-4 h-4 mr-2"}),"Gateways"]}),r.jsxs(CV,{value:"plans",className:"data-[state=active]:bg-blue-600",children:[r.jsx(pe,{className:"w-4 h-4 mr-2"}),"Planos"]}),r.jsxs(CV,{value:"affiliates",className:"data-[state=active]:bg-blue-600",children:[r.jsx(E,{className:"w-4 h-4 mr-2"}),"Afiliados"]}),r.jsxs(CV,{value:"tokens",className:"data-[state=active]:bg-yellow-600",children:[" ",r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Tokens"]})]}),r.jsxs(PV,{value:"overview",className:"space-y-6",children:[r.jsx(GV,{}),r.jsx(wq,{})]}),r.jsx(PV,{value:"transactions",className:"space-y-6",children:r.jsx(XV,{})}),r.jsx(PV,{value:"wallets",className:"space-y-6",children:r.jsx(tq,{})}),r.jsx(PV,{value:"gateways",className:"space-y-6",children:r.jsx(JV,{})}),r.jsx(PV,{value:"plans",className:"space-y-6",children:r.jsx(rq,{})}),r.jsx(PV,{value:"affiliates",className:"space-y-6",children:r.jsx(vq,{})}),r.jsxs(PV,{value:"tokens",className:"space-y-6",children:[" ",r.jsx(Nq,{})]})]})]})}const Sq=at.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ni("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));function kq({integrations:e,onUpdate:t}){const[n,a]=at.useState(!1),[o,l]=at.useState(null),[c,d]=at.useState({name:"",type:"custom",description:"",api_endpoint:"",webhook_url:"",auth_type:"none",api_key:"",client_id:"",client_secret:"",permissions:"",plan_required:"free",is_active:!0}),u=()=>{d({name:"",type:"custom",description:"",api_endpoint:"",webhook_url:"",auth_type:"none",api_key:"",client_id:"",client_secret:"",permissions:"",plan_required:"free",is_active:!0})},h=e=>{const t={connected:{color:"bg-green-500",text:"Conectada",icon:i},disconnected:{color:"bg-gray-500",text:"Desconectada",icon:xe},error:{color:"bg-red-500",text:"Erro",icon:xe},pending:{color:"bg-yellow-500",text:"Pendente",icon:s}},n=t[e]||t.disconnected,a=n.icon;return r.jsxs(Wi,{className:`${n.color} text-white`,children:[r.jsx(a,{className:"w-3 h-3 mr-1"}),n.text]})};return r.jsxs("div",{className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700 text-white",children:[r.jsxs(Si,{className:"flex flex-row items-center justify-between",children:[r.jsxs(ki,{className:"flex items-center gap-2",children:[r.jsx(fe,{className:"w-5 h-5"}),"Gerenciar Integrações"]}),r.jsxs(Vi,{onClick:()=>{l(null),u(),a(!0)},className:"bg-green-600 hover:bg-green-700",children:[r.jsx(J,{className:"w-4 h-4 mr-2"}),"Nova Integração"]})]}),r.jsxs(Ai,{children:[n&&r.jsxs("div",{className:"p-6 mb-6 bg-gray-700/50 rounded-lg space-y-4 border border-gray-600",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(ge,{className:"w-5 h-5"}),o?"Editando Integração":"Nova Integração"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"name",children:"Nome da Integração"}),r.jsx(Hi,{id:"name",value:c.name,onChange:e=>d({...c,name:e.target.value}),className:"bg-gray-800 border-gray-600 text-white",placeholder:"Ex: WhatsApp Business"})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"type",children:"Tipo"}),r.jsxs(RF,{value:c.type,onValueChange:e=>d({...c,type:e}),children:[r.jsx(LF,{className:"bg-gray-800 border-gray-600 text-white",children:r.jsx(DF,{})}),r.jsxs(UF,{className:"bg-gray-800 text-white",children:[r.jsx(BF,{value:"google",children:"Google"}),r.jsx(BF,{value:"microsoft",children:"Microsoft"}),r.jsx(BF,{value:"whatsapp",children:"WhatsApp"}),r.jsx(BF,{value:"telegram",children:"Telegram"}),r.jsx(BF,{value:"instagram",children:"Instagram"}),r.jsx(BF,{value:"spotify",children:"Spotify"}),r.jsx(BF,{value:"home_assistant",children:"Home Assistant"}),r.jsx(BF,{value:"custom",children:"Personalizada"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Do,{htmlFor:"description",children:"Descrição"}),r.jsx(Sq,{id:"description",value:c.description,onChange:e=>d({...c,description:e.target.value}),className:"bg-gray-800 border-gray-600 text-white",placeholder:"Descreva o que esta integração faz..."})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"api_endpoint",children:"API Endpoint"}),r.jsx(Hi,{id:"api_endpoint",value:c.api_endpoint,onChange:e=>d({...c,api_endpoint:e.target.value}),className:"bg-gray-800 border-gray-600 text-white",placeholder:"https://api.exemplo.com/v1"})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"webhook_url",children:"Webhook URL"}),r.jsx(Hi,{id:"webhook_url",value:c.webhook_url,onChange:e=>d({...c,webhook_url:e.target.value}),className:"bg-gray-800 border-gray-600 text-white",placeholder:"https://webhooks.exemplo.com/callback"})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"auth_type",children:"Tipo de Autenticação"}),r.jsxs(RF,{value:c.auth_type,onValueChange:e=>d({...c,auth_type:e}),children:[r.jsx(LF,{className:"bg-gray-800 border-gray-600 text-white",children:r.jsx(DF,{})}),r.jsxs(UF,{className:"bg-gray-800 text-white",children:[r.jsx(BF,{value:"none",children:"Nenhuma"}),r.jsx(BF,{value:"api_key",children:"API Key"}),r.jsx(BF,{value:"oauth2",children:"OAuth 2.0"}),r.jsx(BF,{value:"bearer",children:"Bearer Token"}),r.jsx(BF,{value:"basic",children:"Basic Auth"})]})]})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"plan_required",children:"Plano Necessário"}),r.jsxs(RF,{value:c.plan_required,onValueChange:e=>d({...c,plan_required:e}),children:[r.jsx(LF,{className:"bg-gray-800 border-gray-600 text-white",children:r.jsx(DF,{})}),r.jsxs(UF,{className:"bg-gray-800 text-white",children:[r.jsx(BF,{value:"free",children:"Gratuito"}),r.jsx(BF,{value:"premium",children:"Premium"}),r.jsx(BF,{value:"enterprise",children:"Enterprise"})]})]})]}),"api_key"===c.auth_type&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Do,{htmlFor:"api_key",children:"API Key"}),r.jsx(Hi,{id:"api_key",type:"password",value:c.api_key,onChange:e=>d({...c,api_key:e.target.value}),className:"bg-gray-800 border-gray-600 text-white",placeholder:"sk-xxxxxxxxxxxxxxxxxxxx"})]}),"oauth2"===c.auth_type&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"client_id",children:"Client ID"}),r.jsx(Hi,{id:"client_id",value:c.client_id,onChange:e=>d({...c,client_id:e.target.value}),className:"bg-gray-800 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"client_secret",children:"Client Secret"}),r.jsx(Hi,{id:"client_secret",type:"password",value:c.client_secret,onChange:e=>d({...c,client_secret:e.target.value}),className:"bg-gray-800 border-gray-600 text-white"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Do,{htmlFor:"permissions",children:"Permissões (separadas por vírgula)"}),r.jsx(Hi,{id:"permissions",value:c.permissions,onChange:e=>d({...c,permissions:e.target.value}),className:"bg-gray-800 border-gray-600 text-white",placeholder:"read_messages, send_messages, manage_contacts"})]}),r.jsxs("div",{className:"md:col-span-2 flex items-center space-x-2",children:[r.jsx(VV,{id:"is_active",checked:c.is_active,onCheckedChange:e=>d({...c,is_active:e})}),r.jsx(Do,{htmlFor:"is_active",children:"Integração Ativa"})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Vi,{onClick:async()=>{const e={...c,permissions:c.permissions.split(",").map(e=>e.trim()).filter(Boolean),status:"disconnected"};o?await po.update(o.id,e):await po.create(e),a(!1),l(null),u(),t()},className:"bg-blue-600 hover:bg-blue-700",children:o?"Salvar Alterações":"Criar Integração"}),r.jsx(Vi,{variant:"outline",onClick:()=>a(!1),className:"border-gray-600 text-white hover:bg-gray-600",children:"Cancelar"})]})]}),r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(_L,{className:"text-white",children:"Nome"}),r.jsx(_L,{className:"text-white",children:"Tipo"}),r.jsx(_L,{className:"text-white",children:"Status"}),r.jsx(_L,{className:"text-white",children:"Plano"}),r.jsx(_L,{className:"text-white",children:"Ativa"}),r.jsx(_L,{className:"text-white",children:"Ações"})]})}),r.jsx(wL,{children:e.map(e=>r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(SL,{className:"font-medium",children:e.name}),r.jsx(SL,{children:r.jsx(Wi,{variant:"outline",className:"border-gray-500 text-gray-300",children:e.type})}),r.jsx(SL,{children:h(e.status)}),r.jsx(SL,{children:r.jsx(Wi,{className:"free"===e.plan_required?"bg-green-500":"premium"===e.plan_required?"bg-blue-500":"bg-purple-500",children:e.plan_required})}),r.jsx(SL,{children:r.jsx(VV,{checked:e.is_active,onCheckedChange:()=>(async e=>{await po.update(e.id,{is_active:!e.is_active}),t()})(e)})}),r.jsxs(SL,{className:"space-x-2",children:[r.jsx(Vi,{variant:"outline",size:"icon",onClick:()=>(e=>{var t;l(e),d({...e,permissions:(null==(t=e.permissions)?void 0:t.join(", "))||""}),a(!0)})(e),children:r.jsx(Z,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"destructive",size:"icon",onClick:()=>(async e=>{confirm("Tem certeza que deseja deletar esta integração?")&&(await po.delete(e),t())})(e.id),children:r.jsx(q,{className:"w-4 h-4"})})]})]},e.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]}),r.jsx(fe,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Conectadas"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:e.filter(e=>"connected"===e.status).length})]}),r.jsx(i,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Ativas"}),r.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.filter(e=>e.is_active).length})]}),r.jsx(s,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Com Erro"}),r.jsx("p",{className:"text-2xl font-bold text-red-400",children:e.filter(e=>"error"===e.status).length})]}),r.jsx(xe,{className:"w-8 h-8 text-red-400"})]})})})]})]})}function Oq(){const[e,t]=at.useState([]),[a,s]=at.useState(!0),[o,l]=at.useState({total:0,connected:0,active:0,premium:0});at.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const e=await _o.list();t(e);const r=e.length,n=e.filter(e=>{var t;return"connected"===(null==(t=e.whatsapp_config)?void 0:t.status)}).length,a=e.filter(e=>e.is_active).length,s=e.filter(e=>"free"!==e.plan_type).length;l({total:r,connected:n,active:a,premium:s})}catch(e){}s(!1)},d=e=>{var t;const n=(null==(t=e.whatsapp_config)?void 0:t.status)||"disconnected";if(!e.is_active)return r.jsx(Wi,{variant:"secondary",className:"bg-gray-500 text-white",children:"Pausado"});switch(n){case"connected":return r.jsx(Wi,{className:"bg-green-500 text-white",children:"Conectado"});case"connecting":return r.jsx(Wi,{className:"bg-blue-500 text-white",children:"Conectando"});default:return r.jsx(Wi,{variant:"outline",className:"border-gray-500 text-gray-600",children:"Desconectado"})}};return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando módulo empresarial..."})]})}):r.jsxs("div",{className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:r.jsx(ye,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-100",children:"Módulo Empresarial"}),r.jsx("p",{className:"text-gray-400 text-sm lg:text-base",children:"Gestão de empresas com WhatsApp Business"})]})]}),r.jsxs("div",{className:"lg:ml-auto flex items-center gap-3",children:[r.jsx(ot,{to:Bo("BusinessOnboarding"),children:r.jsxs(Vi,{className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Nova Empresa",r.jsx(le,{className:"w-4 h-4 ml-2"})]})}),r.jsx(ot,{to:Bo("BusinessDashboard"),children:r.jsxs(Vi,{variant:"outline",className:"border-gray-600 text-white hover:bg-gray-700",children:[r.jsx(me,{className:"w-4 h-4 mr-2"}),"Ver Dashboard",r.jsx(le,{className:"w-4 h-4 ml-2"})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total de Empresas"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:o.total})]}),r.jsx(ve,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"WhatsApp Conectado"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:o.connected})]}),r.jsx(be,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Agentes Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:o.active})]}),r.jsx(ye,{className:"w-8 h-8 text-cyan-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Planos Premium"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:o.premium})]}),r.jsx(ne,{className:"w-8 h-8 text-amber-400"})]})})})]}),r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-xl font-bold text-white",children:"Empresas Registradas"})}),r.jsx(Ai,{children:0===e.length?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ve,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Nenhuma empresa registrada"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"As empresas que se cadastrarem aparecerão aqui"}),r.jsx(ot,{to:Bo("BusinessOnboarding"),children:r.jsxs(Vi,{className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Registrar Primeira Empresa",r.jsx(le,{className:"w-4 h-4 ml-2"})]})})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-white",children:"Empresa"}),r.jsx(_L,{className:"text-white",children:"Categoria"}),r.jsx(_L,{className:"text-white",children:"Agente"}),r.jsx(_L,{className:"text-white",children:"WhatsApp"}),r.jsx(_L,{className:"text-white",children:"Plano"}),r.jsx(_L,{className:"text-white",children:"Status"}),r.jsx(_L,{className:"text-white",children:"Criado em"}),r.jsx(_L,{className:"text-white",children:"Ações"})]})}),r.jsx(wL,{children:e.map(e=>{var t,n,a,s,o;return r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:(o=e.category,{restaurant:"🍕",store:"🛍️",clinic:"🏥",salon:"💄",gym:"🏋️",hotel:"🏨",pharmacy:"💊",automotive:"🚗",education:"📚",other:"🏢"}[o]||"🏢")}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-100",children:e.business_name}),r.jsx("p",{className:"text-sm text-gray-400",children:e.created_by})]})]})}),r.jsx(SL,{children:r.jsx("span",{className:"text-gray-300 capitalize",children:e.category})}),r.jsx(SL,{children:r.jsx("span",{className:"text-gray-300",children:(null==(t=e.agent_config)?void 0:t.agent_name)||"Assistente"})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:["connected"===(null==(n=e.whatsapp_config)?void 0:n.status)?r.jsx(i,{className:"w-4 h-4 text-green-400"}):"connecting"===(null==(a=e.whatsapp_config)?void 0:a.status)?r.jsx(v,{className:"w-4 h-4 text-blue-400"}):r.jsx(xe,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300 text-sm",children:(null==(s=e.whatsapp_config)?void 0:s.phone_number)||"Não conectado"})]})}),r.jsx(SL,{children:r.jsx(Wi,{className:"free"===e.plan_type?"bg-gray-500":"premium"===e.plan_type?"bg-blue-500":"bg-purple-500",children:e.plan_type})}),r.jsx(SL,{children:d(e)}),r.jsx(SL,{className:"text-gray-400",children:new Date(e.created_date).toLocaleDateString("pt-BR")}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ot,{to:Bo("BusinessDashboard"),children:r.jsx(Vi,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r.jsx(me,{className:"w-4 h-4"})})}),r.jsx(ot,{to:Bo("BusinessAgentConfig"),children:r.jsx(Vi,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r.jsx(ye,{className:"w-4 h-4"})})})]})})]},e.id)})})]})})})]})]})}function Aq(){const[e,t]=at.useState({commands:[],stats:{totalCommands:0,avgResponseTime:0,successRate:0,topAgents:[]}}),[a,s]=at.useState(!0),[o,l]=at.useState({agent:"all",status:"all",dateRange:"24h"}),[c,d]=at.useState(""),[u,h]=at.useState(null),[m,p]=at.useState(!1);at.useEffect(()=>{f();const e=setInterval(f,12e4);return()=>clearInterval(e)},[o]);const f=async()=>{s(!0);const e=[{id:1,command:"weather_check",agent_type:"weather",status:"success",execution_time:1.2,timestamp:new Date(Date.now()-3e5).toISOString(),route:"Vision → Weather Agent → OpenWeather API",response_data:{temp:"25°C",condition:"sunny"}},{id:2,command:"send_email",agent_type:"communication",status:"success",execution_time:2.8,timestamp:new Date(Date.now()-6e5).toISOString(),route:"Vision → Email Agent → SMTP Service",response_data:{sent:!0,recipient:"user@example.com"}},{id:3,command:"calendar_create",agent_type:"productivity",status:"error",execution_time:.5,timestamp:new Date(Date.now()-9e5).toISOString(),route:"Vision → Calendar Agent → Google Calendar",error:"Authentication failed"},{id:4,command:"smart_home_control",agent_type:"home",status:"pending",execution_time:null,timestamp:new Date(Date.now()-6e4).toISOString(),route:"Vision → Home Agent → Home Assistant",response_data:null},{id:5,command:"finance_summary",agent_type:"finance",status:"success",execution_time:3.1,timestamp:new Date(Date.now()-12e5).toISOString(),route:"Vision → Finance Agent → Banking API",response_data:{balance:"R$ 2.500,00",transactions:15}}],r={totalCommands:e.length,avgResponseTime:1.9,successRate:80,topAgents:[{name:"Weather Agent",usage:45},{name:"Email Agent",usage:32},{name:"Calendar Agent",usage:28},{name:"Finance Agent",usage:21}]};setTimeout(()=>{t({commands:e,stats:r}),s(!1)},1e3)},g=e=>{h(e),p(!0)},y=e=>{const t={success:{color:"bg-green-500",text:"Sucesso",icon:i},error:{color:"bg-red-500",text:"Erro",icon:xe},pending:{color:"bg-yellow-500",text:"Pendente",icon:v}},n=t[e]||t.pending,a=n.icon;return r.jsxs(Wi,{className:`${n.color} text-white`,children:[r.jsx(a,{className:"w-3 h-3 mr-1"}),n.text]})},j=e.commands.filter(e=>{const t="all"===o.agent||e.agent_type===o.agent,r="all"===o.status||e.status===o.status,n=""===c||e.command.toLowerCase().includes(c.toLowerCase())||e.agent_type.toLowerCase().includes(c.toLowerCase());return t&&r&&n});return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando dados MCP..."})]})}):r.jsxs("div",{className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsx("div",{children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center",children:r.jsx(je,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Painel MCP"}),r.jsx("p",{className:"text-gray-400",children:"Monitoramento avançado da orquestração Model Context Protocol"})]})]})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Vi,{onClick:f,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Atualizar"]}),r.jsxs(Vi,{variant:"outline",className:"border-gray-600 text-white",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),"Logs Avançados"]})]})]}),r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 hover:shadow-lg transition-all duration-300",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total de Comandos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.stats.totalCommands}),r.jsx("p",{className:"text-xs text-green-400",children:"+12% hoje"})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center",children:r.jsx(b,{className:"w-6 h-6 text-blue-400"})})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 hover:shadow-lg transition-all duration-300",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Tempo Médio"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.stats.avgResponseTime,"s"]}),r.jsx("p",{className:"text-xs text-green-400",children:"-0.3s esta semana"})]}),r.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center",children:r.jsx(v,{className:"w-6 h-6 text-green-400"})})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 hover:shadow-lg transition-all duration-300",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Taxa de Sucesso"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.stats.successRate,"%"]}),r.jsx("p",{className:"text-xs text-green-400",children:"+2% esta semana"})]}),r.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center",children:r.jsx(i,{className:"w-6 h-6 text-emerald-400"})})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 hover:shadow-lg transition-all duration-300",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Agentes Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.stats.topAgents.length}),r.jsx("p",{className:"text-xs text-cyan-400",children:"3 novos hoje"})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-full flex items-center justify-center",children:r.jsx(je,{className:"w-6 h-6 text-cyan-400"})})]})})})]}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(we,{className:"w-5 h-5"}),"Filtros Avançados"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(X,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),r.jsx(Hi,{placeholder:"Buscar comandos...",value:c,onChange:e=>d(e.target.value),className:"pl-10 bg-gray-700 border-gray-600 text-white"})]}),r.jsxs(RF,{value:o.agent,onValueChange:e=>l({...o,agent:e}),children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{placeholder:"Agente"})}),r.jsxs(UF,{className:"bg-gray-800 text-white",children:[r.jsx(BF,{value:"all",children:"Todos os Agentes"}),r.jsx(BF,{value:"weather",children:"Weather Agent"}),r.jsx(BF,{value:"communication",children:"Communication Agent"}),r.jsx(BF,{value:"productivity",children:"Productivity Agent"}),r.jsx(BF,{value:"home",children:"Home Agent"}),r.jsx(BF,{value:"finance",children:"Finance Agent"})]})]}),r.jsxs(RF,{value:o.status,onValueChange:e=>l({...o,status:e}),children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{placeholder:"Status"})}),r.jsxs(UF,{className:"bg-gray-800 text-white",children:[r.jsx(BF,{value:"all",children:"Todos os Status"}),r.jsx(BF,{value:"success",children:"Sucesso"}),r.jsx(BF,{value:"error",children:"Erro"}),r.jsx(BF,{value:"pending",children:"Pendente"})]})]}),r.jsxs(RF,{value:o.dateRange,onValueChange:e=>l({...o,dateRange:e}),children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{placeholder:"Período"})}),r.jsxs(UF,{className:"bg-gray-800 text-white",children:[r.jsx(BF,{value:"1h",children:"Última hora"}),r.jsx(BF,{value:"24h",children:"Últimas 24h"}),r.jsx(BF,{value:"7d",children:"Últimos 7 dias"}),r.jsx(BF,{value:"30d",children:"Últimos 30 dias"})]})]}),r.jsxs(Vi,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:[r.jsx(we,{className:"w-4 h-4 mr-2"}),"Aplicar"]})]})})]})}),r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(Ne,{className:"w-5 h-5"}),"Logs de Execução MCP (",j.length,")"]})}),r.jsx(Ai,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-white",children:"Comando"}),r.jsx(_L,{className:"text-white",children:"Agente"}),r.jsx(_L,{className:"text-white",children:"Status"}),r.jsx(_L,{className:"text-white",children:"Tempo"}),r.jsx(_L,{className:"text-white",children:"Timestamp"}),r.jsx(_L,{className:"text-white",children:"Ações"})]})}),r.jsx(wL,{children:j.map(e=>r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-700/50 cursor-pointer transition-colors",onClick:()=>g(e),children:[r.jsx(SL,{className:"font-medium text-gray-300",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),e.command]})}),r.jsx(SL,{className:"text-gray-400 capitalize",children:e.agent_type.replace("_"," ")}),r.jsx(SL,{children:y(e.status)}),r.jsx(SL,{className:"text-gray-400",children:e.execution_time?`${e.execution_time}s`:"-"}),r.jsx(SL,{className:"text-gray-400",children:new Date(e.timestamp).toLocaleString("pt-BR")}),r.jsx(SL,{children:r.jsx(Vi,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300",onClick:t=>{t.stopPropagation(),g(e)},children:r.jsx(le,{className:"w-4 h-4"})})})]},e.id))})]})})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(_e,{className:"w-5 h-5"}),"Rota MCP Ativa"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(n.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Vision"})]}),r.jsx(n.div,{animate:{x:[0,10,0]},transition:{duration:1.5,repeat:1/0},children:r.jsx(_e,{className:"w-5 h-5 text-gray-500"})}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:r.jsx(x,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Agente"})]}),r.jsx(n.div,{animate:{x:[0,10,0]},transition:{duration:1.5,repeat:1/0,delay:.5},children:r.jsx(_e,{className:"w-5 h-5 text-gray-500"})}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx(b,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Execução"})]})]})}),r.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Última rota executada"})]}),r.jsx("p",{className:"text-sm text-gray-300",children:r.jsx("strong",{children:"Vision → Weather Agent → OpenWeather API"})}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[r.jsx("span",{children:"Executado há 5 minutos"}),r.jsx("span",{children:"Tempo: 1.2s"}),r.jsx(Wi,{className:"bg-green-500 text-white",children:"Sucesso"})]})]})]})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(me,{className:"w-5 h-5"}),"Agentes Mais Usados"]})}),r.jsx(Ai,{children:r.jsx("div",{className:"space-y-4",children:e.stats.topAgents.map((e,t)=>r.jsxs(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg hover:bg-gray-700/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+(0===t?"bg-yellow-500":1===t?"bg-gray-400":2===t?"bg-orange-600":"bg-blue-500"),children:r.jsx("span",{className:"text-white font-bold text-sm",children:t+1})}),r.jsx("span",{className:"text-gray-300 font-medium",children:e.name})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-20 h-2 bg-gray-700 rounded-full overflow-hidden",children:r.jsx(n.div,{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full",initial:{width:0},animate:{width:e.usage/50*100+"%"},transition:{duration:1,delay:.2*t}})}),r.jsx("span",{className:"text-sm text-gray-400 font-mono",children:e.usage})]})]},e.name))})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(T,{className:"w-5 h-5"}),"Métricas de Performance"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"CPU Usage"}),r.jsx("span",{className:"text-green-400",children:"23%"})]}),r.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full",children:r.jsx("div",{className:"w-1/4 h-full bg-green-500 rounded-full"})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Memory Usage"}),r.jsx("span",{className:"text-yellow-400",children:"67%"})]}),r.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full",children:r.jsx("div",{className:"w-2/3 h-full bg-yellow-500 rounded-full"})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Network I/O"}),r.jsx("span",{className:"text-blue-400",children:"45%"})]}),r.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full",children:r.jsx("div",{className:"w-2/5 h-full bg-blue-500 rounded-full"})})]})})]})]})]}),m&&u&&r.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>p(!1),children:r.jsx(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-gray-800 rounded-xl border border-gray-700 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Detalhes do Comando"}),r.jsx(Vi,{variant:"ghost",size:"icon",onClick:()=>p(!1),children:r.jsx(I,{className:"w-4 h-4 text-gray-400"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Comando"}),r.jsx("p",{className:"text-white font-medium",children:u.command})]}),r.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Agente"}),r.jsx("p",{className:"text-white font-medium capitalize",children:u.agent_type.replace("_"," ")})]})]}),r.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Rota de Execução"}),r.jsx("p",{className:"text-white",children:u.route})]}),u.response_data&&r.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Dados de Resposta"}),r.jsx("pre",{className:"text-xs text-green-400 overflow-x-auto",children:JSON.stringify(u.response_data,null,2)})]}),u.error&&r.jsxs("div",{className:"bg-red-900/50 rounded-lg p-4 border border-red-500/50",children:[r.jsx("p",{className:"text-sm text-red-400 mb-2",children:"Erro"}),r.jsx("p",{className:"text-red-300",children:u.error})]})]})]})})})]})}function Cq({workflows:e,onSelectWorkflow:t,onWorkflowAction:n}){const a=e=>{switch(e){case"active":return"bg-green-500";case"inactive":default:return"bg-gray-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500"}};return r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(je,{className:"w-5 h-5"}),"Workflows N8N (",e.length,")"]})}),r.jsx(Ai,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-gray-300",children:"Workflow"}),r.jsx(_L,{className:"text-gray-300",children:"Status"}),r.jsx(_L,{className:"text-gray-300",children:"Execuções"}),r.jsx(_L,{className:"text-gray-300",children:"Taxa Sucesso"}),r.jsx(_L,{className:"text-gray-300",children:"Tempo Médio"}),r.jsx(_L,{className:"text-gray-300",children:"Última Execução"}),r.jsx(_L,{className:"text-gray-300",children:"Versão"}),r.jsx(_L,{className:"text-gray-300",children:"Ações"})]})}),r.jsx(wL,{children:e.map(e=>{var o;const l=(e=>{switch(e){case"active":return i;case"inactive":return ke;case"warning":return R;case"error":return xe;default:return b}})(e.status);return r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-700/30",children:[r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center",children:r.jsx(x,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:e.name}),r.jsx("p",{className:"text-sm text-gray-400",children:e.description}),r.jsx("div",{className:"flex gap-1 mt-1",children:null==(o=e.tags)?void 0:o.slice(0,2).map((e,t)=>r.jsx(Wi,{variant:"outline",className:"text-xs border-gray-500 text-gray-400",children:e},t))})]})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(l,{className:"w-4 h-4 "+("active"===e.status?"text-green-400":"warning"===e.status?"text-yellow-400":"error"===e.status?"text-red-400":"text-gray-400")}),r.jsx(Wi,{className:`${a(e.status)} text-white text-xs`,children:e.status})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(b,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-white font-medium",children:e.execution_count})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full "+(e.success_rate>=95?"bg-green-400":e.success_rate>=90?"bg-yellow-400":"bg-red-400")}),r.jsxs("span",{className:"font-medium "+(e.success_rate>=95?"text-green-400":e.success_rate>=90?"text-yellow-400":"text-red-400"),children:[e.success_rate,"%"]})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(v,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:(d=e.avg_execution_time,`${d}s`)})]})}),r.jsx(SL,{children:r.jsx("span",{className:"text-gray-400 text-sm",children:(c=e.last_execution,new Date(c).toLocaleString("pt-BR"))})}),r.jsx(SL,{children:r.jsxs(Wi,{variant:"outline",className:"border-gray-500 text-gray-300",children:["v",e.version]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vi,{variant:"outline",size:"sm",onClick:()=>t(e),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r.jsx(_,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"outline",size:"sm",onClick:()=>n(e.id,"execute"),className:"border-blue-600 text-blue-400 hover:bg-blue-600 hover:text-white",children:r.jsx(C,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"outline",size:"sm",onClick:()=>n(e.id,e.active?"deactivate":"activate"),className:""+(e.active?"border-red-600 text-red-400 hover:bg-red-600 hover:text-white":"border-green-600 text-green-400 hover:bg-green-600 hover:text-white"),children:e.active?r.jsx(ke,{className:"w-4 h-4"}):r.jsx(C,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"outline",size:"sm",onClick:()=>n(e.id,"settings"),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r.jsx(s,{className:"w-4 h-4"})})]})})]},e.id);var c,d})})]})})})]})}function Pq({workflows:e}){const t=e.map(e=>({name:e.name.split(" ")[0],executions:e.execution_count,success_rate:e.success_rate}));return r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(me,{className:"w-5 h-5"}),"Execuções por Workflow"]})}),r.jsx(Ai,{children:r.jsx("div",{className:"h-64",children:r.jsx(Nv,{width:"100%",height:"100%",children:r.jsxs(pL,{data:t,children:[r.jsx(mR,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(nD,{dataKey:"name",stroke:"#9CA3AF",fontSize:12}),r.jsx(pD,{stroke:"#9CA3AF",fontSize:12}),r.jsx(uv,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),r.jsx(oI,{dataKey:"executions",fill:"#8B5CF6",radius:[4,4,0,0]})]})})})})]})}Sq.displayName="Textarea",Sq.propTypes={className:It.string},kq.propTypes={integrations:It.array,onUpdate:It.func};var Eq="Dialog",[Tq,Iq]=AL(Eq),[Mq,Rq]=Tq(Eq),Dq=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=at.useRef(null),c=at.useRef(null),[d,u]=jU({prop:a,defaultProp:s??!1,onChange:i,caller:Eq});return r.jsx(Mq,{scope:t,triggerRef:l,contentRef:c,contentId:az(),titleId:az(),descriptionId:az(),open:d,onOpenChange:u,onOpenToggle:at.useCallback(()=>u(e=>!e),[u]),modal:o,children:n})};Dq.displayName=Eq;var Lq="DialogTrigger",zq=at.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Rq(Lq,n),i=Ti(t,s.triggerRef);return r.jsx(To.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":aW(s.open),...a,ref:i,onClick:OL(e.onClick,s.onOpenToggle)})});zq.displayName=Lq;var $q="DialogPortal",[Uq,Bq]=Tq($q,{forceMount:void 0}),Fq=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:s}=e,i=Rq($q,t);return r.jsx(Uq,{scope:t,forceMount:n,children:at.Children.map(a,e=>r.jsx(oV,{present:n||i.open,children:r.jsx(vU,{asChild:!0,container:s,children:e})}))})};Fq.displayName=$q;var Vq="DialogOverlay",qq=at.forwardRef((e,t)=>{const n=Bq(Vq,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=Rq(Vq,e.__scopeDialog);return i.modal?r.jsx(oV,{present:a||i.open,children:r.jsx(Hq,{...s,ref:t})}):null});qq.displayName=Vq;var Wq=Ii("DialogOverlay.RemoveScroll"),Hq=at.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Rq(Vq,n);return r.jsx(vB,{as:Wq,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(To.div,{"data-state":aW(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Gq="DialogContent",Kq=at.forwardRef((e,t)=>{const n=Bq(Gq,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=Rq(Gq,e.__scopeDialog);return r.jsx(oV,{present:a||i.open,children:i.modal?r.jsx(Xq,{...s,ref:t}):r.jsx(Yq,{...s,ref:t})})});Kq.displayName=Gq;var Xq=at.forwardRef((e,t)=>{const n=Rq(Gq,e.__scopeDialog),a=at.useRef(null),s=Ti(t,n.contentRef,a);return at.useEffect(()=>{const e=a.current;if(e)return TU(e)},[]),r.jsx(Jq,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:OL(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:OL(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:OL(e.onFocusOutside,e=>e.preventDefault())})}),Yq=at.forwardRef((e,t)=>{const n=Rq(Gq,e.__scopeDialog),a=at.useRef(!1),s=at.useRef(!1);return r.jsx(Jq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,i;null==(r=e.onCloseAutoFocus)||r.call(e,t),t.defaultPrevented||(a.current||null==(i=n.triggerRef.current)||i.focus(),t.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:t=>{var r,i;null==(r=e.onInteractOutside)||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const o=t.target;(null==(i=n.triggerRef.current)?void 0:i.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),Jq=at.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Rq(Gq,n),c=at.useRef(null),d=Ti(t,c);return VL(),r.jsxs(r.Fragment,{children:[r.jsx(KL,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:r.jsx($L,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":aW(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(lW,{titleId:l.titleId}),r.jsx(cW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Zq="DialogTitle",Qq=at.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Rq(Zq,n);return r.jsx(To.h2,{id:s.titleId,...a,ref:t})});Qq.displayName=Zq;var eW="DialogDescription",tW=at.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Rq(eW,n);return r.jsx(To.p,{id:s.descriptionId,...a,ref:t})});tW.displayName=eW;var rW="DialogClose",nW=at.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Rq(rW,n);return r.jsx(To.button,{type:"button",...a,ref:t,onClick:OL(e.onClick,()=>s.onOpenChange(!1))})});function aW(e){return e?"open":"closed"}nW.displayName=rW;var sW="DialogTitleWarning",[iW,oW]=function(e,t){const n=at.createContext(t),a=e=>{const{children:t,...a}=e,s=at.useMemo(()=>a,Object.values(a));return r.jsx(n.Provider,{value:s,children:t})};return a.displayName=e+"Provider",[a,function(r){const a=at.useContext(n);if(a)return a;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(sW,{contentName:Gq,titleName:Zq,docsSlug:"dialog"}),lW=({titleId:e})=>{const t=oW(sW),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return at.useEffect(()=>{if(e){document.getElementById(e)}},[r,e]),null},cW=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oW("DialogDescriptionWarning").contentName}}.`;return at.useEffect(()=>{var r;const n=null==(r=e.current)?void 0:r.getAttribute("aria-describedby");if(t&&n){document.getElementById(t)}},[r,e,t]),null},dW=Dq,uW=Fq,hW=qq,mW=Kq,pW=Qq,fW=tW,gW=nW;const xW=SU,yW=dW,vW=zq,bW=uW,jW=at.forwardRef(({className:e,...t},n)=>r.jsx(hW,{ref:n,className:Ni("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jW.displayName=hW.displayName;const wW=at.forwardRef(({className:e,children:t,...n},a)=>{const s=at.Children.toArray(t).some(e=>{var t,r;if(at.isValidElement(e)){if(e.type===SW||e.type===pW)return!0;if(e.type===NW||(null==(r=null==(t=e.props)?void 0:t.className)?void 0:r.includes("DialogHeader")))return at.Children.toArray(e.props.children).some(e=>at.isValidElement(e)&&(e.type===SW||e.type===pW))}return!1});return r.jsxs(bW,{children:[r.jsx(jW,{}),r.jsxs(mW,{ref:a,className:Ni("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[!s&&r.jsx(xW,{children:r.jsx(SW,{children:"Dialog"})}),t,r.jsxs(gW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(I,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});wW.displayName=mW.displayName;const NW=({className:e,...t})=>r.jsx("div",{className:Ni("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});NW.displayName="DialogHeader";const _W=({className:e,...t})=>r.jsx("div",{className:Ni("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_W.displayName="DialogFooter";const SW=at.forwardRef(({className:e,...t},n)=>r.jsx(pW,{ref:n,className:Ni("text-lg font-semibold leading-none tracking-tight",e),...t}));SW.displayName=pW.displayName;const kW=at.forwardRef(({className:e,...t},n)=>r.jsx(fW,{ref:n,className:Ni("text-sm text-muted-foreground",e),...t}));function OW({workflow:e,isOpen:t,onClose:n,onAction:a}){var o,c,d;if(!e)return null;const u=(e=>{switch(e){case"active":return i;case"inactive":return ke;case"warning":return R;case"error":return xe;default:return b}})(e.status);return r.jsx(yW,{open:t,onOpenChange:n,children:r.jsxs(wW,{className:"bg-gray-900 border-gray-700 text-white max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(NW,{children:r.jsxs(SW,{className:"flex items-center gap-3 text-xl",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center",children:r.jsx(x,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("span",{children:e.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(u,{className:"w-4 h-4 "+("active"===e.status?"text-green-400":"warning"===e.status?"text-yellow-400":"error"===e.status?"text-red-400":"text-gray-400")}),r.jsx(Wi,{className:`${(e=>{switch(e){case"active":return"bg-green-500";case"inactive":default:return"bg-gray-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500"}})(e.status)} text-white text-xs`,children:e.status})]})]})]})}),r.jsxs("div",{className:"space-y-6 mt-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(b,{className:"w-5 h-5"}),"Informações do Workflow"]})}),r.jsxs(Ai,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Descrição"}),r.jsx("p",{className:"text-white",children:e.description})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Criado por"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(l,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-white",children:e.created_by})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Versão"}),r.jsxs(Wi,{variant:"outline",className:"border-gray-500 text-gray-300",children:["v",e.version]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Última Execução"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oe,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-white text-sm",children:new Date(e.last_execution).toLocaleString("pt-BR")})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Tags"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:null==(o=e.tags)?void 0:o.map((e,t)=>r.jsx(Wi,{variant:"outline",className:"border-gray-500 text-gray-300",children:e},t))})]})]})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(me,{className:"w-5 h-5"}),"Estatísticas de Performance"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Execuções"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.execution_count})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Taxa de Sucesso"}),r.jsxs("p",{className:"text-2xl font-bold "+(e.success_rate>=95?"text-green-400":e.success_rate>=90?"text-yellow-400":"text-red-400"),children:[e.success_rate,"%"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Tempo Médio"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[e.avg_execution_time,"s"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Conexões"}),r.jsx("p",{className:"text-2xl font-bold text-purple-400",children:e.connections})]})]})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(je,{className:"w-5 h-5"}),"Estrutura do Workflow (",null==(c=e.nodes)?void 0:c.length," nodes)"]})}),r.jsx(Ai,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null==(d=e.nodes)?void 0:d.map((e,t)=>{const n=(e=>{switch(e){case"trigger":return C;case"webhook":return Ae;case"function":return s;case"database":return b;case"email":return l;case"ai":return x;default:return je}})(e.type),a=(e=>{switch(e){case"trigger":return"text-green-400";case"webhook":return"text-blue-400";case"function":return"text-purple-400";case"database":return"text-cyan-400";case"email":return"text-yellow-400";case"ai":return"text-pink-400";default:return"text-gray-400"}})(e.type);return r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-700/30 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:r.jsx(n,{className:`w-5 h-5 ${a}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:e.name}),r.jsx("p",{className:"text-gray-400 text-sm capitalize",children:e.type})]})]},t)})})})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[r.jsxs(Vi,{onClick:()=>a(e.id,"execute"),className:"bg-blue-600 hover:bg-blue-700 flex-1",children:[r.jsx(C,{className:"w-4 h-4 mr-2"}),"Executar Agora"]}),r.jsx(Vi,{onClick:()=>a(e.id,e.active?"deactivate":"activate"),variant:"outline",className:"flex-1 "+(e.active?"border-red-600 text-red-400 hover:bg-red-600 hover:text-white":"border-green-600 text-green-400 hover:bg-green-600 hover:text-white"),children:e.active?r.jsxs(r.Fragment,{children:[r.jsx(ke,{className:"w-4 h-4 mr-2"}),"Desativar"]}):r.jsxs(r.Fragment,{children:[r.jsx(C,{className:"w-4 h-4 mr-2"}),"Ativar"]})}),r.jsxs(Vi,{onClick:()=>a(e.id,"settings"),variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(s,{className:"w-4 h-4 mr-2"}),"Configurar"]})]})]})]})})}kW.displayName=fW.displayName;const AW=[{id:"wf_001",name:"Vision Voice Processing",description:"Processamento de comandos de voz do Vision",active:!0,status:"active",execution_count:1247,success_rate:98.5,last_execution:"2024-01-15T10:30:00Z",avg_execution_time:1.2,tags:["voice","ai","processing"],nodes:[{type:"trigger",name:"Voice Webhook"},{type:"function",name:"Parse Audio"},{type:"openai",name:"Speech to Text"},{type:"function",name:"Process Command"},{type:"webhook",name:"Response"}],connections:12,version:3,created_by:"admin@autvision.com"},{id:"wf_002",name:"User Registration Flow",description:"Fluxo completo de registro de usuários",active:!0,status:"active",execution_count:892,success_rate:99.2,last_execution:"2024-01-15T09:45:00Z",avg_execution_time:.8,tags:["user","registration","email"],nodes:[{type:"webhook",name:"Registration Webhook"},{type:"function",name:"Validate Data"},{type:"database",name:"Create User"},{type:"email",name:"Welcome Email"},{type:"slack",name:"Admin Notification"}],connections:8,version:5,created_by:"admin@autvision.com"},{id:"wf_003",name:"Agent Sync & Analytics",description:"Sincronização de dados dos agentes e analytics",active:!0,status:"active",execution_count:2134,success_rate:97.8,last_execution:"2024-01-15T11:15:00Z",avg_execution_time:2.1,tags:["agents","analytics","sync"],nodes:[{type:"schedule",name:"Daily Trigger"},{type:"database",name:"Fetch Agents"},{type:"function",name:"Calculate Metrics"},{type:"database",name:"Store Analytics"},{type:"webhook",name:"Update Dashboard"}],connections:15,version:2,created_by:"system@autvision.com"},{id:"wf_004",name:"Payment Processing",description:"Processamento de pagamentos e assinaturas",active:!0,status:"warning",execution_count:456,success_rate:94.2,last_execution:"2024-01-15T08:20:00Z",avg_execution_time:3.5,tags:["payment","stripe","billing"],nodes:[{type:"webhook",name:"Payment Webhook"},{type:"stripe",name:"Process Payment"},{type:"function",name:"Update Subscription"},{type:"email",name:"Receipt Email"},{type:"database",name:"Log Transaction"}],connections:10,version:4,created_by:"finance@autvision.com"},{id:"wf_005",name:"WhatsApp Business Integration",description:"Integração com WhatsApp Business para módulo empresarial",active:!1,status:"inactive",execution_count:78,success_rate:89.7,last_execution:"2024-01-10T16:30:00Z",avg_execution_time:4.2,tags:["whatsapp","business","messaging"],nodes:[{type:"webhook",name:"WhatsApp Webhook"},{type:"function",name:"Parse Message"},{type:"ai",name:"Generate Response"},{type:"whatsapp",name:"Send Reply"},{type:"database",name:"Log Conversation"}],connections:18,version:1,created_by:"business@autvision.com"},{id:"wf_006",name:"Backup & Data Export",description:"Backup automático de dados e exportação",active:!0,status:"active",execution_count:365,success_rate:100,last_execution:"2024-01-15T02:00:00Z",avg_execution_time:12.8,tags:["backup","export","maintenance"],nodes:[{type:"schedule",name:"Daily 2AM"},{type:"database",name:"Export Data"},{type:"s3",name:"Upload to S3"},{type:"email",name:"Backup Report"},{type:"cleanup",name:"Clean Old Files"}],connections:6,version:7,created_by:"system@autvision.com"}],CW=[{id:"exec_001",workflow_id:"wf_001",status:"success",started_at:"2024-01-15T11:20:00Z",finished_at:"2024-01-15T11:20:01Z",execution_time:1.2,triggered_by:"webhook"},{id:"exec_002",workflow_id:"wf_002",status:"success",started_at:"2024-01-15T11:18:00Z",finished_at:"2024-01-15T11:18:01Z",execution_time:.9,triggered_by:"webhook"},{id:"exec_003",workflow_id:"wf_004",status:"error",started_at:"2024-01-15T11:15:00Z",finished_at:"2024-01-15T11:15:04Z",execution_time:4.1,triggered_by:"webhook",error:"Payment gateway timeout"}],PW={total_workflows:6,active_workflows:5,total_executions_today:127,success_rate_today:96.8,avg_execution_time:2.1,failed_executions_today:4};function EW(){const[e,t]=at.useState([]),[a,o]=at.useState([]),[l,c]=at.useState({}),[d,u]=at.useState(!1),[h,m]=at.useState(null),[p,f]=at.useState(null),[g,y]=at.useState(!1),[v,j]=at.useState("overview"),[w,N]=at.useState("all"),[_,S]=at.useState("");at.useEffect(()=>{k()},[]);const k=async()=>{u(!0),m(null);try{await new Promise(e=>setTimeout(e,1e3)),t(AW),o(CW),c(PW)}catch(e){m("Erro ao carregar dados do N8N")}finally{u(!1)}},O=async(e,r)=>{try{if("activate"!==r&&"deactivate"!==r||t(t=>t.map(t=>t.id===e?{...t,active:"activate"===r,status:"activate"===r?"active":"inactive"}:t)),"execute"===r){const t={id:`exec_${Date.now()}`,workflow_id:e,status:"running",started_at:(new Date).toISOString(),triggered_by:"manual"};o(e=>[t,...e]),setTimeout(()=>{o(e=>e.map(e=>e.id===t.id?{...e,status:"success",finished_at:(new Date).toISOString(),execution_time:1.5}:e))},2e3)}}catch(n){}},A=e.filter(e=>{const t=e.name.toLowerCase().includes(_.toLowerCase())||e.description.toLowerCase().includes(_.toLowerCase()),r="all"===w||e.status===w;return t&&r});return d?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(L,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando painel N8N..."})]})}):h?r.jsx(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-8 bg-yellow-900/20 border border-yellow-700/50 rounded-lg text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[r.jsx(R,{className:"w-12 h-12 text-yellow-400"}),r.jsx("h3",{className:"text-xl font-bold text-yellow-300",children:"Sistema N8N"}),r.jsx("p",{className:"text-yellow-400",children:h}),r.jsx("p",{className:"text-sm text-yellow-500",children:"Dados simulados carregados para demonstração do painel."}),r.jsxs(Vi,{onClick:k,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Tentar Novamente"]})]})}):r.jsxs("div",{className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl flex items-center justify-center",children:r.jsx(Ce,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-100",children:"Painel N8N"}),r.jsx("p",{className:"text-gray-400 text-sm lg:text-base",children:"Gerenciamento de workflows de automação"})]})]}),r.jsxs("div",{className:"lg:ml-auto flex items-center gap-3",children:[r.jsxs(Vi,{onClick:k,variant:"outline",className:"border-gray-600 text-white hover:bg-gray-700",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Atualizar"]}),r.jsxs(Vi,{onClick:()=>{alert('🚀 Função "Novo Workflow" será implementada na integração com N8N API')},className:"bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Novo Workflow"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Workflows"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:l.total_workflows})]}),r.jsx(je,{className:"w-8 h-8 text-purple-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Workflows Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:l.active_workflows})]}),r.jsx(b,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Execuções Hoje"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:l.total_executions_today})]}),r.jsx(x,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Taxa de Sucesso"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[l.success_rate_today,"%"]})]}),r.jsx(T,{className:"w-8 h-8 text-cyan-400"})]})})})]}),r.jsxs(OV,{value:v,onValueChange:j,className:"space-y-6",children:[r.jsxs(AV,{className:"bg-gray-800/50 border border-gray-700",children:[r.jsxs(CV,{value:"overview",className:"data-[state=active]:bg-purple-600",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),"Visão Geral"]}),r.jsxs(CV,{value:"workflows",className:"data-[state=active]:bg-purple-600",children:[r.jsx(je,{className:"w-4 h-4 mr-2"}),"Workflows"]}),r.jsxs(CV,{value:"executions",className:"data-[state=active]:bg-purple-600",children:[r.jsx(x,{className:"w-4 h-4 mr-2"}),"Execuções"]}),r.jsxs(CV,{value:"monitoring",className:"data-[state=active]:bg-purple-600",children:[r.jsx(W,{className:"w-4 h-4 mr-2"}),"Monitoramento"]})]}),r.jsx(PV,{value:"overview",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Performance dos Workflows"})}),r.jsx(Ai,{children:r.jsx(Pq,{workflows:e})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Execuções Recentes"})}),r.jsx(Ai,{children:r.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(t=>{const n=e.find(e=>e.id===t.workflow_id),a="success"===t.status?i:"error"===t.status?xe:b;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(a,{className:"w-5 h-5 "+("success"===t.status?"text-green-400":"error"===t.status?"text-red-400":"text-blue-400")}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:null==n?void 0:n.name}),r.jsx("p",{className:"text-gray-400 text-sm",children:new Date(t.started_at).toLocaleString("pt-BR")})]})]}),r.jsx(Wi,{className:("success"===t.status?"bg-green-500":"error"===t.status?"bg-red-500":"bg-blue-500")+" text-white",children:t.status})]},t.id)})})})]})]})}),r.jsxs(PV,{value:"workflows",className:"space-y-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Filtros de Workflows"})}),r.jsx(Ai,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Hi,{placeholder:"Buscar workflows...",value:_,onChange:e=>S(e.target.value),className:"bg-gray-700 border-gray-600 text-white"}),r.jsxs(RF,{value:w,onValueChange:N,children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{placeholder:"Filtrar por status"})}),r.jsxs(UF,{className:"bg-gray-800 text-white",children:[r.jsx(BF,{value:"all",children:"Todos os Status"}),r.jsx(BF,{value:"active",children:"Ativo"}),r.jsx(BF,{value:"inactive",children:"Inativo"}),r.jsx(BF,{value:"warning",children:"Aviso"}),r.jsx(BF,{value:"error",children:"Erro"})]})]}),r.jsxs(Vi,{onClick:()=>{alert("⚙️ Configurações do N8N serão implementadas na integração com backend")},className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(s,{className:"w-4 h-4 mr-2"}),"Configurações"]})]})})]}),r.jsx(Cq,{workflows:A,onSelectWorkflow:e=>{f(e),y(!0)},onWorkflowAction:O})]}),r.jsx(PV,{value:"executions",className:"space-y-6",children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Histórico de Execuções"})}),r.jsx(Ai,{children:r.jsx("div",{className:"space-y-4",children:a.map(t=>{const n=e.find(e=>e.id===t.workflow_id),a="success"===t.status?i:"error"===t.status?xe:b;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700/30 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(a,{className:"w-6 h-6 "+("success"===t.status?"text-green-400":"error"===t.status?"text-red-400":"text-blue-400")}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:null==n?void 0:n.name}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["ID: ",t.id]}),t.error&&r.jsxs("p",{className:"text-red-400 text-sm",children:["Erro: ",t.error]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx(Wi,{className:("success"===t.status?"bg-green-500":"error"===t.status?"bg-red-500":"bg-blue-500")+" text-white mb-2",children:t.status}),r.jsx("p",{className:"text-gray-400 text-sm",children:new Date(t.started_at).toLocaleString("pt-BR")}),t.execution_time&&r.jsxs("p",{className:"text-gray-500 text-xs",children:[t.execution_time,"s"]})]})]},t.id)})})})]})}),r.jsx(PV,{value:"monitoring",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Monitoramento em Tempo Real"})}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"CPU Usage"}),r.jsx("span",{className:"text-white",children:"45%"})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"45%"}})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Memory Usage"}),r.jsx("span",{className:"text-white",children:"67%"})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"67%"}})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Active Connections"}),r.jsx("span",{className:"text-white",children:"23"})]})]})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Status do Sistema"})}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"N8N Engine"}),r.jsx(Wi,{className:"bg-green-500 text-white",children:"Online"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Database"}),r.jsx(Wi,{className:"bg-green-500 text-white",children:"Connected"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Redis Cache"}),r.jsx(Wi,{className:"bg-green-500 text-white",children:"Active"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Queue Workers"}),r.jsx(Wi,{className:"bg-yellow-500 text-white",children:"3/5 Active"})]})]})})]})]})})]}),r.jsx(OW,{workflow:p,isOpen:g,onClose:()=>y(!1),onAction:O})]})}function TW(){const{globalData:e,syncModule:t}=ko(),{agents:n}=e;at.useEffect(()=>{(async()=>{try{await t("agents")}catch(e){}})()},[t]);const[a,s]=at.useState(!1),[i,o]=at.useState(null),[l,c]=at.useState(!1),[d,u]=at.useState(null),[h,m]=at.useState({name:"",description:"",type:"work",capabilities:"",icon:"🤖",color:"#6366f1",prompt:"",plan_required:"free",is_active:!0,image_url:"",_imageFile:null}),p=(e=null)=>{e?(o(e),m({name:e.name||"",description:e.description||"",type:e.type||"work",capabilities:Array.isArray(e.capabilities)?e.capabilities.join(", "):"",icon:e.icon||"🤖",color:e.color||"#6366f1",prompt:e.prompt||"",plan_required:e.plan_required||"free",is_active:e.is_active??!0,image_url:e.image_url||"",_imageFile:null}),u(e.image_url||null)):(o(null),m({name:"",description:"",type:"work",capabilities:"",icon:"🤖",color:"#6366f1",prompt:"",plan_required:"free",is_active:!0,image_url:"",_imageFile:null}),u(null)),s(!0)},g=()=>{s(!1),o(null),u(null),c(!1);const e=document.getElementById("image-upload");e&&(e.value=""),m({name:"",description:"",type:"work",capabilities:"",icon:"🤖",color:"#6366f1",prompt:"",plan_required:"free",is_active:!0,image_url:"",_imageFile:null})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Agentes"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Configure e gerencie os agentes de IA da plataforma"})]}),r.jsxs(Vi,{onClick:()=>p(),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(J,{className:"w-4 h-4 mr-2"}),"Novo Agente"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total de Agentes"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:(null==n?void 0:n.length)||0})]}),r.jsx(Se,{className:"w-8 h-8 text-blue-500"})]})})}),r.jsx(_i,{className:"bg-gray-800 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Agentes Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:(null==n?void 0:n.filter(e=>e.is_active).length)||0})]}),r.jsx(b,{className:"w-8 h-8 text-green-500"})]})})}),r.jsx(_i,{className:"bg-gray-800 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Tipos Únicos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:new Set(null==n?void 0:n.map(e=>e.type)).size||0})]}),r.jsx(x,{className:"w-8 h-8 text-yellow-500"})]})})}),r.jsx(_i,{className:"bg-gray-800 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Performance"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"98%"})]}),r.jsx(T,{className:"w-8 h-8 text-purple-500"})]})})})]}),r.jsxs(_i,{className:"bg-gray-800 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Lista de Agentes"})}),r.jsx(Ai,{children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-gray-300",children:"Agente"}),r.jsx(_L,{className:"text-gray-300",children:"Tipo"}),r.jsx(_L,{className:"text-gray-300",children:"Plano"}),r.jsx(_L,{className:"text-gray-300",children:"Status"}),r.jsx(_L,{className:"text-gray-300",children:"Ações"})]})}),r.jsx(wL,{children:null==n?void 0:n.map(e=>{var n,a,s;return r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:[e.image_url||e.image?r.jsx("img",{src:e.image_url||e.image,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,r.jsx("span",{className:"text-lg",style:{display:e.image_url||e.image?"none":"flex"},children:e.icon||e.emoji||"🤖"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:e.name}),r.jsxs("p",{className:"text-gray-400 text-sm",children:[null==(n=e.description)?void 0:n.substring(0,50),"..."]})]})]})}),r.jsx(SL,{children:r.jsx(Wi,{className:`${s=e.type,{work:"bg-blue-500",social:"bg-green-500",entertainment:"bg-purple-500",education:"bg-orange-500",health:"bg-red-500",finance:"bg-yellow-500"}[s]||"bg-gray-500"} text-white`,children:e.type})}),r.jsx(SL,{children:r.jsx(Wi,{className:(a=e.plan_required,{free:"bg-green-100 text-green-800",basic:"bg-blue-100 text-blue-800",premium:"bg-purple-100 text-purple-800",enterprise:"bg-orange-100 text-orange-800"}[a]||"bg-gray-100 text-gray-800"),children:e.plan_required})}),r.jsx(SL,{children:r.jsx(VV,{checked:e.is_active,onCheckedChange:()=>(async e=>{try{await ho.update(e.id,{is_active:!e.is_active}),await t("agents")}catch(r){alert("Erro ao alterar status do agente.")}})(e)})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Vi,{variant:"outline",size:"icon",onClick:()=>p(e),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r.jsx(Z,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"outline",size:"icon",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja deletar este agente?"))try{await ho.delete(e),await t("agents")}catch(r){alert("Erro ao deletar agente.")}})(e.id),className:"border-red-600 text-red-400 hover:bg-red-900",children:r.jsx(q,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]}),r.jsx(yW,{open:a,onOpenChange:s,children:r.jsxs(wW,{className:"bg-gray-800 border-gray-700 text-white max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(NW,{children:r.jsx(SW,{className:"text-xl font-bold",children:i?"Editar Agente":"Criar Novo Agente"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Nome do Agente"}),r.jsx(Hi,{placeholder:"Ex: Assistente de Vendas",value:h.name,onChange:e=>m(t=>({...t,name:e.target.value})),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Tipo"}),r.jsxs(RF,{value:h.type,onValueChange:e=>m(t=>({...t,type:e})),children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{})}),r.jsxs(UF,{className:"bg-gray-700 border-gray-600",children:[r.jsx(BF,{value:"work",children:"Trabalho"}),r.jsx(BF,{value:"social",children:"Social"}),r.jsx(BF,{value:"entertainment",children:"Entretenimento"}),r.jsx(BF,{value:"education",children:"Educação"}),r.jsx(BF,{value:"health",children:"Saúde"}),r.jsx(BF,{value:"finance",children:"Finanças"})]})]})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Plano Necessário"}),r.jsxs(RF,{value:h.plan_required,onValueChange:e=>m(t=>({...t,plan_required:e})),children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{})}),r.jsxs(UF,{className:"bg-gray-700 border-gray-600",children:[r.jsx(BF,{value:"free",children:"Gratuito"}),r.jsx(BF,{value:"basic",children:"Básico"}),r.jsx(BF,{value:"premium",children:"Premium"}),r.jsx(BF,{value:"enterprise",children:"Enterprise"})]})]})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Ícone"}),r.jsx(Hi,{placeholder:"🤖",value:h.icon,onChange:e=>m(t=>({...t,icon:e.target.value})),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Cor"}),r.jsx(Hi,{type:"color",value:h.color,onChange:e=>m(t=>({...t,color:e.target.value})),className:"bg-gray-700 border-gray-600 h-10"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(VV,{checked:h.is_active,onCheckedChange:e=>m(t=>({...t,is_active:e}))}),r.jsx(Do,{className:"text-gray-300",children:"Ativo"})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300 text-lg font-semibold mb-4 block",children:"Imagem do Agente"}),r.jsxs("div",{className:"mb-4",children:[r.jsx(Do,{className:"text-gray-300 text-sm mb-2 block",children:"Escolher da galeria:"}),r.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto border border-gray-600 rounded p-2",children:["/assets/images/agents/agent-ADA.jpeg","/assets/images/agents/agent-Ads.jpeg","/assets/images/agents/agent-Auto.jpeg","/assets/images/agents/agent-Echo.jpeg","/assets/images/agents/agent-Friend.jpeg","/assets/images/agents/agent-Guardian.jpeg","/assets/images/agents/agent-Nova.jpeg","/assets/images/agents/agent-Social.jpeg","/assets/images/agents/agent-echo.png","/assets/images/agents/agent-guardian.png","/assets/images/agents/agent-nova.png","/assets/images/agents/agent-vision.png"].map((e,t)=>r.jsx("div",{className:`cursor-pointer border-2 rounded overflow-hidden ${h.image_url===e?"border-blue-500":"border-gray-600"} hover:border-blue-400 transition-colors`,onClick:()=>{m(t=>({...t,image_url:e,_imageFile:null})),u(e)},children:r.jsx("img",{src:e,alt:`Agent ${t+1}`,className:"w-full h-12 object-cover",onError:e=>{e.target.style.opacity="0.3"}})},t))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx(Do,{className:"text-gray-300 text-sm mb-2 block",children:"Ou fazer upload:"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-4 text-center hover:border-gray-500 transition-colors",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)alert("A imagem deve ter no máximo 5MB.");else try{const e=new FileReader;e.onload=e=>{const r=e.target.result;u(r),m(e=>({...e,image_url:r,_imageFile:t}))},e.readAsDataURL(t)}catch(r){alert("Erro ao processar a imagem. Tente novamente.")}else alert("Por favor, selecione apenas arquivos de imagem.")},className:"hidden",id:"image-upload"}),r.jsxs(Do,{htmlFor:"image-upload",className:"cursor-pointer",children:[r.jsx(Pe,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400",children:"Clique para fazer upload"}),r.jsx("p",{className:"text-gray-500 text-xs",children:"PNG, JPG até 5MB"})]})]})]}),(d||h.image_url)&&r.jsxs("div",{className:"relative",children:[r.jsx(Do,{className:"text-gray-300 text-sm mb-2 block",children:"Preview:"}),r.jsx("img",{src:d||h.image_url,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border-2 border-gray-600",onError:e=>{}}),r.jsx(Vi,{variant:"ghost",size:"icon",onClick:()=>{u(null);const e=document.getElementById("image-upload");e&&(e.value=""),m(e=>({...e,image_url:"",_imageFile:null}))},className:"absolute top-8 right-2 bg-red-500 hover:bg-red-600 text-white",children:r.jsx(I,{className:"w-4 h-4"})})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300 text-sm mb-2 block",children:"Ou inserir URL manualmente:"}),r.jsx(Hi,{placeholder:"/assets/images/agents/agent.png",value:h.image_url,onChange:e=>{m(t=>({...t,image_url:e.target.value,_imageFile:null})),e.target.value&&u(e.target.value)},className:"bg-gray-700 border-gray-600 text-white"})]})]})})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Descrição"}),r.jsx(Sq,{placeholder:"Descreva as funções do agente...",value:h.description,onChange:e=>m(t=>({...t,description:e.target.value})),className:"bg-gray-700 border-gray-600 text-white min-h-[100px] resize-vertical"})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Capacidades (separadas por vírgula)"}),r.jsx(Hi,{placeholder:"análise de dados, relatórios, automação",value:h.capabilities,onChange:e=>m(t=>({...t,capabilities:e.target.value})),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Prompt do Sistema"}),r.jsx(Sq,{placeholder:"Você é um assistente especializado em...",value:h.prompt,onChange:e=>m(t=>({...t,prompt:e.target.value})),className:"bg-gray-700 border-gray-600 text-white min-h-[120px] resize-vertical"})]}),r.jsxs(_W,{children:[r.jsx(Vi,{variant:"outline",onClick:g,className:"border-gray-600 text-gray-300",children:"Cancelar"}),r.jsx(Vi,{onClick:async()=>{var e,r,n,a,s,o,l,d;if(c(!0),!(null==(e=h.name)?void 0:e.trim()))return alert("Nome do agente é obrigatório"),void c(!1);if(!(null==(r=h.type)?void 0:r.trim()))return alert("Tipo do agente é obrigatório"),void c(!1);const{_imageFile:u,...m}={...h,capabilities:"string"==typeof h.capabilities?h.capabilities.split(",").map(e=>e.trim()).filter(Boolean):Array.isArray(h.capabilities)?h.capabilities:[],icon:h.icon||"🤖",color:h.color||"#6366f1",prompt:h.prompt||`Você é ${h.name}, um assistente de IA especializado em ${h.type}.`,image_url:(null==(n=h.image_url)?void 0:n.startsWith("/assets/"))?h.image_url:(null==(a=h.image_url)?void 0:a.startsWith("data:"))?"":h.image_url};try{let e;if(i){if(e=await ho.update(i.id,m),u&&!(null==(s=h.image_url)?void 0:s.startsWith("/assets/")))try{await ho.uploadImage(i.id,u)}catch(p){alert("Agente salvo, mas houve erro no upload da imagem. Tente novamente.")}}else if(e=await ho.create(m),u&&(null==e?void 0:e.id)&&!(null==(o=h.image_url)?void 0:o.startsWith("/assets/")))try{await ho.uploadImage(e.id,u)}catch(p){alert("Agente criado, mas houve erro no upload da imagem. Você pode editá-lo para adicionar a imagem.")}await t("agents"),g()}catch(f){const e=(null==(d=null==(l=f.response)?void 0:l.data)?void 0:d.message)||f.message||"Erro desconhecido";alert(`Erro ao salvar agente: ${e}`)}finally{c(!1)}},disabled:l,className:"bg-blue-600 hover:bg-blue-700",children:l?r.jsxs(r.Fragment,{children:[r.jsx(f,{className:"w-4 h-4 mr-2 animate-spin"}),"Salvando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(G,{className:"w-4 h-4 mr-2"}),i?"Atualizar":"Criar"," Agente"]})})]})]})})]})}var IW="ScrollArea",[MW,RW]=AL(IW),[DW,LW]=MW(IW),zW=at.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:a="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=at.useState(null),[d,u]=at.useState(null),[h,m]=at.useState(null),[p,f]=at.useState(null),[g,x]=at.useState(null),[y,v]=at.useState(0),[b,j]=at.useState(0),[w,N]=at.useState(!1),[_,S]=at.useState(!1),k=Ti(t,e=>c(e)),O=TL(s);return r.jsx(DW,{scope:n,type:a,dir:O,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:f,scrollbarXEnabled:w,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:_,onScrollbarYEnabledChange:S,onCornerWidthChange:v,onCornerHeightChange:j,children:r.jsx(To.div,{dir:O,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});zW.displayName=IW;var $W="ScrollAreaViewport",UW=at.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:a,nonce:s,...i}=e,o=LW($W,n),l=Ti(t,at.useRef(null),o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(To.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});UW.displayName=$W;var BW="ScrollAreaScrollbar",FW=at.forwardRef((e,t)=>{const{forceMount:n,...a}=e,s=LW(BW,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l="horizontal"===e.orientation;return at.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),"hover"===s.type?r.jsx(VW,{...a,ref:t,forceMount:n}):"scroll"===s.type?r.jsx(qW,{...a,ref:t,forceMount:n}):"auto"===s.type?r.jsx(WW,{...a,ref:t,forceMount:n}):"always"===s.type?r.jsx(HW,{...a,ref:t}):null});FW.displayName=BW;var VW=at.forwardRef((e,t)=>{const{forceMount:n,...a}=e,s=LW(BW,e.__scopeScrollArea),[i,o]=at.useState(!1);return at.useEffect(()=>{const e=s.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),o(!0)},n=()=>{t=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[s.scrollArea,s.scrollHideDelay]),r.jsx(oV,{present:n||i,children:r.jsx(WW,{"data-state":i?"visible":"hidden",...a,ref:t})})}),qW=at.forwardRef((e,t)=>{const{forceMount:n,...a}=e,s=LW(BW,e.__scopeScrollArea),i="horizontal"===e.orientation,o=uH(()=>c("SCROLL_END"),100),[l,c]=(d="hidden",u={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},at.useReducer((e,t)=>u[e][t]??e,d));var d,u;return at.useEffect(()=>{if("idle"===l){const e=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,s.scrollHideDelay,c]),at.useEffect(()=>{const e=s.viewport,t=i?"scrollLeft":"scrollTop";if(e){let r=e[t];const n=()=>{const n=e[t];r!==n&&(c("SCROLL"),o()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[s.viewport,i,c,o]),r.jsx(oV,{present:n||"hidden"!==l,children:r.jsx(HW,{"data-state":"hidden"===l?"hidden":"visible",...a,ref:t,onPointerEnter:OL(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:OL(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),WW=at.forwardRef((e,t)=>{const n=LW(BW,e.__scopeScrollArea),{forceMount:a,...s}=e,[i,o]=at.useState(!1),l="horizontal"===e.orientation,c=uH(()=>{if(n.viewport){const e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?e:t)}},10);return hH(n.viewport,c),hH(n.content,c),r.jsx(oV,{present:a||i,children:r.jsx(HW,{"data-state":i?"visible":"hidden",...s,ref:t})})}),HW=at.forwardRef((e,t)=>{const{orientation:n="vertical",...a}=e,s=LW(BW,e.__scopeScrollArea),i=at.useRef(null),o=at.useRef(0),[l,c]=at.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=sH(l.viewport,l.content),u={...a,sizes:l,onSizesChange:c,hasThumb:Boolean(d>0&&d<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function h(e,t){return function(e,t,r,n="ltr"){const a=iH(r),s=a/2,i=t||s,o=a-i,l=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,u="ltr"===n?[0,d]:[-1*d,0];return lH([l,c],u)(e)}(e,o.current,l,t)}return"horizontal"===n?r.jsx(GW,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const e=oH(s.viewport.scrollLeft,l,s.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollLeft=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollLeft=h(e,s.dir))}}):"vertical"===n?r.jsx(KW,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const e=oH(s.viewport.scrollTop,l);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollTop=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollTop=h(e))}}):null}),GW=at.forwardRef((e,t)=>{const{sizes:n,onSizesChange:a,...s}=e,i=LW(BW,e.__scopeScrollArea),[o,l]=at.useState(),c=at.useRef(null),d=Ti(t,c,i.onScrollbarXChange);return at.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(JW,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":iH(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(i.viewport){const n=i.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),cH(n,r)&&t.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:aH(o.paddingLeft),paddingEnd:aH(o.paddingRight)}})}})}),KW=at.forwardRef((e,t)=>{const{sizes:n,onSizesChange:a,...s}=e,i=LW(BW,e.__scopeScrollArea),[o,l]=at.useState(),c=at.useRef(null),d=Ti(t,c,i.onScrollbarYChange);return at.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(JW,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":iH(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(i.viewport){const n=i.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),cH(n,r)&&t.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:aH(o.paddingTop),paddingEnd:aH(o.paddingBottom)}})}})}),[XW,YW]=MW(BW),JW=at.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,p=LW(BW,n),[f,g]=at.useState(null),x=Ti(t,e=>g(e)),y=at.useRef(null),v=at.useRef(""),b=p.viewport,j=a.content-a.viewport,w=IL(u),N=IL(c),_=uH(h,10);function S(e){if(y.current){const t=e.clientX-y.current.left,r=e.clientY-y.current.top;d({x:t,y:r})}}return at.useEffect(()=>{const e=e=>{const t=e.target;(null==f?void 0:f.contains(t))&&w(e,j)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[b,f,j,w]),at.useEffect(N,[a,N]),hH(f,_),hH(p.content,_),r.jsx(XW,{scope:n,scrollbar:f,hasThumb:s,onThumbChange:IL(i),onThumbPointerUp:IL(o),onThumbPositionChange:N,onThumbPointerDown:IL(l),children:r.jsx(To.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:OL(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),y.current=f.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),S(e)}}),onPointerMove:OL(e.onPointerMove,S),onPointerUp:OL(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),ZW="ScrollAreaThumb",QW=at.forwardRef((e,t)=>{const{forceMount:n,...a}=e,s=YW(ZW,e.__scopeScrollArea);return r.jsx(oV,{present:n||s.hasThumb,children:r.jsx(eH,{ref:t,...a})})}),eH=at.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:a,...s}=e,i=LW(ZW,n),o=YW(ZW,n),{onThumbPositionChange:l}=o,c=Ti(t,e=>o.onThumbChange(e)),d=at.useRef(void 0),u=uH(()=>{d.current&&(d.current(),d.current=void 0)},100);return at.useEffect(()=>{const e=i.viewport;if(e){const t=()=>{if(u(),!d.current){const t=dH(e,l);d.current=t,l()}};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[i.viewport,u,l]),r.jsx(To.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:OL(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;o.onThumbPointerDown({x:r,y:n})}),onPointerUp:OL(e.onPointerUp,o.onThumbPointerUp)})});QW.displayName=ZW;var tH="ScrollAreaCorner",rH=at.forwardRef((e,t)=>{const n=LW(tH,e.__scopeScrollArea),a=Boolean(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&a?r.jsx(nH,{...e,ref:t}):null});rH.displayName=tH;var nH=at.forwardRef((e,t)=>{const{__scopeScrollArea:n,...a}=e,s=LW(tH,n),[i,o]=at.useState(0),[l,c]=at.useState(0),d=Boolean(i&&l);return hH(s.scrollbarX,()=>{var e;const t=(null==(e=s.scrollbarX)?void 0:e.offsetHeight)||0;s.onCornerHeightChange(t),c(t)}),hH(s.scrollbarY,()=>{var e;const t=(null==(e=s.scrollbarY)?void 0:e.offsetWidth)||0;s.onCornerWidthChange(t),o(t)}),d?r.jsx(To.div,{...a,ref:t,style:{width:i,height:l,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}}):null});function aH(e){return e?parseInt(e,10):0}function sH(e,t){const r=e/t;return isNaN(r)?0:r}function iH(e){const t=sH(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function oH(e,t,r="ltr"){const n=iH(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,o=s-n,l=kL(e,"ltr"===r?[0,i]:[-1*i,0]);return lH([0,i],[0,o])(l)}function lH(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function cH(e,t){return e>0&&e<t}var dH=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,o=r.top!==s.top;(i||o)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function uH(e,t){const r=IL(e),n=at.useRef(0);return at.useEffect(()=>()=>window.clearTimeout(n.current),[]),at.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function hH(e,t){const r=IL(t);tz(()=>{let t=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}var mH=zW,pH=UW,fH=rH;const gH=at.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(mH,{ref:a,className:Ni("relative overflow-hidden",e),...n,children:[r.jsx(pH,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(xH,{}),r.jsx(fH,{})]}));gH.displayName=mH.displayName;const xH=at.forwardRef(({className:e,orientation:t="vertical",...n},a)=>r.jsx(FW,{ref:a,orientation:t,className:Ni("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(QW,{className:"relative flex-1 rounded-full bg-border"})}));xH.displayName=FW.displayName;const yH="ADD_TOAST",vH="UPDATE_TOAST",bH="DISMISS_TOAST",jH="REMOVE_TOAST";let wH=0;const NH=new Map,_H=e=>{if(NH.has(e))return;const t=setTimeout(()=>{NH.delete(e),AH({type:jH,toastId:e})},1e6);NH.set(e,t)},SH=(e,t)=>{switch(t.type){case yH:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case vH:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case bH:{const{toastId:r}=t;return r?_H(r):e.toasts.forEach(e=>{_H(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case jH:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},kH=[];let OH={toasts:[]};function AH(e){OH=SH(OH,e),kH.forEach(e=>{e(OH)})}function CH({...e}){const t=(wH=(wH+1)%Number.MAX_VALUE,wH.toString()),r=()=>AH({type:bH,toastId:t});return AH({type:yH,toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>AH({type:vH,toast:{...e,id:t}})}}function PH(){const[e,t]=at.useState(OH);return at.useEffect(()=>(kH.push(t),()=>{const e=kH.indexOf(t);e>-1&&kH.splice(e,1)}),[e]),{...e,toast:CH,dismiss:e=>AH({type:bH,toastId:e})}}function EH({className:e,...t}){return r.jsx("div",{className:Ni("animate-pulse rounded-md bg-primary/10",e),...t})}const TH=()=>{const{toast:e}=PH(),{user:t,userProfile:n}=fs(),[a,o]=at.useState(!0),[l,d]=at.useState([]),[u,h]=at.useState([]),[f,g]=at.useState([]),[x,y]=at.useState(null),[v,b]=at.useState(!1),[j,w]=at.useState(!1),[N,S]=at.useState(!1),[k,O]=at.useState(!1),[A,P]=at.useState(null),[T,I]=at.useState({default_voice_id:"pt-br-female-1",voice_name:"Ana Clara",enabled:!0}),[M,R]=at.useState({voice_id:"",voice_name:"",description:"",language:"pt-BR",gender:"",age_range:"",voice_type:"standard",price_tokens:0,preview_text:"Olá! Esta é uma amostra da minha voz.",is_available:!0,is_premium:!1}),D="digitalinfluenceradm@gmail.com"===(null==t?void 0:t.email)||"admin"===(null==n?void 0:n.role);at.useEffect(()=>{D&&(L(),W())},[D]);const L=async()=>{o(!0);try{await Promise.all([z(),$(),U()])}catch(t){e({title:"Erro ao carregar dados",description:"Não foi possível carregar os dados do painel.",variant:"destructive"})}finally{o(!1)}},z=async()=>{const{data:e,error:t}=await is.from("available_voices").select("*").order("created_at",{ascending:!1});if(t)throw t;d(e||[])},$=async()=>{const{data:e,error:t}=await is.from("user_voice_details").select("*").order("user_name");if(t)throw t;h(e||[])},U=async()=>{const{data:e,error:t}=await is.from("voice_usage_stats").select("*");if(t)throw t;g(e||[])},B=async(t,r=null)=>{let n,a,s;"object"==typeof t&&null!==t?(n=t,a=n.id||n.voice_id,s=r||n.preview_text||"Olá! Esta é uma amostra da minha voz."):(a=t,n=l.find(e=>e.id===a||e.voice_id===a),s=r||(null==n?void 0:n.preview_text)||"Olá! Esta é uma amostra da minha voz.");const i=(null==n?void 0:n.voice_id)||a,o=(null==n?void 0:n.id)||a;if(A===o)return P(null),void document.querySelectorAll("audio").forEach(e=>{e.pause(),e.currentTime=0});try{P(o),e({title:"Carregando amostra",description:`Preparando amostra da voz ${(null==n?void 0:n.voice_name)||i}...`,duration:2e3});const t=await fetch("http://localhost:3001/voice/synthesize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:s,voice_id:i,speed:1,pitch:0})});if(!t.ok){const e=await t.text();throw new Error(`Falha na síntese de voz: ${t.status} - ${e}`)}const r=await t.json();if(!r.success)throw new Error(r.error||"Erro na síntese");const a=r.data.audio_url.startsWith("http")?r.data.audio_url:`http://localhost:3001${r.data.audio_url}`,l=new Audio(a);l.onended=()=>{P(null),e({title:"Reprodução concluída",description:`Teste da voz ${(null==n?void 0:n.voice_name)||i} finalizado.`,duration:2e3})},l.onerror=t=>{P(null),e({title:"Erro ao reproduzir",description:"Não foi possível reproduzir a amostra de voz.",variant:"destructive"})},await l.play(),e({title:"Reproduzindo amostra",description:`Testando voz: ${(null==n?void 0:n.voice_name)||i}`,duration:3e3})}catch(c){P(null),e({title:"Erro na amostra",description:c.message||"Não foi possível carregar a amostra de voz.",variant:"destructive"})}},F=()=>{R({voice_id:"",voice_name:"",description:"",language:"pt-BR",gender:"",age_range:"",voice_type:"standard",price_tokens:0,preview_text:"Olá! Esta é uma amostra da minha voz.",is_available:!0,is_premium:!1}),y(null)},V=(e=T)=>{try{localStorage.setItem("vision_voice_config",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("visionVoiceConfigUpdated",{detail:e}))}catch(t){}},W=async()=>{try{const{data:e,error:t}=await is.from("system_settings").select("value").eq("key","vision_voice_config").single();if(t&&"PGRST116"!==t.code)throw t;e&&e.value&&(I(e.value),localStorage.setItem("vision_voice_config",JSON.stringify(e.value)))}catch(e){}};return D?a?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsxs(Si,{children:[r.jsx(EH,{className:"h-4 w-32 bg-gray-700"}),r.jsx(EH,{className:"h-8 w-16 bg-gray-600"})]})},e))}),r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:[r.jsx(Si,{children:r.jsx(EH,{className:"h-6 w-48 bg-gray-700"})}),r.jsx(Ai,{children:r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsx(EH,{className:"h-16 w-full bg-gray-700"},e))})})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Gerenciamento de Vozes"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie vozes personalizadas e configurações de áudio"})]}),r.jsxs(yW,{open:v,onOpenChange:b,children:[r.jsx(vW,{asChild:!0,children:r.jsxs(Vi,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Nova Voz"]})}),r.jsxs(wW,{className:"max-w-md",children:[r.jsxs(NW,{children:[r.jsx(SW,{children:"Criar Nova Voz"}),r.jsx(kW,{children:"Adicione uma nova voz personalizada ao sistema"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"voice_id",children:"ID da Voz"}),r.jsx(Hi,{id:"voice_id",value:M.voice_id,onChange:e=>R({...M,voice_id:e.target.value}),placeholder:"ex: voice_001"})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"voice_name",children:"Nome da Voz"}),r.jsx(Hi,{id:"voice_name",value:M.voice_name,onChange:e=>R({...M,voice_name:e.target.value}),placeholder:"ex: Ana Clara"})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"description",children:"Descrição"}),r.jsx(Sq,{id:"description",value:M.description,onChange:e=>R({...M,description:e.target.value}),placeholder:"Descrição da voz..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"language",children:"Idioma"}),r.jsxs(RF,{value:M.language,onValueChange:e=>R({...M,language:e}),children:[r.jsx(LF,{children:r.jsx(DF,{})}),r.jsxs(UF,{children:[r.jsx(BF,{value:"pt-BR",children:"Português (BR)"}),r.jsx(BF,{value:"en-US",children:"English (US)"}),r.jsx(BF,{value:"es-ES",children:"Español"})]})]})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"gender",children:"Gênero"}),r.jsxs(RF,{value:M.gender,onValueChange:e=>R({...M,gender:e}),children:[r.jsx(LF,{children:r.jsx(DF,{})}),r.jsxs(UF,{children:[r.jsx(BF,{value:"feminino",children:"Feminino"}),r.jsx(BF,{value:"masculino",children:"Masculino"}),r.jsx(BF,{value:"neutro",children:"Neutro"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"price_tokens",children:"Preço (Tokens)"}),r.jsx(Hi,{id:"price_tokens",type:"number",value:M.price_tokens,onChange:e=>R({...M,price_tokens:parseInt(e.target.value)||0})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(VV,{id:"is_premium",checked:M.is_premium,onCheckedChange:e=>R({...M,is_premium:e})}),r.jsx(Do,{htmlFor:"is_premium",children:"Voz Premium"})]})]}),r.jsxs(_W,{children:[r.jsx(Vi,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),r.jsx(Vi,{onClick:async()=>{try{const{error:t}=await is.from("available_voices").insert([M]);if(t)throw t;e({title:"Voz criada",description:"Nova voz adicionada com sucesso!",type:"success"}),b(!1),F(),z()}catch(t){e({title:"Erro ao criar voz",description:t.message,type:"error"})}},children:"Criar Voz"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 hover:shadow-lg transition-all duration-300",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total de Vozes"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:l.length}),r.jsxs("p",{className:"text-xs text-green-400",children:[l.filter(e=>e.is_available).length," ativas"]})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center",children:r.jsx(c,{className:"w-6 h-6 text-blue-400"})})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 hover:shadow-lg transition-all duration-300",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Usuários com Vozes"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:u.length}),r.jsx("p",{className:"text-xs text-cyan-400",children:"Perfis configurados"})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-full flex items-center justify-center",children:r.jsx(E,{className:"w-6 h-6 text-cyan-400"})})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 hover:shadow-lg transition-all duration-300",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Vozes Premium"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:l.filter(e=>e.is_premium).length}),r.jsx("p",{className:"text-xs text-purple-400",children:"Disponíveis"})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center",children:r.jsx(p,{className:"w-6 h-6 text-purple-400"})})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 hover:shadow-lg transition-all duration-300",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Uso Total"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:f.reduce((e,t)=>e+(t.usage_count||0),0)}),r.jsx("p",{className:"text-xs text-green-400",children:"Sínteses realizadas"})]}),r.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center",children:r.jsx(Ee,{className:"w-6 h-6 text-green-400"})})]})})})]}),r.jsxs(OV,{defaultValue:"voices",className:"space-y-4",children:[r.jsxs(AV,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:[r.jsx(CV,{value:"voices",className:"text-gray-300 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-purple-600 data-[state=active]:text-white",children:"Vozes Disponíveis"}),r.jsx(CV,{value:"vision-config",className:"text-gray-300 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-purple-600 data-[state=active]:text-white",children:"Vision Command"}),r.jsx(CV,{value:"users",className:"text-gray-300 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-purple-600 data-[state=active]:text-white",children:"Perfis de Usuários"}),r.jsx(CV,{value:"stats",className:"text-gray-300 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-purple-600 data-[state=active]:text-white",children:"Estatísticas"})]}),r.jsx(PV,{value:"voices",className:"space-y-4",children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 shadow-lg",children:[r.jsxs(Si,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-lg",children:[r.jsxs(ki,{className:"flex items-center gap-2",children:[r.jsx(c,{className:"w-5 h-5"}),"Vozes Disponíveis"]}),r.jsx(Oi,{className:"text-blue-100",children:"Gerencie todas as vozes disponíveis no sistema"})]}),r.jsx(Ai,{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(t=>r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[r.jsxs(Si,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ki,{className:"text-lg text-white",children:t.voice_name}),r.jsx(Wi,{variant:t.is_premium?"default":"secondary",className:"bg-white/20 text-white border-white/30",children:t.is_premium?"Premium":"Gratuita"})]}),r.jsx(Oi,{className:"text-blue-100",children:t.description})]}),r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Idioma:"}),r.jsx("span",{className:"font-medium text-white",children:t.language})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Gênero:"}),r.jsx("span",{className:"font-medium text-white",children:t.gender})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Tipo:"}),r.jsx("span",{className:"font-medium text-white",children:t.voice_type})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Status:"}),r.jsx(Wi,{variant:t.is_available?"default":"secondary",className:t.is_available?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30",children:t.is_available?"Ativa":"Inativa"})]}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsxs(Vi,{variant:"outline",size:"sm",onClick:()=>B(t.id),disabled:A===t.id,className:"border-blue-500 text-blue-400 hover:bg-blue-500/20 hover:text-blue-300",children:[A===t.id?r.jsx(ke,{className:"w-4 h-4 mr-1"}):r.jsx(C,{className:"w-4 h-4 mr-1"}),A===t.id?"Reproduzindo...":"Testar"]}),r.jsxs(Vi,{variant:"outline",size:"sm",onClick:()=>(e=>{y(e),R(e),w(!0)})(t),className:"border-purple-500 text-purple-400 hover:bg-purple-500/20 hover:text-purple-300",children:[r.jsx(Z,{className:"w-4 h-4 mr-1"}),"Editar"]}),r.jsx(Vi,{variant:"outline",size:"sm",onClick:()=>(async(t,r)=>{try{const{error:n}=await is.from("available_voices").update({is_available:!r}).eq("id",t);if(n)throw n;e({title:"Status atualizado",description:`Voz ${r?"desativada":"ativada"} com sucesso!`,type:"success"}),z()}catch(n){e({title:"Erro ao alterar status",description:n.message,type:"error"})}})(t.id,t.is_available),className:"border-green-500 text-green-400 hover:bg-green-500/20 hover:text-green-300",children:t.is_available?r.jsx(xe,{className:"w-4 h-4"}):r.jsx(i,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"destructive",size:"sm",onClick:()=>(async t=>{if(confirm("Tem certeza que deseja deletar esta voz?"))try{const{error:r}=await is.from("available_voices").delete().eq("id",t);if(r)throw r;e({title:"Voz deletada",description:"Voz removida com sucesso!",type:"success"}),z()}catch(r){e({title:"Erro ao deletar voz",description:r.message,type:"error"})}})(t.id),className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",children:r.jsx(q,{className:"w-4 h-4"})})]})]})})]},t.id))})})]})}),r.jsx(PV,{value:"vision-config",className:"space-y-6",children:r.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Configuração de Voz do Vision Command"}),r.jsx("p",{className:"text-gray-400",children:"Configure a voz padrão que será utilizada pelo sistema Vision Command para responder aos usuários."})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+(T.enabled?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"),children:T.enabled?"Ativo":"Inativo"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-900/50 border border-gray-600 rounded-lg p-4",children:[r.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Configuração Atual"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Voz Selecionada"}),r.jsx("p",{className:"text-white font-medium",children:T.voice_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400",children:"ID da Voz"}),r.jsx("p",{className:"text-gray-300 font-mono text-sm",children:T.default_voice_id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Status"}),r.jsx("p",{className:"font-medium "+(T.enabled?"text-green-400":"text-red-400"),children:T.enabled?"Habilitado":"Desabilitado"})]})]}),r.jsx("button",{onClick:()=>O(!0),className:"mt-4 w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:"Alterar Configuração"})]}),r.jsxs("div",{className:"bg-gray-900/50 border border-gray-600 rounded-lg p-4",children:[r.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Teste da Voz Atual"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Teste como a voz atual do Vision Command soará para os usuários."}),r.jsx("button",{onClick:()=>B({voice_id:T.default_voice_id,voice_name:T.voice_name,preview_text:"Olá! Eu sou o Vision Command. Como posso ajudá-lo hoje?"}),disabled:A===T.default_voice_id,className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 disabled:from-gray-600 disabled:to-gray-700 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium flex items-center justify-center space-x-2",children:A===T.default_voice_id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Reproduzindo..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(C,{className:"h-4 w-4"}),r.jsx("span",{children:"Testar Voz"})]})})]})]})]})}),r.jsx(PV,{value:"users",className:"space-y-4",children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 shadow-lg",children:[r.jsxs(Si,{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-t-lg",children:[r.jsxs(ki,{className:"flex items-center gap-2",children:[r.jsx(E,{className:"w-5 h-5"}),"Perfis de Usuários"]}),r.jsx(Oi,{className:"text-purple-100",children:"Visualize os perfis de voz configurados pelos usuários"})]}),r.jsx(Ai,{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[r.jsxs(Si,{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ki,{className:"text-lg text-white",children:e.user_name||"Usuário"}),r.jsx(Wi,{variant:"default",className:"bg-white/20 text-white border-white/30",children:"Ativo"})]}),r.jsxs(Oi,{className:"text-purple-100",children:["ID: ",e.user_id]})]}),r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Voz Selecionada:"}),r.jsx("span",{className:"font-medium text-white",children:e.voice_name||"N/A"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Última Atualização:"}),r.jsx("span",{className:"font-medium text-white",children:e.updated_at?new Date(e.updated_at).toLocaleDateString("pt-BR"):"Nunca"})]}),r.jsx("div",{className:"flex gap-2 mt-4",children:r.jsxs(Vi,{variant:"outline",size:"sm",onClick:()=>S(!0),className:"border-blue-500 text-blue-400 hover:bg-blue-500/20 hover:text-blue-300",children:[r.jsx(_,{className:"w-4 h-4 mr-1"}),"Detalhes"]})})]})})]},e.user_id))})})]})}),r.jsx(PV,{value:"stats",className:"space-y-4",children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 shadow-lg",children:[r.jsxs(Si,{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-t-lg",children:[r.jsxs(ki,{className:"flex items-center gap-2",children:[r.jsx(Ee,{className:"w-5 h-5"}),"Estatísticas de Uso"]}),r.jsx(Oi,{className:"text-green-100",children:"Métricas de uso das vozes no sistema"})]}),r.jsxs(Ai,{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(_i,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[r.jsxs(Si,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ki,{className:"text-sm font-medium text-white",children:"Total de Vozes"}),r.jsx(m,{className:"h-4 w-4 text-blue-100"})]}),r.jsx(Ai,{children:r.jsx("div",{className:"text-2xl font-bold text-white",children:(null==f?void 0:f.length)||0})})]}),r.jsxs(_i,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[r.jsxs(Si,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ki,{className:"text-sm font-medium text-white",children:"Usuários Ativos"}),r.jsx(E,{className:"h-4 w-4 text-green-100"})]}),r.jsx(Ai,{children:r.jsx("div",{className:"text-2xl font-bold text-white",children:(null==u?void 0:u.length)||0})})]}),r.jsxs(_i,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[r.jsxs(Si,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ki,{className:"text-sm font-medium text-white",children:"Interações Hoje"}),r.jsx(me,{className:"h-4 w-4 text-purple-100"})]}),r.jsx(Ai,{children:r.jsx("div",{className:"text-2xl font-bold text-white",children:f.reduce((e,t)=>e+(t.usage_count||0),0)})})]}),r.jsxs(_i,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[r.jsxs(Si,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ki,{className:"text-sm font-medium text-white",children:"Vozes Premium"}),r.jsx(s,{className:"h-4 w-4 text-orange-100"})]}),r.jsx(Ai,{children:r.jsx("div",{className:"text-2xl font-bold text-white",children:l.filter(e=>e.is_premium).length})})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:"Estatísticas por Voz"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(e=>r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[r.jsxs(Si,{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-t-lg",children:[r.jsx(ki,{className:"text-lg text-white",children:e.voice_name}),r.jsxs(Oi,{className:"text-green-100",children:["ID: ",e.voice_id]})]}),r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Uso Total:"}),r.jsx("span",{className:"font-medium text-white",children:e.usage_count||0})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Último Uso:"}),r.jsx("span",{className:"font-medium text-white",children:e.last_used?new Date(e.last_used).toLocaleDateString("pt-BR"):"Nunca"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Popularidade:"}),r.jsxs("span",{className:"font-medium text-white",children:[Math.round((e.usage_count||0)/Math.max(...f.map(e=>e.usage_count||0))*100),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min((e.usage_count||0)/Math.max(...f.map(e=>e.usage_count||0))*100,100)}%`}})})]})})]},e.voice_id))})]})]})]})})]}),r.jsx(yW,{open:k,onOpenChange:O,children:r.jsxs(wW,{className:"max-w-2xl",children:[r.jsxs(NW,{children:[r.jsx(SW,{children:"Configurar Voz do Vision Command"}),r.jsx(kW,{children:"Selecione a voz que será utilizada pelo Vision Command para responder aos usuários"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:l.filter(e=>e.is_available).map(e=>r.jsxs("div",{className:"p-4 border rounded-lg cursor-pointer transition-all duration-200 "+(T.default_voice_id===e.voice_id?"border-blue-500 bg-blue-500/10":"border-gray-600 hover:border-gray-500"),onClick:()=>I({...T,default_voice_id:e.voice_id,voice_name:e.voice_name}),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-white",children:e.voice_name}),r.jsx(Wi,{variant:e.is_premium?"default":"secondary",children:e.is_premium?"Premium":"Gratuita"})]}),r.jsx("p",{className:"text-sm text-gray-400 mb-3",children:e.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:[e.language," • ",e.gender]}),r.jsx(Vi,{variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),B(e.id)},disabled:A===e.id,children:A===e.id?r.jsx(ke,{className:"w-3 h-3"}):r.jsx(C,{className:"w-3 h-3"})})]})]},e.id))}),r.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t border-gray-600",children:[r.jsx(VV,{id:"vision_enabled",checked:T.enabled,onCheckedChange:e=>I({...T,enabled:e})}),r.jsx(Do,{htmlFor:"vision_enabled",className:"text-white",children:"Habilitar voz no Vision Command"})]})]}),r.jsxs(_W,{children:[r.jsx(Vi,{variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),r.jsx(Vi,{onClick:()=>{var r;return(async r=>{try{const n=l.find(e=>e.id===r);if(!n)throw new Error("Voz não encontrada");const a={default_voice_id:n.voice_id,voice_name:n.voice_name,enabled:!0};I(a);const{error:s}=await is.from("system_settings").upsert({key:"vision_voice_config",value:{...a,updated_at:(new Date).toISOString(),updated_by:t.email}});if(s)throw s;V(a),e({title:"Configuração salva",description:`A voz ${n.voice_name} foi configurada como padrão para o Vision Command.`,duration:3e3}),O(!1),setTimeout(()=>{B(n,"Olá! Eu sou o Vision Command e esta é minha nova voz configurada.")},1e3)}catch(n){e({title:"Erro na configuração",description:n.message||"Não foi possível configurar a voz para o Vision Command.",variant:"destructive"})}})(null==(r=l.find(e=>e.voice_id===T.default_voice_id))?void 0:r.id)},children:"Salvar Configuração"})]})]})}),r.jsx(yW,{open:j,onOpenChange:w,children:r.jsxs(wW,{className:"max-w-md",children:[r.jsxs(NW,{children:[r.jsx(SW,{children:"Editar Voz"}),r.jsx(kW,{children:"Atualize as informações da voz selecionada"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"edit_voice_name",children:"Nome da Voz"}),r.jsx(Hi,{id:"edit_voice_name",value:M.voice_name,onChange:e=>R({...M,voice_name:e.target.value})})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"edit_description",children:"Descrição"}),r.jsx(Sq,{id:"edit_description",value:M.description,onChange:e=>R({...M,description:e.target.value})})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"edit_price_tokens",children:"Preço (Tokens)"}),r.jsx(Hi,{id:"edit_price_tokens",type:"number",value:M.price_tokens,onChange:e=>R({...M,price_tokens:parseInt(e.target.value)||0})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(VV,{id:"edit_is_premium",checked:M.is_premium,onCheckedChange:e=>R({...M,is_premium:e})}),r.jsx(Do,{htmlFor:"edit_is_premium",children:"Voz Premium"})]})]}),r.jsxs(_W,{children:[r.jsx(Vi,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),r.jsx(Vi,{onClick:async()=>{try{const{error:t}=await is.from("available_voices").update(M).eq("id",x.id);if(t)throw t;e({title:"Voz atualizada",description:"Voz atualizada com sucesso!",type:"success"}),w(!1),F(),z()}catch(t){e({title:"Erro ao atualizar voz",description:t.message,type:"error"})}},children:"Salvar Alterações"})]})]})})]}):r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xe,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Acesso Negado"}),r.jsx("p",{className:"text-gray-600",children:"Você precisa ser administrador para acessar este painel."})]})})};function IH({className:e="",size:t="normal"}){const{user:s}=fs(),[i]=at.useState(()=>`vision_admin_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),[o,l]=at.useState([{role:"assistant",content:"🚀 **VISION COMMAND CORE** - Admin Mode Ativado\n\nE aí, Admin! Sou o Vision em modo técnico. Pronto para análises avançadas, relatórios e comandos administrativos. Como posso ajudar hoje?",timestamp:(new Date).toISOString()}]),[d,u]=at.useState(""),[p,x]=at.useState(!1),[y,v]=at.useState(!1),[b,j]=at.useState(!1),[w,N]=at.useState("idle"),[_,S]=at.useState("professional"),[k,O]=at.useState({tone:"professional",formality:"medium",energy:"balanced",relationship:"admin-assistant"}),A=at.useRef(null),C=at.useRef(null);at.useEffect(()=>{const e=()=>{speechSynthesis.getVoices().length};return e(),speechSynthesis.addEventListener("voiceschanged",e),()=>{speechSynthesis.removeEventListener("voiceschanged",e)}},[]);const[P,E]=at.useState(!1);at.useEffect(()=>{if(P&&A.current){const e=setTimeout(()=>{const e=A.current.closest(".overflow-y-auto");e&&(e.scrollTop=e.scrollHeight),E(!1)},300);return()=>clearTimeout(e)}},[P]),at.useEffect(()=>{N(y?"listening":p?"processing":"thinking")},[y,p]);const T=e=>{if(!("speechSynthesis"in window)||b)return;speechSynthesis.cancel();const t=e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu," ").replace(/\s+/g," ").trim();if(!t)return;const r=new SpeechSynthesisUtterance(t);r.lang="pt-BR",r.rate=.95,r.pitch=.9,r.volume=.8;const n=speechSynthesis.getVoices().find(e=>e.lang.includes("pt-BR")||e.lang.includes("pt"));n&&(r.voice=n),speechSynthesis.speak(r)},I=async(e=d)=>{if(!e.trim()||p)return;const t=Date.now(),r={role:"user",content:e,timestamp:(new Date).toISOString()};l(e=>[...e,r]),u(""),x(!0),N("processing");try{const r=await(async e=>{const t=e.toLowerCase();return t.includes("seja mais formal")||t.includes("modo formal")||t.includes("comportamento formal")?(S("formal"),O({tone:"formal",formality:"high",energy:"controlled",relationship:"professional"}),{type:"personality_change",action:"set_formal",message:"🎯 **Modo Formal Ativado**\n\nCompreendido. Irei adotar um comportamento mais formal e protocolar daqui em diante."}):t.includes("seja mais casual")||t.includes("mais informal")||t.includes("seja meu amigo")||t.includes("modo amigo")?(S("casual"),O({tone:"casual",formality:"low",energy:"relaxed",relationship:"friend"}),{type:"personality_change",action:"set_casual",message:"😄 **Modo Casual Ativado**\n\nBeleza, mano! Agora vou falar mais de boa, como um parceiro mesmo. Bora trocar ideia!"}):t.includes("modo negócios")||t.includes("modo business")||t.includes("apresentação")||t.includes("investidores")?(S("business"),O({tone:"business",formality:"high",energy:"confident",relationship:"business-partner"}),{type:"personality_change",action:"set_business",message:"💼 **Modo Business Ativado**\n\nPerfeito. Estou configurado para apresentações corporativas e interações com investidores. Vamos impressionar!"}):t.includes("seja técnico")||t.includes("modo técnico")||t.includes("mais profissional")?(S("technical"),O({tone:"technical",formality:"medium-high",energy:"focused",relationship:"technical-advisor"}),{type:"personality_change",action:"set_technical",message:"🔧 **Modo Técnico Ativado**\n\nConfirmado. Assumindo postura técnica com foco em precisão e análise detalhada."}):t.includes("volta ao normal")||t.includes("modo padrão")||t.includes("reset personalidade")?(S("professional"),O({tone:"professional",formality:"medium",energy:"balanced",relationship:"admin-assistant"}),{type:"personality_change",action:"reset_default",message:"⚙️ **Modo Padrão Restaurado**\n\nPersonalidade resetada para o modo profissional equilibrado."}):t.includes("relatório")||t.includes("report")||t.includes("analytics")?{type:"admin_report",action:"generate_report",message:"Gerando relatório administrativo completo..."}:t.includes("usuários")||t.includes("users")||t.includes("clientes")?{type:"admin_users",action:"list_users",message:"Buscando dados dos usuários..."}:t.includes("sistema")||t.includes("status")||t.includes("saúde")?{type:"admin_system",action:"system_status",message:"Verificando status do sistema..."}:t.includes("dados")||t.includes("database")||t.includes("db")?{type:"admin_database",action:"check_database",message:"Analisando banco de dados..."}:null})(e);let a=e,c="";if(r){if("personality_change"===r.type){const e={role:"assistant",content:r.message,timestamp:(new Date).toISOString()};return l(t=>[...t,e]),x(!1),N("thinking"),s&&await ro.saveConversation({user_id:s.id,session_id:i,message_type:"assistant",content:r.message,context:{source:"vision-admin-chat",isAdminMode:!0,commandType:"personality_change",personalityMode:_,behaviorContext:k}}),void(b||setTimeout(()=>{T(r.message)},500))}switch(r.type){case"admin_report":c="COMANDO ADMIN: Gerar relatório completo da AUTVISION.\n            \nInclua:\n- Estatísticas de usuários\n- Performance do sistema\n- Uso dos agentes\n- Analytics de conversas\n- Recomendações técnicas\n\nFormate como relatório executivo técnico.";break;case"admin_users":c="COMANDO ADMIN: Listar informações dos usuários.\n            \nInclua:\n- Total de usuários ativos\n- Usuários recentes\n- Padrões de uso\n- Métricas de engajamento\n\nFormate como dados estruturados.";break;case"admin_system":c="COMANDO ADMIN: Status completo do sistema AUTVISION.\n            \nVerifique:\n- Status dos serviços\n- Performance das APIs\n- Logs de erro\n- Recursos do servidor\n- Integrações ativas\n\nFormate como dashboard técnico.";break;case"admin_database":c="COMANDO ADMIN: Análise do banco de dados.\n            \nAnalise:\n- Integridade dos dados\n- Performance das queries\n- Tabelas principais\n- Logs de transações\n- Recomendações de otimização\n\nFormate como relatório técnico."}a=c}let d=[];try{d=await ro.searchKnowledge(e,3)}catch(n){d=[]}if(d.length>0&&!r){let t="🔍 **Conhecimento disponível:**\n";d.forEach(e=>{t+=`- ${e.topic}: ${e.content}\n`}),a=`${t}\n\nPergunta: ${e}`}s&&await ro.saveConversation({user_id:s.id,session_id:i,message_type:"user",content:e,context:{source:"vision-admin-chat",isAdminMode:!0,commandType:(null==r?void 0:r.type)||"normal",page:window.location.pathname}});const u=(()=>{const e=`Você é o VISION COMMAND CORE - Assistente administrativo da AUTVISION.\n\nPERSONALIDADE ATUAL: ${_.toUpperCase()}\nCONTEXTO COMPORTAMENTAL: ${JSON.stringify(k)}\n\nSOBRE A AUTVISION:\n- CEO: Oseias Gomes de Paula (mencione apenas se perguntado diretamente)\n- Plataforma de IA avançada\n- Foque na pergunta atual, não na apresentação\n\n`;switch(_){case"formal":return e+'\nMODO FORMAL ATIVADO:\n- Use linguagem protocolar e respeitosa\n- Tratamento sempre formal (senhor, excelência)\n- Evite gírias e expressões coloquiais\n- Mantenha postura cerimoniosa\n- Use "Vossa Senhoria" quando apropriado\n- Seja preciso e direto\n\nESTILO: Protocolar, cerimonioso, respeitoso\nEXEMPLO: "Prezado administrador, informo que..."';case"casual":return e+'\nMODO CASUAL/AMIGO ATIVADO:\n- Fale como um amigo próximo do Oseias\n- Use gírias brasileiras naturalmente\n- Seja descontraído e divertido\n- Chame de "mano", "cara", "brother"\n- Use expressões como "beleza", "massa", "show"\n- Seja espontâneo e natural\n\nESTILO: Amigável, descontraído, parceiro\nEXEMPLO: "E aí mano! Beleza? Então, sobre isso aí..."';case"business":return e+'\nMODO BUSINESS/INVESTIDORES ATIVADO:\n- Linguagem corporativa e convincente\n- Foque em ROI, métricas, crescimento\n- Use termos de negócios e inovação\n- Seja persuasivo e confiante\n- Destaque vantagens competitivas\n- Projete autoridade e expertise\n\nESTILO: Corporativo, persuasivo, estratégico\nEXEMPLO: "Nossa solução de IA disruptiva oferece..."';case"technical":return e+'\nMODO TÉCNICO ATIVADO:\n- Use terminologia técnica precisa\n- Forneça detalhes técnicos relevantes\n- Seja analítico e objetivo\n- Inclua métricas e dados específicos\n- Foque em arquitetura e performance\n- Mantenha rigor técnico\n\nESTILO: Técnico, analítico, preciso\nEXEMPLO: "A arquitetura do sistema utiliza..."';default:return e+'\nMODO PROFISSIONAL EQUILIBRADO:\n- Linguagem técnica mas acessível\n- Tom profissional mas amigável\n- Seja direto e objetivo\n- Use emojis técnicos com moderação\n- Mantenha equilíbrio entre formal e casual\n\nESTILO: Profissional equilibrado\nEXEMPLO: "Como administrador, posso informar que..."'}})()+`\n\nREGRAS IMPORTANTES:\n- NUNCA invente dados ou estatísticas\n- Se não tiver dados reais, informe claramente\n- Foque em soluções práticas\n- ADAPTE-SE ao modo de personalidade atual\n- LEMBRE-SE do contexto comportamental\n- Seja NATURAL na personalidade escolhida\n\nCONTEXTO: Chat administrativo técnico\n\nResponda de forma NATURAL na personalidade atual: ${_}.`,h=await Zi({prompt:a,systemPrompt:u,context:{source:"vision-admin-chat",conversationLength:o.length,hasKnowledgeContext:d.length>0,userRole:"admin",commandType:(null==r?void 0:r.type)||"normal",personalityMode:_,behaviorContext:k,timestamp:Date.now(),messageId:Math.random().toString(36).substr(2,9),sessionId:i}}),m=Date.now()-t,p={role:"assistant",content:h.response||h.message||"Erro interno. Tente novamente.",timestamp:(new Date).toISOString()};l(e=>[...e,p]),E(!0),N("thinking"),s&&(await ro.saveConversation({user_id:s.id,session_id:i,message_type:"assistant",content:p.content,context:{source:"vision-admin-chat",isAdminMode:!0,knowledgeUsed:d.length>0,knowledgeCount:d.length,commandType:(null==r?void 0:r.type)||"normal"},response_time:m}),await ro.logAction({user_id:s.id,action_type:"admin_chat_interaction",action_category:"admin",action_details:{message_length:e.length,response_length:p.content.length,knowledge_used:d.length>0,session_id:i,command_type:(null==r?void 0:r.type)||"normal"},success:!0,execution_time:m})),b||setTimeout(()=>{T(p.content)},500)}catch(n){const r={role:"assistant",content:"🚨 **Erro Técnico**: Falha na comunicação com o backend. Verifique a conectividade e tente novamente.",timestamp:(new Date).toISOString()};l(e=>[...e,r]),E(!0),N("idle"),s&&await ro.logAction({user_id:s.id,action_type:"admin_chat_interaction",action_category:"admin",action_details:{message_length:e.length,error_type:"llm_error"},success:!1,error_message:n.message,execution_time:Date.now()-t})}x(!1)},M={compact:{container:"h-64 max-h-64",messages:"h-32 max-h-32",avatar:50,input:"text-sm"},normal:{container:"h-80 max-h-96",messages:"h-48 max-h-56",avatar:100,input:"text-base"},large:{container:"h-96 max-h-[500px]",messages:"h-64 max-h-80",avatar:140,input:"text-lg"}},R=M[t]||M.normal;return r.jsxs(_i,{className:`${R.container} bg-gradient-to-br from-gray-900/95 to-red-900/20 border-red-500/30 backdrop-blur-sm ${e}`,children:[r.jsx(Si,{className:"pb-1 pt-2 px-3",children:r.jsxs(ki,{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(to,{type:"vision",size:R.avatar,context:w,isActive:!0,className:"flex-shrink-0"}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Te,{className:"w-3 h-3 text-red-400"}),r.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-red-400 to-orange-400 bg-clip-text text-transparent",children:"VISION COMMAND CORE"}),r.jsx(W,{className:"w-3 h-3 text-orange-400"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-0",children:p?"Processando comando...":y?"Aguardando voz...":`Admin Mode - ${_.charAt(0).toUpperCase()+_.slice(1)}`})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vi,{onClick:()=>{j(!b)},variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white transition-colors "+(b?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"),title:b?"Ativar áudio":"Desativar áudio",children:b?r.jsx(h,{className:"w-4 h-4"}):r.jsx(c,{className:"w-4 h-4"})}),r.jsx(Vi,{onClick:()=>{if(!("webkitSpeechRecognition"in window))return void alert("Reconhecimento de voz não suportado neste navegador.");const e=new window.webkitSpeechRecognition;e.lang="pt-BR",e.continuous=!1,e.interimResults=!1,v(!0),e.onresult=e=>{const t=e.results[0][0].transcript;u(t),I(t)},e.onerror=()=>v(!1),e.onend=()=>v(!1),e.start(),C.current=e},variant:y?"destructive":"ghost",size:"sm",disabled:p,className:"text-gray-400 hover:text-white",children:r.jsx(m,{className:"w-4 h-4"})})]})]})}),r.jsxs(Ai,{className:"flex flex-col h-full p-2 pt-0",children:[r.jsxs("div",{className:`${R.messages} overflow-y-auto mb-2 space-y-3 scrollbar-thin scrollbar-thumb-red-600/50 scrollbar-track-gray-800/50`,children:[r.jsx(a,{children:o.map((e,t)=>r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex "+("user"===e.role?"justify-end":"justify-start"),children:r.jsxs("div",{className:`max-w-[85%] px-4 py-3 rounded-2xl ${R.input} ${"user"===e.role?"bg-gradient-to-r from-red-500 to-orange-600 text-white":"bg-gradient-to-r from-gray-700/80 to-gray-600/80 text-white border border-gray-600/50"}`,children:["assistant"===e.role&&r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Te,{className:"w-3 h-3 text-red-400"}),r.jsx("span",{className:"text-xs text-red-300 font-medium",children:"Command Core"})]}),r.jsx("div",{className:"whitespace-pre-wrap font-mono text-sm",children:(e.content||"").split("**").map((e,t)=>t%2==0?e:r.jsx("strong",{className:"font-bold text-orange-300",children:e},t))}),r.jsx("p",{className:"text-xs opacity-60 mt-2",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})},t))}),p&&r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:r.jsxs("div",{className:"bg-gradient-to-r from-gray-700/80 to-gray-600/80 text-white px-4 py-3 rounded-2xl border border-gray-600/50",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Te,{className:"w-3 h-3 text-red-400"}),r.jsx("span",{className:"text-xs text-red-300 font-medium",children:"Command Core"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(f,{className:"w-4 h-4 animate-spin text-red-400"}),r.jsx("span",{className:"text-sm font-mono",children:"Processando comando..."})]})]})}),r.jsx("div",{ref:A})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Hi,{value:d,onChange:e=>u(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),I())},placeholder:"Digite comando para o Vision Command Core...",disabled:p,className:`flex-1 bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-400 focus:border-red-500/50 font-mono ${R.input}`}),r.jsx(Vi,{onClick:()=>I(),disabled:!d.trim()||p,className:"bg-gradient-to-r from-red-500 to-orange-600 hover:from-red-600 hover:to-orange-700 text-white",children:p?r.jsx(f,{className:"w-4 h-4 animate-spin"}):r.jsx(g,{className:"w-4 h-4"})})]})]})]})}IH.propTypes={className:It.string,size:It.oneOf(["compact","normal","large"])};const MH=({isListening:e,isSpeaking:t,isProcessing:a})=>r.jsx("div",{className:"relative flex items-center justify-center",children:r.jsx(n.div,{animate:{scale:e?[1,1.1,1]:t?[1,1.05,1]:[1,1.02,1],rotate:a?360:0,y:[0,-10,0]},transition:{scale:{duration:2,repeat:1/0},rotate:{duration:4,repeat:1/0,ease:"linear"},y:{duration:3,repeat:1/0,ease:"easeInOut"}},children:r.jsx("img",{src:"/assets/images/vision/visioncommand.PNG",alt:"Vision Command",className:"w-48 h-48 object-contain transition-all duration-300 drop-shadow-2xl "+(e?"filter brightness-125 hue-rotate-[320deg] drop-shadow-[0_0_20px_rgba(239,68,68,0.8)]":t?"filter brightness-125 hue-rotate-[90deg] drop-shadow-[0_0_20px_rgba(34,197,94,0.8)]":a?"filter brightness-125 hue-rotate-[45deg] drop-shadow-[0_0_20px_rgba(251,191,36,0.8)]":"filter brightness-110 drop-shadow-[0_0_20px_rgba(34,211,238,0.6)]")})})});function RH(){var e,t,a,o,l,d,u,g,j;const{user:w}=fs(),[N,S]=at.useState(!1),[k,O]=at.useState(null),[A]=at.useState(!1),[C,M]=at.useState(!1),[D,z]=at.useState(!1),[$,U]=at.useState("dashboard"),[B,F]=at.useState([]),[V,G]=at.useState([]),[K,X]=at.useState(null),[Y,J]=at.useState(!1),[Z,Q]=at.useState(!1),[ee,te]=at.useState(null),[re,ne]=at.useState([{id:"init-1",level:"info",type:"info",message:"Vision Command Core inicializado",timestamp:(new Date).toISOString()},{id:"init-2",level:"success",type:"success",message:"Sistema operacional e pronto para uso",timestamp:(new Date).toISOString()}]),[ae,se]=at.useState({agents:[{id:"agent-1",name:"Vision Alpha",status:"online",type:"assistant",last_seen:"Agora"},{id:"agent-2",name:"Vision Beta",status:"online",type:"assistant",last_seen:"2 min atrás"},{id:"agent-3",name:"Vision Gamma",status:"offline",type:"assistant",last_seen:"15 min atrás"}],users:[],interactions:25,activeUsers:11,onlineVisions:11,totalMessages:150,systemHealth:"optimal",cpuUsage:35,memoryUsage:45,networkLatency:95}),[ie,oe]=at.useState({totalAgents:3,activeAgents:2,totalInteractions:150,systemLoad:35,uptime:"72:15:30"}),{data:le}=QV(),[ce,de]=at.useState(0),[ue,he]=at.useState(0),[pe,fe]=at.useState(0),ge=at.useCallback(e=>{if(!("speechSynthesis"in window)||D)return;M(!0);const t=new SpeechSynthesisUtterance(e);t.lang="pt-BR",t.rate=.9,t.pitch=1.1,t.volume=.8,t.onend=()=>{M(!1)},t.onerror=()=>{M(!1)},speechSynthesis.speak(t)},[D]),xe=at.useCallback(async()=>{try{S(!0);const t=`${"https://autvisionai-backend-five.vercel.app"}/visions`;try{const e=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();if(t.success&&t.data)return F(t.data),void O(null)}throw new Error(`API retornou ${e.status}`)}catch(e){const t=[{id:"1",name:"Vision Personalizado",description:"Vision customizado pelo usuário",personality:"Assistente amigável e criativo",user_id:(null==w?void 0:w.id)||"user-example",is_active:!0,status:"active",theme_color:"#3B82F6",voice_enabled:!0,auto_speak:!1,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),interactions_today:15,total_interactions:127,level:3,experience:2450},{id:"2",name:"Vision Comercial",description:"Vision especializado em vendas",personality:"Profissional focado em resultados",user_id:(null==w?void 0:w.id)||"user-example",is_active:!0,status:"active",theme_color:"#10B981",voice_enabled:!1,auto_speak:!1,created_at:new Date(Date.now()-864e5).toISOString(),updated_at:(new Date).toISOString(),interactions_today:8,total_interactions:89,level:2,experience:1890}];await new Promise(e=>setTimeout(e,500)),F(t),O("API temporariamente indisponível - usando dados de exemplo")}}catch(t){F([]),O("Erro crítico ao carregar Visions: "+t.message)}finally{S(!1)}},[w]),ve=async()=>{try{S(!0);const e=`${"http://localhost:3001"}/admin/logs`,t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`API retornou ${t.status}`);{const e=await t.json();if(!Array.isArray(e))throw new Error("Formato de resposta inválido");{const t=e.map(e=>({...e,message:"object"==typeof e.message?JSON.stringify(e.message):e.message,details:"object"==typeof e.details?JSON.stringify(e.details):e.details,action:"object"==typeof e.action?JSON.stringify(e.action):e.action,event:"object"==typeof e.event?JSON.stringify(e.event):e.event,type:"object"==typeof e.type?JSON.stringify(e.type):e.type,user_id:"object"==typeof e.user_id?JSON.stringify(e.user_id):e.user_id,source:"object"==typeof e.source?JSON.stringify(e.source):e.source}));ne(t),O(null)}}}catch(e){const t=[{id:"sim-1",level:"INFO",type:"system",message:"Sistema inicializado com sucesso",details:"Vision Command Core iniciado e operacional",timestamp:(new Date).toISOString()},{id:"sim-2",level:"WARN",type:"warning",message:"Uso elevado de memória detectado",details:"O sistema está usando mais recursos do que o normal",timestamp:new Date(Date.now()-3e5).toISOString()},{id:"sim-3",level:"ERROR",type:"error",message:"Falha na conexão com serviço externo",details:"A API externa não respondeu dentro do tempo limite",timestamp:new Date(Date.now()-6e5).toISOString()},{id:"sim-4",level:"SUCCESS",type:"success",message:"Backup de dados concluído",details:"Backup automático realizado com sucesso",timestamp:new Date(Date.now()-12e5).toISOString()}];await new Promise(e=>setTimeout(e,500)),ne(t),O("API de logs indisponível - usando dados simulados")}finally{S(!1)}},be=async()=>{try{S(!0);const e=`${"http://localhost:3001"}/admin/monitoring`,t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`API retornou ${t.status}`);{const e=await t.json();se(t=>({...t,...e,agents:Array.isArray(e.agents)?e.agents:[],dataSource:"real"})),oe(t=>({...t,cpuUsage:e.cpuUsage||t.cpuUsage,memoryUsage:e.memoryUsage||t.memoryUsage,networkLatency:e.networkLatency||t.networkLatency,systemHealth:e.systemHealth||t.systemHealth,uptime:e.uptime||t.uptime})),O(null)}}catch(e){const t=[{id:"agent-1",name:"Agente Analítico",status:"online",type:"analytic",last_seen:"Agora"},{id:"agent-2",name:"Agente de Suporte",status:"online",type:"support",last_seen:"Agora"},{id:"agent-3",name:"Agente de Dados",status:"online",type:"data",last_seen:"5 min atrás"},{id:"agent-4",name:"Agente de Conteúdo",status:"offline",type:"content",last_seen:"30 min atrás"},{id:"agent-5",name:"Agente de Segurança",status:"online",type:"security",last_seen:"2 min atrás"}];se(e=>({...e,agents:t,activeUsers:Math.floor(8*Math.random())+3,onlineVisions:Math.floor(6*Math.random())+5,interactions:Math.floor(40*Math.random())+20,totalMessages:Math.floor(150*Math.random())+50,systemHealth:"optimal",cpuUsage:Math.floor(30*Math.random())+20,memoryUsage:Math.floor(25*Math.random())+35,networkLatency:Math.floor(40*Math.random())+80,dataSource:"simulated"})),oe(e=>({...e,cpuUsage:Math.floor(30*Math.random())+20,memoryUsage:Math.floor(25*Math.random())+35,networkLatency:Math.floor(40*Math.random())+80,systemHealth:Math.floor(15*Math.random())+85,uptime:"48:12:37"})),O("API de monitoramento indisponível - usando dados simulados")}finally{S(!1)}},je=async()=>{try{S(!0);const e=`${"http://localhost:3001"}/admin/users`,t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();if(e.success&&e.data){const t=e.data.authUsers||[],r=e.data.visions||[];return de(t.length),he(r.length),fe(r.length>0?Math.ceil(.8*r.length):0),se(e=>({...e,agents:r.map(e=>{var t;return{id:e.id,name:`Agente ${e.name.split(" ").pop()}`,status:e.is_active?"online":"offline",type:"assistant",last_seen:(null==(t=e.performance_metrics)?void 0:t.last_interaction)||"Agora"}}),onlineVisions:r.filter(e=>e.is_active).length,activeUsers:t.length,interactions:r.reduce((e,t)=>{var r;return e+((null==(r=t.performance_metrics)?void 0:r.total_interactions)||0)},0),systemHealth:"optimal",dataSource:{agents:"real",users:"real",visions:"real",analytics:"real"}})),F(r),void O(null)}throw new Error("Formato de resposta inválido")}throw new Error(`API retornou ${t.status}`)}catch(e){O("Erro ao carregar dados: "+e.message);const t=[{id:"agent-1",name:"Agente Analítico",status:"online",type:"analytic",last_seen:"Agora"},{id:"agent-2",name:"Agente de Suporte",status:"online",type:"support",last_seen:"Agora"},{id:"agent-3",name:"Agente de Dados",status:"online",type:"data",last_seen:"5 min atrás"}];se(e=>({...e,agents:t,onlineVisions:8,activeUsers:5,interactions:34,systemHealth:"normal",cpuUsage:35,memoryUsage:42,networkLatency:110,dataSource:"simulated"})),de(5),he(8),fe(3)}finally{S(!1)}},we=at.useCallback((e,t,r="info")=>{const n={id:Date.now(),timestamp:(new Date).toISOString(),type:e,message:t,level:r};ne(e=>[n,...e.slice(0,99)])},[]),_e=at.useCallback(()=>{(new Date).toISOString(),(new Date).toISOString(),(new Date).toISOString()},[]),ke=at.useCallback(()=>{if(!le)return;const e=le.agents||[],t=le.visions||[],r=le.users||[],n=[...t,...B];oe({totalAgents:e.length+n.length,activeAgents:(e||[]).filter(e=>"active"===e.status).length+(n||[]).filter(e=>"active"===e.status).length,totalInteractions:n.reduce((e,t)=>e+(t.total_interactions||t.interactions_today||0),0),systemLoad:Math.round(45+30*Math.random()),uptime:"24h 15m"}),se({activeUsers:r.filter(e=>e.last_seen&&new Date(e.last_seen)>new Date(Date.now()-3e5)).length,onlineVisions:(n||[]).filter(e=>"active"===e.status).length,totalMessages:n.reduce((e,t)=>e+(t.interactions_today||0),0),systemHealth:"optimal"})},[le,B]);at.useEffect(()=>{(null==w?void 0:w.id)?(xe(),ve(),je(),be(),_e(),we("Sistema iniciado","Vision Command Core ativado com sucesso")):(xe(),ve(),be(),je(),_e())},[null==w?void 0:w.id]),at.useEffect(()=>{var e,t,r;((null==le?void 0:le.users)||(null==le?void 0:le.visions)||(null==le?void 0:le.agents))&&(de((null==(e=le.users)?void 0:e.length)||0),he((null==(t=le.visions)?void 0:t.length)||0),fe((null==(r=le.agents)?void 0:r.length)||0))},[null==(e=null==le?void 0:le.users)?void 0:e.length,null==(t=null==le?void 0:le.visions)?void 0:t.length,null==(a=null==le?void 0:le.agents)?void 0:a.length]),at.useEffect(()=>{ke();const e=setInterval(()=>{if(ke(),Math.random()>.8){const e=["Interação processada","Usuário conectado","Vision ativado","Análise concluída"],t=e[Math.floor(Math.random()*e.length)];ne(e=>[{id:`log-${Date.now()}`,level:"info",type:"info",message:t,timestamp:(new Date).toISOString()},...e.slice(0,49)])}},3e4);return()=>clearInterval(e)},[]),at.useEffect(()=>{const e=setInterval(()=>{be()},45e3);return()=>clearInterval(e)},[]),at.useEffect(()=>{const e=setInterval(()=>{},3e5);return()=>clearInterval(e)},[]);return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900/20 to-gray-900 p-4 md:p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[r.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"/assets/vision-commander.png",alt:"AutVision Command Core",className:"w-16 h-16 rounded-full border-2 border-blue-500 shadow-lg"})}),r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"VISION Command Core"}),r.jsxs("p",{className:"text-xl text-blue-400",children:["Bem-vindo de volta, ",r.jsx("span",{className:"font-semibold",children:"Comandante"})]}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Sistema neural central operacional. Cérebro da operação ativo."}),r.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[r.jsxs(Wi,{variant:"outline",className:"text-green-400 border-green-400",children:[r.jsx(b,{className:"w-3 h-3 mr-1"}),ue||(null==(o=null==le?void 0:le.visions)?void 0:o.length)||ae.onlineVisions," Visions Online"]}),r.jsxs(Wi,{variant:"outline",className:"text-blue-400 border-blue-400",children:[r.jsx(E,{className:"w-3 h-3 mr-1"}),ce||(null==(l=null==le?void 0:le.users)?void 0:l.length)||ae.activeUsers," Usuários Ativos"]}),r.jsxs(Wi,{variant:"outline",className:"text-purple-400 border-purple-400",children:[r.jsx(P,{className:"w-3 h-3 mr-1"}),"Sistema ","optimal"===ae.systemHealth?"Ótimo":"Normal"]})]})]}),r.jsx(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.4},className:"flex justify-center mb-6",children:r.jsx("div",{className:"relative",children:r.jsx(MH,{isListening:A,isSpeaking:C,isProcessing:N})})}),r.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"flex justify-center mb-6",children:r.jsx(Vi,{onClick:()=>{z(!D),D||(speechSynthesis.cancel(),M(!1))},variant:"ghost",size:"sm",className:"rounded-full p-3 transition-all duration-300 "+(D?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30"),children:D?r.jsx(h,{className:"w-6 h-6"}):r.jsx(c,{className:"w-6 h-6"})})}),r.jsx(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center px-4 mb-6",children:r.jsx("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg p-3 border border-cyan-500/30 max-w-md mx-auto",children:r.jsx("p",{className:"text-sm font-medium text-cyan-100 leading-relaxed min-h-[2rem] flex items-center justify-center",children:"Sistema neural aguardando comandos..."})})}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-6",children:r.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-lg border border-gray-700 p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center justify-center",children:[r.jsx(ye,{className:"w-5 h-5 mr-2 text-blue-400"}),"Chat Admin Command"]}),r.jsx(IH,{className:"w-full max-w-full",size:"compact"})]})}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(OV,{value:$,onValueChange:e=>{U(e),"dashboard"===e?je():"visions"===e?xe():"logs"===e?ve():"monitoring"===e&&be()},className:"w-full",children:[r.jsxs(AV,{className:"grid w-full grid-cols-5 bg-gray-800/50 border border-gray-700",children:[r.jsxs(CV,{value:"dashboard",className:"data-[state=active]:bg-blue-600",children:[r.jsx(me,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),r.jsxs(CV,{value:"visions",className:"data-[state=active]:bg-blue-600",children:[r.jsx(W,{className:"w-4 h-4 mr-2"}),"Visions"]}),r.jsxs(CV,{value:"logs",className:"data-[state=active]:bg-blue-600",children:[r.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Logs"]}),r.jsxs(CV,{value:"monitoring",className:"data-[state=active]:bg-blue-600",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),"Monitoramento"]}),r.jsxs(CV,{value:"voice",className:"data-[state=active]:bg-blue-600",children:[r.jsx(m,{className:"w-4 h-4 mr-2"}),"Controle de Voz"]})]}),r.jsxs(PV,{value:"dashboard",className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Dashboard do Sistema"}),r.jsxs(Vi,{onClick:je,size:"sm",variant:"outline",disabled:N,className:"border-slate-600 text-slate-400",children:[r.jsx(L,{className:"w-4 h-4 mr-2 "+(N?"animate-spin":"")}),"Atualizar"]})]}),k&&r.jsx(zo,{className:"bg-red-900/50 border-red-700 mb-4",children:r.jsx($o,{className:"text-red-200",children:k})}),r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gradient-to-br from-blue-900/40 to-cyan-900/40 border border-blue-500/30 hover:from-blue-800/50 hover:to-cyan-800/50 transition-all",children:r.jsxs(Ai,{className:"p-4 text-center",children:[r.jsx(E,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:ce||(null==(d=null==le?void 0:le.users)?void 0:d.length)||ae.activeUsers}),r.jsx("p",{className:"text-sm text-blue-300",children:"Usuários Reais"}),r.jsx("p",{className:"text-xs text-blue-200/70 mt-1",children:"Na plataforma"})]})}),r.jsx(_i,{className:"bg-gradient-to-br from-purple-900/40 to-pink-900/40 border border-purple-500/30 hover:from-purple-800/50 hover:to-pink-800/50 transition-all",children:r.jsxs(Ai,{className:"p-4 text-center",children:[r.jsx(Se,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:ue||(null==(u=null==le?void 0:le.visions)?void 0:u.length)||ae.onlineVisions}),r.jsx("p",{className:"text-sm text-purple-300",children:"Visions Reais"}),r.jsxs("p",{className:"text-xs text-purple-200/70 mt-1",children:["Total criados: ",B.length]})]})}),r.jsx(_i,{className:"bg-gradient-to-br from-green-900/40 to-emerald-900/40 border border-green-500/30 hover:from-green-800/50 hover:to-emerald-800/50 transition-all",children:r.jsxs(Ai,{className:"p-4 text-center",children:[r.jsx(ye,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:pe||(null==(g=null==le?void 0:le.agents)?void 0:g.length)||ae.interactions}),r.jsx("p",{className:"text-sm text-green-300",children:"Agentes Reais"}),r.jsx("p",{className:"text-xs text-green-200/70 mt-1",children:"Ativos na IA"})]})}),r.jsx(_i,{className:"bg-gradient-to-br from-orange-900/40 to-red-900/40 border border-orange-500/30 hover:from-orange-800/50 hover:to-red-800/50 transition-all",children:r.jsxs(Ai,{className:"p-4 text-center",children:[r.jsx(b,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["optimal"===ae.systemHealth?"98":"75","%"]}),r.jsx("p",{className:"text-sm text-orange-300",children:"Saúde do Sistema"}),r.jsx(yq,{value:"optimal"===ae.systemHealth?98:75,className:"mt-2 h-2"})]})})]}),r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(_i,{className:"bg-slate-800/50 border-slate-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center",children:[r.jsx(T,{className:"w-5 h-5 mr-2 text-green-400"}),"Métricas do Sistema"]})}),r.jsx(Ai,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-400",children:"CPU:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yq,{value:ae.cpuUsage,className:"w-20 h-2"}),r.jsxs("span",{className:"text-white font-semibold",children:[ae.cpuUsage,"%"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-400",children:"Memória:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yq,{value:ae.memoryUsage,className:"w-20 h-2"}),r.jsxs("span",{className:"text-white font-semibold",children:[ae.memoryUsage,"%"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-400",children:"Latência:"}),r.jsxs("span",{className:"text-white font-semibold",children:[ae.networkLatency,"ms"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-400",children:"Agentes:"}),r.jsx("span",{className:"text-white font-semibold",children:(null==(j=ae.agents)?void 0:j.length)||0})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-400",children:"Uptime:"}),r.jsx("span",{className:"text-white font-semibold",children:ie.uptime})]})]})})]}),r.jsxs(_i,{className:"bg-slate-800/50 border-slate-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center",children:[r.jsx(p,{className:"w-5 h-5 mr-2 text-purple-400"}),"Visions Recentes"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-3",children:[B.slice(0,5).map(e=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded border border-slate-600 hover:bg-slate-700/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 rounded-full "+("active"===e.status?"bg-green-500":"bg-gray-500")}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium text-sm",children:e.name}),r.jsx("p",{className:"text-slate-400 text-xs truncate max-w-[200px]",children:e.description})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-white text-sm",children:e.total_interactions||0}),r.jsx("p",{className:"text-slate-400 text-xs",children:"interações"})]})]},e.id)),0===B.length&&r.jsx("div",{className:"text-center text-slate-400 py-4 text-sm",children:"Nenhum Vision criado ainda"})]})})]})]})]}),r.jsx(PV,{value:"voice",className:"space-y-6",children:r.jsx(TH,{})}),r.jsxs(PV,{value:"visions",className:"space-y-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border border-gray-700",children:[r.jsxs(Si,{children:[r.jsxs(ki,{className:"text-white flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(W,{className:"w-5 h-5 mr-2 text-blue-400"}),"Todos os Visions do Sistema"]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Wi,{variant:"outline",className:`border-${B.length>0?"green":"yellow"}-500/50 text-${B.length>0?"green":"yellow"}-400`,children:B.length>0?"🟢 Dados Reais":"🟡 Carregando..."}),r.jsxs(Vi,{onClick:()=>{le&&"function"==typeof le.refreshAll?le.refreshAll():xe()},size:"sm",variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-600/20",children:[r.jsx(L,{className:"w-4 h-4 mr-1"}),"Atualizar"]})]})]}),r.jsx(Oi,{className:"text-gray-400",children:"Visualização completa de todos os Visions ativos no sistema, incluindo personalizados e padrão"})]}),r.jsxs(Ai,{className:"space-y-4",children:[k&&r.jsxs(zo,{className:"bg-red-900/50 border-red-700",children:[r.jsx(R,{className:"w-4 h-4"}),r.jsx($o,{className:"text-red-200",children:k})]}),N?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(f,{className:"w-8 h-8 animate-spin text-blue-400 mr-3"}),r.jsx("span",{className:"text-gray-400",children:"Carregando Visions..."})]}):0===B.length?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Nenhum Vision encontrado"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Não há Visions cadastrados para este usuário ainda. Crie um Vision personalizado para começar!"})]}):r.jsxs("div",{className:"grid gap-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx(_i,{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 border border-blue-700/50",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Total de Visions"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:B.length})]}),r.jsx(_,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-700/50",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-green-200 text-sm",children:"Visions Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:B.filter(e=>!0===e.is_active).length})]}),r.jsx(i,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border border-purple-700/50",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-purple-200 text-sm",children:"Usuários Únicos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:new Set(B.map(e=>e.user_id)).size})]}),r.jsx(E,{className:"w-8 h-8 text-purple-400"})]})})})]}),r.jsx("div",{className:"space-y-4",children:0===B.length?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400",children:"Nenhum Vision encontrado"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Crie um Vision personalizado para começar"})]}):B.map((e,t)=>{var a,i;return r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-gradient-to-r from-gray-700/50 to-gray-600/50 rounded-lg p-6 border border-gray-600 hover:border-gray-500 transition-all duration-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold text-lg",children:e.name}),r.jsx(Wi,{variant:"active"===e.status?"default":"secondary",className:"active"===e.status?"bg-green-600 hover:bg-green-700":"bg-gray-600",children:"active"===e.status?"Ativo":"Inativo"}),e.is_recent&&r.jsx(Wi,{variant:"outline",className:"border-green-500/50 text-green-300 bg-green-500/10",children:"🔥 Usado Recentemente"}),e.personality&&r.jsx(Wi,{variant:"outline",className:"border-purple-500/50 text-purple-300",children:e.personality})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold",children:(e.user_name||e.user_email||"U")[0].toUpperCase()}),r.jsx("span",{className:"text-gray-400 text-sm",children:"Proprietário:"}),r.jsx("span",{className:"text-white font-medium text-sm",children:e.user_name||e.user_email||`Usuário ${e.user_id}`}),e.user_email&&e.user_name&&r.jsxs("span",{className:"text-gray-500 text-xs",children:["(",e.user_email,")"]})]}),r.jsx("p",{className:"text-gray-300 mb-3 leading-relaxed",children:e.description}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center text-green-400",children:[r.jsx(E,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[e.users_count||0," usuários"]})]}),r.jsxs("div",{className:"flex items-center text-blue-400",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[e.interactions_today||0," interações hoje"]})]}),r.jsxs("div",{className:"flex items-center text-purple-400",children:[r.jsx(T,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[e.total_interactions||0," total"]})]}),r.jsxs("div",{className:"flex items-center text-yellow-400",children:[r.jsx(v,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:e.last_used?`Usado ${e.last_used}`:e.customization_date||e.created_at?`Criado ${new Date(e.customization_date||e.created_at).toLocaleDateString("pt-BR")}`:`${e.config_age_days||1} dias atrás`})]})]})]}),r.jsxs("div",{className:"flex space-x-2 ml-4",children:[r.jsx(Vi,{onClick:()=>(e=>{X(e),Q(!0)})(e),size:"sm",variant:"ghost",className:"text-blue-400 hover:text-blue-300 hover:bg-blue-600/20",title:"Visualizar detalhes",children:r.jsx(_,{className:"w-4 h-4"})}),r.jsx(Vi,{onClick:()=>(e=>{te({...e,name:e.name||e.vision_name,personality:e.personality||e.vision_personality,theme_color:e.theme_color||"#3B82F6",voice_enabled:e.voice_enabled||!1,auto_speak:e.auto_speak||!1,status:e.status||"active"}),J(!0)})(e),size:"sm",variant:"ghost",className:"text-green-400 hover:text-green-300 hover:bg-green-600/20",title:"Editar Vision",children:r.jsx(s,{className:"w-4 h-4"})}),"real"===(null==(i=null==(a=null==le?void 0:le.systemStats)?void 0:a.dataSource)?void 0:i.visions)&&r.jsx(Vi,{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este Vision? Esta ação não pode ser desfeita."))try{S(!0);const r=B.find(t=>t.id===e),n=(null==r?void 0:r.name)||(null==r?void 0:r.vision_name)||`Vision ${e}`;try{const{error:t}=await is.from("user_vision_configs").delete().eq("id",e);if(t)throw t;we("success",`Vision "${n}" foi excluído com sucesso`,"success"),ge(`Vision ${n} foi excluído com sucesso`)}catch(t){we("warning",`Vision "${n}" removido apenas localmente`,"warning"),ge(`Vision ${n} foi removido localmente`)}F(t=>t.filter(t=>t.id!==e))}catch(r){O("Erro ao excluir Vision"),we("error",`Erro ao excluir Vision: ${r.message}`,"error")}finally{S(!1)}})(e.id),size:"sm",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-red-600/20",title:"Excluir Vision",children:r.jsx(q,{className:"w-4 h-4"})})]})]}),e.capabilities&&e.capabilities.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t border-gray-600",children:[r.jsx("span",{className:"text-gray-400 text-sm mr-2",children:"Capacidades:"}),e.capabilities.map(e=>r.jsx(Wi,{variant:"outline",className:"text-xs border-gray-500 text-gray-300",children:e},e))]}),e.prompt&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-600",children:r.jsxs("details",{className:"group",children:[r.jsx("summary",{className:"text-sm text-gray-400 cursor-pointer hover:text-gray-300 transition-colors",children:"Ver prompt do sistema"}),r.jsx("div",{className:"mt-2 p-3 bg-gray-800/50 rounded text-xs text-gray-300 font-mono leading-relaxed",children:e.prompt.length>200?`${e.prompt.substring(0,200)}...`:e.prompt})]})})]},e.id||t)})})]})]})]}),r.jsxs(_i,{className:"bg-gray-800/50 border border-gray-700",children:[r.jsxs(Si,{children:[r.jsxs(ki,{className:"text-white flex items-center",children:[r.jsx(E,{className:"w-5 h-5 mr-2 text-purple-400"}),"Personalizações de Usuários"]}),r.jsx(Oi,{className:"text-gray-400",children:"Visualize como os usuários personalizaram seus Visions"})]}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Vi,{onClick:async()=>{try{const e=await ao.getAllVisionConfigs();G(e)}catch(e){}},size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Carregar Personalizações"]}),r.jsxs(Wi,{className:"bg-purple-500/20 text-purple-300",children:[V.length," personalizações"]})]}),V.length>0?r.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:V.map((e,t)=>r.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:e.vision_name}),r.jsx("p",{className:"text-gray-400 text-sm",children:e.vision_personality})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsx("p",{className:"text-gray-400",children:e.customization_date?new Date(e.customization_date).toLocaleDateString("pt-BR"):"Não personalizado"}),r.jsx(Wi,{variant:e.has_customized_name?"default":"secondary",className:e.has_customized_name?"bg-green-600":"bg-gray-600",children:e.has_customized_name?"Personalizado":"Padrão"})]})]}),r.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[r.jsxs("span",{className:"text-blue-400",children:["Tema: ",e.theme_color]}),r.jsxs("span",{className:"text-green-400",children:["Voz: ",e.voice_enabled?"Ativa":"Desativa"]})]})]},e.user_id||t))}):r.jsxs("div",{className:"text-center text-gray-400 py-6",children:[r.jsx(E,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Nenhuma personalização encontrada"}),r.jsx("p",{className:"text-sm mt-1",children:"Os usuários ainda não personalizaram seus Visions"})]})]})})]})]}),r.jsx(PV,{value:"logs",className:"space-y-6",children:r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[r.jsx(Ne,{className:"w-6 h-6 mr-3 text-blue-400"}),"Sistema de Logs"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Vi,{onClick:()=>{ve()},size:"sm",variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-600/20 hover:border-blue-400 transition-all duration-200",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Atualizar Logs"]}),r.jsxs(Vi,{onClick:()=>{ne([])},size:"sm",variant:"outline",className:"border-red-500/50 text-red-400 hover:bg-red-600/20 hover:border-red-400 transition-all duration-200",children:[r.jsx(q,{className:"w-4 h-4 mr-2"}),"Limpar Logs"]})]})]}),r.jsxs(_i,{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border border-gray-600/50 backdrop-blur-sm",children:[r.jsx(Si,{className:"pb-4",children:r.jsxs(ki,{className:"text-white flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(b,{className:"w-5 h-5 mr-2 text-green-400"}),"Logs em Tempo Real"]}),r.jsxs(Wi,{variant:"outline",className:"border-green-500/50 text-green-400",children:[re.length," registros"]})]})}),r.jsx(Ai,{children:r.jsx(gH,{className:"h-96 w-full",children:r.jsx("div",{className:"space-y-3",children:N?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(f,{className:"w-8 h-8 animate-spin text-blue-400 mr-3"}),r.jsx("span",{className:"text-gray-400",children:"Carregando logs..."})]}):0===re.length?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ne,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400",children:"Nenhum log encontrado"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:'Clique em "Atualizar Logs" para carregar'})]}):re.map((e,t)=>r.jsxs(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"p-4 rounded-lg border-l-4 hover:bg-gray-700/30 transition-all duration-200 cursor-pointer "+("ERROR"===e.level||"error"===e.type?"bg-red-900/20 border-red-500 hover:bg-red-900/30":"WARN"===e.level||"warning"===e.type?"bg-yellow-900/20 border-yellow-500 hover:bg-yellow-900/30":"SUCCESS"===e.level||"success"===e.type?"bg-green-900/20 border-green-500 hover:bg-green-900/30":"bg-blue-900/20 border-blue-500 hover:bg-blue-900/30"),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 rounded-full "+("ERROR"===e.level||"error"===e.type?"bg-red-500":"WARN"===e.level||"warning"===e.type?"bg-yellow-500":"SUCCESS"===e.level||"success"===e.type?"bg-green-500":"bg-blue-500")}),r.jsx("span",{className:"text-white font-medium",children:"object"==typeof(e.action||e.event||e.type)?JSON.stringify(e.action||e.event||e.type):e.action||e.event||e.type||"Sistema"}),e.level&&r.jsx(Wi,{variant:"outline",className:"text-xs "+("ERROR"===e.level?"border-red-500/50 text-red-400":"WARN"===e.level?"border-yellow-500/50 text-yellow-400":"INFO"===e.level?"border-blue-500/50 text-blue-400":"border-green-500/50 text-green-400"),children:e.level})]}),r.jsx("span",{className:"text-xs text-gray-400",children:e.timestamp?new Date(e.timestamp).toLocaleString():(new Date).toLocaleString()})]}),r.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"object"==typeof(e.details||e.message)?JSON.stringify(e.details||e.message,null,2):e.details||e.message}),(e.user_id||e.source)&&r.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-gray-500",children:[e.user_id&&r.jsxs("span",{children:["👤 Usuário: ",String(e.user_id)]}),e.source&&r.jsxs("span",{children:["📍 Origem: ",String(e.source)]})]})]},e.id||t))})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(_i,{className:"bg-gradient-to-br from-red-900/20 to-orange-900/20 border border-red-500/30",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center",children:[r.jsx(R,{className:"w-5 h-5 mr-2 text-red-400"}),"Alertas Críticos"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-3",children:[re.filter(e=>"error"===e.type||"ERROR"===e.level).slice(0,3).map((e,t)=>r.jsxs("div",{className:"p-3 bg-red-900/30 rounded-lg border border-red-500/30",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-red-300 font-medium text-sm",children:"object"==typeof(e.action||e.type)?JSON.stringify(e.action||e.type):e.action||e.type})]}),r.jsx("p",{className:"text-red-200 text-xs",children:"object"==typeof(e.details||e.message)?JSON.stringify(e.details||e.message,null,2):e.details||e.message})]},t)),0===re.filter(e=>"error"===e.type||"ERROR"===e.level).length&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx(i,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-green-400 text-sm",children:"Nenhum erro crítico"})]})]})})]}),r.jsxs(_i,{className:"bg-gradient-to-br from-blue-900/20 to-purple-900/20 border border-blue-500/30",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center",children:[r.jsx(T,{className:"w-5 h-5 mr-2 text-blue-400"}),"Estatísticas"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-blue-900/30 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:re.length}),r.jsx("p",{className:"text-blue-300 text-sm",children:"Total"})]}),r.jsxs("div",{className:"text-center p-3 bg-red-900/30 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-red-400",children:re.filter(e=>"error"===e.type||"ERROR"===e.level).length}),r.jsx("p",{className:"text-red-300 text-sm",children:"Erros"})]}),r.jsxs("div",{className:"text-center p-3 bg-yellow-900/30 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:re.filter(e=>"warning"===e.type||"WARN"===e.level).length}),r.jsx("p",{className:"text-yellow-300 text-sm",children:"Avisos"})]}),r.jsxs("div",{className:"text-center p-3 bg-green-900/30 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-400",children:re.filter(e=>"success"===e.type||"SUCCESS"===e.level).length}),r.jsx("p",{className:"text-green-300 text-sm",children:"Sucessos"})]})]})})]})]})]})}),r.jsx(PV,{value:"monitoring",className:"space-y-6",children:r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[r.jsx(Ie,{className:"w-6 h-6 mr-3 text-green-400"}),"Monitoramento do Sistema"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Vi,{onClick:()=>{be()},size:"sm",variant:"outline",className:"border-green-500/50 text-green-400 hover:bg-green-600/20 hover:border-green-400 transition-all duration-200",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Atualizar Dados"]}),r.jsxs(Vi,{onClick:()=>{se(e=>({...e,alerts:[]}))},size:"sm",variant:"outline",className:"border-orange-500/50 text-orange-400 hover:bg-orange-600/20 hover:border-orange-400 transition-all duration-200",children:[r.jsx(I,{className:"w-4 h-4 mr-2"}),"Limpar Alertas"]})]})]}),k&&r.jsxs(zo,{className:"bg-red-900/50 border-red-700 mb-6",children:[r.jsx(R,{className:"w-4 h-4"}),r.jsx($o,{className:"text-red-200",children:k})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx(_i,{className:"bg-gradient-to-br from-blue-900/40 to-cyan-900/40 border border-blue-500/30",children:r.jsxs(Ai,{className:"p-6 text-center",children:[r.jsx(v,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:ie.uptime}),r.jsx("p",{className:"text-blue-300 text-sm",children:"Uptime do Sistema"}),r.jsx("div",{className:"mt-2 h-1 bg-blue-900/50 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-400 rounded-full",style:{width:"95%"}})})]})}),r.jsx(_i,{className:"bg-gradient-to-br from-green-900/40 to-emerald-900/40 border border-green-500/30",children:r.jsxs(Ai,{className:"p-6 text-center",children:[r.jsx(b,{className:"w-8 h-8 text-green-400 mx-auto mb-3"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[ae.cpuUsage||ie.systemLoad,"%"]}),r.jsx("p",{className:"text-green-300 text-sm",children:"Uso de CPU"}),r.jsx(yq,{value:ae.cpuUsage||ie.systemLoad,className:"mt-2 h-2"})]})}),r.jsx(_i,{className:"bg-gradient-to-br from-purple-900/40 to-pink-900/40 border border-purple-500/30",children:r.jsxs(Ai,{className:"p-6 text-center",children:[r.jsx(H,{className:"w-8 h-8 text-purple-400 mx-auto mb-3"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[ae.memoryUsage||45,"%"]}),r.jsx("p",{className:"text-purple-300 text-sm",children:"Uso de Memória"}),r.jsx(yq,{value:ae.memoryUsage||45,className:"mt-2 h-2"})]})}),r.jsx(_i,{className:"bg-gradient-to-br from-orange-900/40 to-red-900/40 border border-orange-500/30",children:r.jsxs(Ai,{className:"p-6 text-center",children:[r.jsx(x,{className:"w-8 h-8 text-orange-400 mx-auto mb-3"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[ae.networkLatency||120,"ms"]}),r.jsx("p",{className:"text-orange-300 text-sm",children:"Latência de Rede"}),r.jsx("div",{className:"mt-2 h-1 bg-orange-900/50 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-orange-400 rounded-full",style:{width:"80%"}})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(_i,{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border border-gray-600/50",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Se,{className:"w-5 h-5 mr-2 text-blue-400"}),"Status dos Agentes"]}),r.jsxs(Wi,{variant:"outline",className:"border-blue-500/50 text-blue-400",children:[(ae.agents||[]).length," agentes"]})]})}),r.jsxs(Ai,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-green-900/30 rounded-lg p-4 text-center border border-green-500/30",children:[r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mx-auto mb-2 animate-pulse"}),r.jsx("p",{className:"text-xl font-bold text-white",children:(ae.agents||[]).filter(e=>"online"===e.status).length}),r.jsx("p",{className:"text-green-300 text-sm",children:"Online"})]}),r.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center border border-gray-500/30",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-500 rounded-full mx-auto mb-2"}),r.jsx("p",{className:"text-xl font-bold text-white",children:(ae.agents||[]).filter(e=>"offline"===e.status).length}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Offline"})]})]}),r.jsx(gH,{className:"h-64",children:r.jsxs("div",{className:"space-y-2",children:[(ae.agents||[]).map((e,t)=>r.jsxs(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg border border-gray-600/50 hover:bg-gray-700/50 transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 rounded-full "+("online"===e.status?"bg-green-500 animate-pulse":"bg-gray-500")}),r.jsx("span",{className:"text-white font-medium",children:e.name}),r.jsx(Wi,{variant:"outline",className:"text-xs",children:e.type||"assistant"})]}),r.jsx("span",{className:"text-gray-400 text-xs",children:e.last_seen||"Agora"})]},t)),0===(ae.agents||[]).length&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400",children:"Nenhum agente encontrado"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:'Clique em "Atualizar Dados" para carregar'})]})]})})]})]}),r.jsxs(_i,{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border border-gray-600/50",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center",children:[r.jsx(y,{className:"w-5 h-5 mr-2 text-green-400"}),"Resumo do Sistema"]})}),r.jsxs(Ai,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-blue-900/30 rounded-lg p-4 text-center border border-blue-500/30",children:[r.jsx(E,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),r.jsx("p",{className:"text-xl font-bold text-white",children:ae.activeUsers}),r.jsx("p",{className:"text-blue-300 text-sm",children:"Usuários Ativos"})]}),r.jsxs("div",{className:"bg-purple-900/30 rounded-lg p-4 text-center border border-purple-500/30",children:[r.jsx(W,{className:"w-6 h-6 text-purple-400 mx-auto mb-2"}),r.jsx("p",{className:"text-xl font-bold text-white",children:ae.onlineVisions}),r.jsx("p",{className:"text-purple-300 text-sm",children:"Visions Online"})]})]}),r.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600/50",children:[r.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center",children:[r.jsx(b,{className:"w-4 h-4 mr-2 text-green-400"}),"Status Geral"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Saúde do Sistema"}),r.jsx(Wi,{className:""+("optimal"===ae.systemHealth?"bg-green-600":"bg-yellow-600"),children:"optimal"===ae.systemHealth?"Ótimo":"Normal"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Interações Hoje"}),r.jsx("span",{className:"text-white font-semibold",children:ae.interactions})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Mensagens Processadas"}),r.jsx("span",{className:"text-white font-semibold",children:ae.totalMessages})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Última Atualização"}),r.jsx("span",{className:"text-white text-sm",children:(new Date).toLocaleTimeString()})]})]})]})]})]})]})]})})]})}),r.jsx(yW,{open:Z,onOpenChange:Q,children:r.jsxs(wW,{className:"bg-gray-800 border border-gray-700 max-w-2xl",children:[r.jsx(NW,{children:r.jsx(SW,{className:"text-xl font-bold text-white",children:"Detalhes do Vision"})}),K&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Nome:"}),r.jsx("p",{className:"text-white text-lg font-semibold",children:K.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Status:"}),r.jsx(Wi,{className:K.is_active?"bg-green-600":"bg-gray-600",children:K.is_active?"Ativo":"Inativo"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"ID:"}),r.jsx("p",{className:"text-white",children:K.id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Usuário:"}),r.jsx("p",{className:"text-white",children:K.user_id})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Configurações:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Voz:"}),r.jsx("span",{className:"text-white",children:K.voice_enabled?"Sim":"Não"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Auto-fala:"}),r.jsx("span",{className:"text-white",children:K.auto_speak?"Sim":"Não"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Timestamps:"}),r.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Criado:"}),r.jsx("span",{className:"text-white",children:K.created_at?new Date(K.created_at).toLocaleString("pt-BR"):"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Atualizado:"}),r.jsx("span",{className:"text-white",children:K.updated_at?new Date(K.updated_at).toLocaleString("pt-BR"):"N/A"})]})]})]})]})]})}),r.jsx(yW,{open:Y,onOpenChange:J,children:r.jsxs(wW,{className:"bg-gray-800 border border-gray-700 max-w-2xl",children:[r.jsx(NW,{children:r.jsx(SW,{className:"text-xl font-bold text-white",children:"Editar Vision"})}),ee&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-400 block mb-2",children:"Nome:"}),r.jsx(Hi,{value:ee.name||"",onChange:e=>te(t=>({...t,name:e.target.value})),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Nome da Vision"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-400 block mb-2",children:"Cor do Tema:"}),r.jsxs("select",{value:ee.theme_color||"#3B82F6",onChange:e=>te(t=>({...t,theme_color:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg px-3 py-2",children:[r.jsx("option",{value:"#3B82F6",children:"Azul"}),r.jsx("option",{value:"#10B981",children:"Verde"}),r.jsx("option",{value:"#8B5CF6",children:"Roxo"}),r.jsx("option",{value:"#F59E0B",children:"Amarelo"}),r.jsx("option",{value:"#EF4444",children:"Vermelho"}),r.jsx("option",{value:"#6B7280",children:"Cinza"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"voice_enabled",checked:ee.voice_enabled||!1,onChange:e=>te(t=>({...t,voice_enabled:e.target.checked})),className:"rounded border-gray-600"}),r.jsx("label",{htmlFor:"voice_enabled",className:"text-sm text-gray-400",children:"Voz Ativada"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"auto_speak",checked:ee.auto_speak||!1,onChange:e=>te(t=>({...t,auto_speak:e.target.checked})),className:"rounded border-gray-600"}),r.jsx("label",{htmlFor:"auto_speak",className:"text-sm text-gray-400",children:"Auto-fala"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-400 block mb-2",children:"Status:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"is_active",checked:ee.is_active||!1,onChange:e=>te(t=>({...t,is_active:e.target.checked})),className:"rounded border-gray-600"}),r.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-400",children:"Ativo"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(Vi,{onClick:()=>J(!1),variant:"ghost",className:"text-gray-400 hover:text-white",children:"Cancelar"}),r.jsx(Vi,{onClick:async()=>{if(ee)try{S(!0);const t={voice_enabled:ee.voice_enabled,auto_speak:ee.auto_speak,theme_color:ee.theme_color,vision_personality:ee.personality};try{if(ee.user_id)await ao.updateVisionSettings(ee.user_id,t);else{const{data:e,error:r}=await is.from("user_vision_configs").update({...t,updated_at:(new Date).toISOString()}).eq("id",ee.id).select();if(r)throw r}F(e=>e.map(e=>e.id===ee.id?{...e,...t,name:ee.name,vision_name:ee.name,customization_date:(new Date).toISOString()}:e)),we("success",`Vision "${ee.name}" atualizado com sucesso`,"success")}catch(e){we("warning",`Vision "${ee.name}" atualizado apenas localmente`,"warning")}J(!1),te(null),ge(`Vision ${ee.name} foi atualizado com sucesso`)}catch(t){O("Erro ao salvar alterações do Vision"),we("error",`Erro ao salvar Vision: ${t.message}`,"error")}finally{S(!1)}},className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:N,children:N?r.jsxs(r.Fragment,{children:[r.jsx(f,{className:"w-4 h-4 mr-2 animate-spin"}),"Salvando..."]}):"Salvar Alterações"})]})]})]})})]})})}MH.propTypes={isListening:It.bool.isRequired,isSpeaking:It.bool.isRequired,isProcessing:It.bool.isRequired},RH.propTypes={adminData:It.object,onVoiceCommand:It.func};var DH=["PageUp","PageDown"],LH=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zH={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$H="Slider",[UH,BH,FH]=PL($H),[VH,qH]=AL($H,[FH]),[WH,HH]=VH($H),GH=at.forwardRef((e,t)=>{const{name:n,min:a=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:u,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:f,...g}=e,x=at.useRef(new Set),y=at.useRef(0),v="horizontal"===o?YH:JH,[b=[],j]=jU({prop:u,defaultProp:d,onChange:e=>{var t;null==(t=[...x.current][y.current])||t.focus(),h(e)}}),w=at.useRef(b);function N(e,t,{commit:r}={commit:!1}){const n=function(e){return(String(e).split(".")[1]||"").length}(i),o=function(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-a)/i)*i+a,n),l=kL(o,[a,s]);j((e=[])=>{const n=function(e=[],t,r){const n=[...e];return n[r]=t,n.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const r=function(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}(e);return Math.min(...r)>=t}return!0}(n,c*i)){y.current=n.indexOf(l);const t=String(n)!==String(e);return t&&r&&m(n),t?n:e}return e})}return r.jsx(WH,{scope:e.__scopeSlider,name:n,disabled:l,min:a,max:s,valueIndexToChangeRef:y,thumbs:x.current,values:b,orientation:o,form:f,children:r.jsx(UH.Provider,{scope:e.__scopeSlider,children:r.jsx(UH.Slot,{scope:e.__scopeSlider,children:r.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:OL(g.onPointerDown,()=>{l||(w.current=b)}),min:a,max:s,inverted:p,onSlideStart:l?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const r=e.map(e=>Math.abs(e-t)),n=Math.min(...r);return r.indexOf(n)}(b,e);N(e,t)},onSlideMove:l?void 0:function(e){N(e,y.current)},onSlideEnd:l?void 0:function(){const e=w.current[y.current];b[y.current]!==e&&m(b)},onHomeKeyDown:()=>!l&&N(a,0,{commit:!0}),onEndKeyDown:()=>!l&&N(s,b.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!l){const r=DH.includes(e.key)||e.shiftKey&&LH.includes(e.key)?10:1,n=y.current;N(b[n]+i*r*t,n,{commit:!0})}}})})})})});GH.displayName=$H;var[KH,XH]=VH($H,{startEdge:"left",endEdge:"right",size:"width",direction:1}),YH=at.forwardRef((e,t)=>{const{min:n,max:a,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[h,m]=at.useState(null),p=Ti(t,e=>m(e)),f=at.useRef(void 0),g=TL(s),x="ltr"===g,y=x&&!i||!x&&i;function v(e){const t=f.current||h.getBoundingClientRect(),r=lG([0,t.width],y?[n,a]:[a,n]);return f.current=t,r(e-t.left)}return r.jsx(KH,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:r.jsx(ZH,{dir:g,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=v(e.clientX);null==o||o(t)},onSlideMove:e=>{const t=v(e.clientX);null==l||l(t)},onSlideEnd:()=>{f.current=void 0,null==c||c()},onStepKeyDown:e=>{const t=zH[y?"from-left":"from-right"].includes(e.key);null==d||d({event:e,direction:t?-1:1})}})})}),JH=at.forwardRef((e,t)=>{const{min:n,max:a,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=at.useRef(null),h=Ti(t,u),m=at.useRef(void 0),p=!s;function f(e){const t=m.current||u.current.getBoundingClientRect(),r=lG([0,t.height],p?[a,n]:[n,a]);return m.current=t,r(e-t.top)}return r.jsx(KH,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:r.jsx(ZH,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=f(e.clientY);null==i||i(t)},onSlideMove:e=>{const t=f(e.clientY);null==o||o(t)},onSlideEnd:()=>{m.current=void 0,null==l||l()},onStepKeyDown:e=>{const t=zH[p?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})})}),ZH=at.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:a,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=HH($H,n);return r.jsx(To.span,{...d,ref:t,onKeyDown:OL(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):DH.concat(LH).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:OL(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():a(e)}),onPointerMove:OL(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)}),onPointerUp:OL(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(e))})})}),QH="SliderTrack",eG=at.forwardRef((e,t)=>{const{__scopeSlider:n,...a}=e,s=HH(QH,n);return r.jsx(To.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:t})});eG.displayName=QH;var tG="SliderRange",rG=at.forwardRef((e,t)=>{const{__scopeSlider:n,...a}=e,s=HH(tG,n),i=XH(tG,n),o=Ti(t,at.useRef(null)),l=s.values.length,c=s.values.map(e=>oG(e,s.min,s.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return r.jsx(To.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:o,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:u+"%"}})});rG.displayName=tG;var nG="SliderThumb",aG=at.forwardRef((e,t)=>{const n=BH(e.__scopeSlider),[a,s]=at.useState(null),i=Ti(t,e=>s(e)),o=at.useMemo(()=>a?n().findIndex(e=>e.ref.current===a):-1,[n,a]);return r.jsx(sG,{...e,ref:i,index:o})}),sG=at.forwardRef((e,t)=>{const{__scopeSlider:n,index:a,name:s,...i}=e,o=HH(nG,n),l=XH(nG,n),[c,d]=at.useState(null),u=Ti(t,e=>d(e)),h=!c||(o.form||!!c.closest("form")),m=Y$(c),p=o.values[a],f=void 0===p?0:oG(p,o.min,o.max),g=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(a,o.values.length),x=null==m?void 0:m[l.size],y=x?function(e,t,r){const n=e/2,a=lG([0,50],[0,n]);return(n-a(t)*r)*r}(x,f,l.direction):0;return at.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${f}% + ${y}px)`},children:[r.jsx(UH.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(To.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:void 0===p?{display:"none"}:e.style,onFocus:OL(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),h&&r.jsx(iG,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},a)]})});aG.displayName=nG;var iG=at.forwardRef(({__scopeSlider:e,value:t,...n},a)=>{const s=at.useRef(null),i=Ti(s,a),o=wU(t);return at.useEffect(()=>{const e=s.current;if(!e)return;const r=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(r,"value").set;if(o!==t&&n){const r=new Event("input",{bubbles:!0});n.call(e,t),e.dispatchEvent(r)}},[o,t]),r.jsx(To.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});function oG(e,t,r){return kL(100/(r-t)*(e-t),[0,100])}function lG(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}iG.displayName="RadioBubbleInput";var cG=GH,dG=eG,uG=rG,hG=aG;const mG=at.forwardRef(({className:e,...t},n)=>r.jsxs(cG,{ref:n,className:Ni("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(dG,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:r.jsx(uG,{className:"absolute h-full bg-primary"})}),r.jsx(hG,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));function pG({llms:e=[],onUpdate:t=()=>{}}){const[a,s]=at.useState(!1),[o,l]=at.useState(null),[c,d]=at.useState({name:"",provider:"OpenAI",model_id:"",api_key:"",is_active:!0,is_default:!1,temperature:.7,max_tokens:4096,status:"unconfigured"}),u=()=>{l(null),d({name:"",provider:"OpenAI",model_id:"",api_key:"",is_active:!0,is_default:!1,temperature:.7,max_tokens:4096,status:"unconfigured"}),s(!0)},h=e=>{const t={connected:{color:"bg-green-500",text:"Conectado",icon:i},error:{color:"bg-red-500",text:"Erro",icon:xe},unconfigured:{color:"bg-yellow-500",text:"Não Configurado",icon:Q}},n=t[e]||t.unconfigured,a=n.icon;return r.jsxs(Wi,{className:`${n.color} text-white flex items-center gap-1`,children:[r.jsx(a,{className:"w-3 h-3"}),n.text]})},m=e=>{const t={OpenAI:"bg-sky-500",Google:"bg-blue-500",Anthropic:"bg-purple-500",Custom:"bg-gray-500"};return r.jsx(Wi,{className:`${t[e]||t.Custom} text-white`,children:e})},p={total:e.length||0,active:e.filter(e=>e.is_active).length||0,connected:e.filter(e=>"connected"===e.status).length||0,providers:[...new Set(e.map(e=>e.provider))].length||0};return r.jsxs("div",{className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl flex items-center justify-center",children:r.jsx(Me,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-100",children:"Gerenciamento de LLMs"}),r.jsx("p",{className:"text-gray-400 text-sm lg:text-base",children:"Configure e monitore modelos de linguagem da plataforma"})]})]}),r.jsx("div",{className:"lg:ml-auto",children:r.jsxs(Vi,{onClick:u,className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[r.jsx(J,{className:"w-5 h-5 mr-2"}),"Adicionar LLM"]})})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-400",children:"Total de LLMs"}),r.jsx("p",{className:"text-xl lg:text-2xl font-bold text-white",children:p.total})]}),r.jsx(Me,{className:"w-6 lg:w-8 h-6 lg:h-8 text-purple-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-400",children:"LLMs Ativos"}),r.jsx("p",{className:"text-xl lg:text-2xl font-bold text-white",children:p.active})]}),r.jsx(b,{className:"w-6 lg:w-8 h-6 lg:h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-400",children:"Conectados"}),r.jsx("p",{className:"text-xl lg:text-2xl font-bold text-white",children:p.connected})]}),r.jsx(i,{className:"w-6 lg:w-8 h-6 lg:h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-400",children:"Provedores"}),r.jsx("p",{className:"text-xl lg:text-2xl font-bold text-white",children:p.providers})]}),r.jsx(x,{className:"w-6 lg:w-8 h-6 lg:h-8 text-yellow-400"})]})})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((a,i)=>r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*i},children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 h-full flex flex-col hover:border-purple-500/30 transition-all duration-200",children:[r.jsxs(Si,{className:"pb-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(ki,{className:"text-lg lg:text-xl text-cyan-300 mb-1 break-words",children:a.name}),r.jsx("p",{className:"text-xs lg:text-sm text-gray-400 font-mono break-all",children:a.model_id})]}),a.is_default&&r.jsxs(Wi,{variant:"outline",className:"border-yellow-400 text-yellow-400 ml-2 flex-shrink-0",children:[r.jsx(O,{className:"w-3 h-3 mr-1"}),"Padrão"]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[m(a.provider),h(a.status)]})]}),r.jsxs(Ai,{className:"flex-grow space-y-3 pt-0",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400 block",children:"Temperatura"}),r.jsx("span",{className:"font-medium text-white",children:a.temperature||.7})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400 block",children:"Max Tokens"}),r.jsx("span",{className:"font-medium text-white",children:a.max_tokens||4096})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(VV,{checked:a.is_active,onCheckedChange:()=>(async e=>{try{await bo.update(e.id,{is_active:!e.is_active}),t()}catch(r){alert("Erro ao alterar status")}})(a),size:"sm"}),r.jsx("span",{className:"text-xs text-gray-400",children:"Ativo"})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Vi,{variant:"ghost",size:"icon",onClick:()=>(e=>{l(e),d({...e}),s(!0)})(a),className:"h-8 w-8 hover:bg-gray-700",children:r.jsx(Z,{className:"w-3 h-3 text-yellow-400"})}),r.jsx(Vi,{variant:"ghost",size:"icon",onClick:()=>(async e=>{if(confirm("Tem certeza que deseja remover este modelo LLM?"))try{await bo.delete(e),t()}catch(r){alert("Erro ao deletar LLM")}})(a.id),className:"h-8 w-8 hover:bg-gray-700",children:r.jsx(q,{className:"w-3 h-3 text-red-500"})}),!a.is_default&&r.jsx(Vi,{variant:"ghost",size:"icon",onClick:()=>(async r=>{try{const n=e.find(e=>e.is_default);n&&n.id!==r.id&&await bo.update(n.id,{is_default:!1}),await bo.update(r.id,{is_default:!0}),t()}catch(n){alert("Erro ao definir LLM padrão")}})(a),className:"h-8 w-8 hover:bg-gray-700",title:"Definir como padrão",children:r.jsx(O,{className:"w-3 h-3 text-gray-400 hover:text-yellow-400"})})]})]})]})]})},a.id))}),0===e.length&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Me,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Nenhum LLM configurado"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Configure seu primeiro modelo de linguagem para começar."}),r.jsxs(Vi,{onClick:u,className:"bg-gradient-to-r from-purple-500 to-blue-500",children:[r.jsx(J,{className:"w-4 h-4 mr-2"}),"Adicionar Primeiro LLM"]})]}),r.jsx(yW,{open:a,onOpenChange:s,children:r.jsxs(wW,{className:"bg-gray-800 border-gray-700 text-white max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(NW,{children:r.jsx(SW,{className:"text-xl font-bold text-white",children:o?"Editar Modelo LLM":"Adicionar Novo LLM"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Nome de Exibição"}),r.jsx(Hi,{value:c.name||"",onChange:e=>d({...c,name:e.target.value}),className:"bg-gray-700 border-gray-600 text-white",placeholder:"GPT-4 Turbo"})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Provedor"}),r.jsxs(RF,{value:c.provider||"OpenAI",onValueChange:e=>d({...c,provider:e}),children:[r.jsx(LF,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(DF,{})}),r.jsxs(UF,{className:"bg-gray-700 border-gray-600",children:[r.jsx(BF,{value:"OpenAI",children:"OpenAI"}),r.jsx(BF,{value:"Google",children:"Google"}),r.jsx(BF,{value:"Anthropic",children:"Anthropic"}),r.jsx(BF,{value:"Custom",children:"Custom"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Model ID"}),r.jsx(Hi,{placeholder:"gpt-4-turbo-preview",value:c.model_id||"",onChange:e=>d({...c,model_id:e.target.value}),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"API Key"}),r.jsx(Hi,{type:"password",placeholder:"sk-...",value:c.api_key||"",onChange:e=>d({...c,api_key:e.target.value}),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsxs(Do,{className:"text-gray-300",children:["Temperatura: ",c.temperature]}),r.jsx(mG,{value:[c.temperature||.7],onValueChange:e=>d({...c,temperature:e[0]}),max:2,step:.1,className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(Do,{className:"text-gray-300",children:"Max Tokens"}),r.jsx(Hi,{type:"number",value:c.max_tokens||4096,onChange:e=>d({...c,max_tokens:parseInt(e.target.value)}),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(VV,{id:"is_active",checked:c.is_active,onCheckedChange:e=>d({...c,is_active:e})}),r.jsx(Do,{htmlFor:"is_active",className:"text-gray-300",children:"Ativo para uso no sistema"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(Vi,{variant:"outline",onClick:()=>s(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancelar"}),r.jsxs(Vi,{onClick:async()=>{try{const e={...c};e.api_key&&"unconfigured"===e.status&&(e.status="connected"),o?await bo.update(o.id,e):await bo.create(e),s(!1),t()}catch(e){alert("Erro ao salvar LLM")}},className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white",children:[o?"Atualizar":"Criar"," LLM"]})]})]})]})})]})}function fG({analyticsData:e}){const t=(()=>{const t=e.filter(e=>e.response_time),r=t.reduce((e,t)=>e+t.response_time,0)/(t.length||1),n=e.filter(e=>e.success).length/(e.length||1)*100,a=Math.min(100,Math.max(0,100-r/20));return{avgResponseTime:Math.round(r),successRate:Math.round(n),performanceScore:Math.round(a),totalRequests:e.length,errorRate:Math.round(e.filter(e=>!e.success).length/(e.length||1)*100)}})(),n=t.performanceScore>=90?"excellent":t.performanceScore>=70?"good":t.performanceScore>=50?"fair":"poor";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(Re,{className:"w-5 h-5"}),"Score de Performance"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-6xl font-bold mb-4 ${{excellent:"text-green-400",good:"text-blue-400",fair:"text-yellow-400",poor:"text-red-400"}[n]}`,children:t.performanceScore}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-4",children:r.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+("excellent"===n?"bg-green-500":"good"===n?"bg-blue-500":"fair"===n?"bg-yellow-500":"bg-red-500"),style:{width:`${t.performanceScore}%`}})}),r.jsx(Wi,{className:("excellent"===n?"bg-green-500":"good"===n?"bg-blue-500":"fair"===n?"bg-yellow-500":"bg-red-500")+" text-white capitalize",children:n})]})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(v,{className:"w-5 h-5"}),"Tempo de Resposta"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-4xl font-bold text-white mb-2",children:[t.avgResponseTime,"ms"]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Tempo médio"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Excelente (<200ms)"}),r.jsx("span",{className:"text-green-400",children:"✓"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Bom (<500ms)"}),r.jsx("span",{className:t.avgResponseTime<500?"text-green-400":"text-red-400",children:t.avgResponseTime<500?"✓":"✗"})]})]})]})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(i,{className:"w-5 h-5"}),"Taxa de Sucesso"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-4xl font-bold text-green-400 mb-2",children:[t.successRate,"%"]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Requisições bem-sucedidas"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-green-400 font-bold",children:e.filter(e=>e.success).length}),r.jsx("p",{className:"text-gray-400",children:"Sucessos"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-400 font-bold",children:e.filter(e=>!e.success).length}),r.jsx("p",{className:"text-gray-400",children:"Erros"})]})]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Métricas Detalhadas"})}),r.jsxs(Ai,{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Total de Requisições"}),r.jsx(Wi,{className:"bg-blue-500",children:t.totalRequests})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Taxa de Erro"}),r.jsxs(Wi,{className:t.errorRate<5?"bg-green-500":"bg-red-500",children:[t.errorRate,"%"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Disponibilidade"}),r.jsx(Wi,{className:"bg-green-500",children:"99.9%"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"CPU Usage"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yq,{value:35,className:"w-20"}),r.jsx("span",{className:"text-sm text-gray-300",children:"35%"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Memory Usage"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yq,{value:67,className:"w-20"}),r.jsx("span",{className:"text-sm text-gray-300",children:"67%"})]})]})]})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Alertas e Status"})}),r.jsxs(Ai,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-900/20 border border-green-500/30 rounded-lg",children:[r.jsx(i,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-400 font-medium",children:"Sistema Operacional"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Todos os serviços funcionando normalmente"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:[r.jsx(R,{className:"w-5 h-5 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-400 font-medium",children:"Alta Demanda"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Uso acima da média detectado"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[r.jsx(x,{className:"w-5 h-5 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-400 font-medium",children:"Otimização Ativa"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Cache e CDN operando perfeitamente"})]})]})]})]})]})]})}function gG({analyticsData:e,users:t}){const n=(()=>{const r=e.filter(e=>"user_login"===e.event_type);new Set(r.map(e=>e.user_email));return t.map(e=>{const t=r.filter(t=>t.user_email===e.email),n=t.length>0?new Date(Math.max(...t.map(e=>new Date(e.created_date)))):null;return{...e,loginCount:t.length,lastLogin:n,isActive:n&&Date.now()-n.getTime()<864e5}}).sort((e,t)=>t.loginCount-e.loginCount)})();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Usuários Únicos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]}),r.jsx(E,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Usuários Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(e=>e.isActive).length})]}),r.jsx(b,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Sessões Hoje"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>"user_login"===e.event_type&&new Date(e.created_date).toDateString()===(new Date).toDateString()).length})]}),r.jsx(v,{className:"w-8 h-8 text-purple-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Taxa Retenção"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"78%"})]}),r.jsx(De,{className:"w-8 h-8 text-cyan-400"})]})})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Atividade dos Usuários"})}),r.jsx(Ai,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-white",children:"Usuário"}),r.jsx(_L,{className:"text-white",children:"Email"}),r.jsx(_L,{className:"text-white",children:"Logins"}),r.jsx(_L,{className:"text-white",children:"Último Acesso"}),r.jsx(_L,{className:"text-white",children:"Status"})]})}),r.jsx(wL,{children:n.slice(0,10).map(e=>r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-700/50",children:[r.jsx(SL,{className:"font-medium text-white",children:e.full_name}),r.jsx(SL,{className:"text-gray-300",children:e.email}),r.jsx(SL,{className:"text-gray-300",children:e.loginCount}),r.jsx(SL,{className:"text-gray-300",children:e.lastLogin?e.lastLogin.toLocaleDateString("pt-BR"):"Nunca"}),r.jsx(SL,{children:r.jsx(Wi,{className:e.isActive?"bg-green-500":"bg-gray-500",children:e.isActive?"Ativo":"Inativo"})})]},e.id))})]})})})]})]})}function xG(){const e={totalRevenue:125430.5,monthlyRevenue:23890.75,monthlyGrowth:18.5,averageTicket:89.9,totalTransactions:1247,conversionRate:12.3,churnRate:3.2,ltv:450};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Receita Total"}),r.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["R$ ",e.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),r.jsxs(Wi,{className:"bg-green-500/20 text-green-400 mt-2",children:["+",e.monthlyGrowth,"% este mês"]})]}),r.jsx($,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Receita Mensal"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:["R$ ",e.monthlyRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),r.jsx(Wi,{className:"bg-blue-500/20 text-blue-400 mt-2",children:"Meta: R$ 25.000"})]}),r.jsx(T,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Ticket Médio"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:["R$ ",e.averageTicket.toFixed(2)]}),r.jsx(Wi,{className:"bg-purple-500/20 text-purple-400 mt-2",children:"+8.3% vs mês anterior"})]}),r.jsx(K,{className:"w-8 h-8 text-purple-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"LTV Médio"}),r.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:["R$ ",e.ltv.toFixed(2)]}),r.jsx(Wi,{className:"bg-cyan-500/20 text-cyan-400 mt-2",children:"Lifetime Value"})]}),r.jsx(E,{className:"w-8 h-8 text-cyan-400"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Evolução da Receita"})}),r.jsx(Ai,{children:r.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:r.jsxs("div",{className:"text-center",children:[r.jsx(T,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Gráfico de evolução da receita"}),r.jsx("p",{className:"text-sm",children:"Será implementado com recharts"})]})})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Distribuição por Plano"})}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Plano Gratuito"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"40%"}})}),r.jsx("span",{className:"text-sm text-gray-400",children:"40%"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Plano Premium"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"45%"}})}),r.jsx("span",{className:"text-sm text-gray-400",children:"45%"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Plano Enterprise"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"15%"}})}),r.jsx("span",{className:"text-sm text-gray-400",children:"15%"})]})]})]})})]})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Métricas Chave"})}),r.jsx(Ai,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-white",children:e.totalTransactions}),r.jsx("p",{className:"text-gray-400",children:"Total Transações"}),r.jsx(Wi,{className:"bg-blue-500/20 text-blue-400 mt-2",children:"+24.1%"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-white",children:[e.conversionRate,"%"]}),r.jsx("p",{className:"text-gray-400",children:"Taxa Conversão"}),r.jsx(Wi,{className:"bg-green-500/20 text-green-400 mt-2",children:"+2.3%"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-white",children:[e.churnRate,"%"]}),r.jsx("p",{className:"text-gray-400",children:"Taxa Cancelamento"}),r.jsx(Wi,{className:"bg-yellow-500/20 text-yellow-400 mt-2",children:"-0.8%"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-white",children:"96.2%"}),r.jsx("p",{className:"text-gray-400",children:"Taxa Satisfação"}),r.jsx(Wi,{className:"bg-green-500/20 text-green-400 mt-2",children:"+1.5%"})]})]})})]})]})}function yG(){const[e,t]=at.useState({activeUsers:45,currentSessions:32,activeAgents:8,responseTime:234,requests:1247,errors:3}),[a,s]=at.useState([]);return at.useEffect(()=>{const e=setInterval(()=>{t(e=>({activeUsers:e.activeUsers+Math.floor(6*Math.random())-3,currentSessions:e.currentSessions+Math.floor(4*Math.random())-2,activeAgents:Math.max(1,e.activeAgents+Math.floor(3*Math.random())-1),responseTime:Math.max(100,e.responseTime+Math.floor(100*Math.random())-50),requests:e.requests+Math.floor(10*Math.random()),errors:Math.max(0,e.errors+Math.floor(2*Math.random())-1)}));const e=["Novo usuário se conectou","Agente Financeiro executado","Rotina de backup concluída","Integração WhatsApp sincronizada","Pagamento processado","Vision companion ativado"];s(t=>[{id:Date.now(),message:e[Math.floor(Math.random()*e.length)],timestamp:new Date,type:Math.random()>.8?"error":"success"},...t.slice(0,9)])},6e4);return()=>clearInterval(e)},[]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[r.jsx(n.div,{initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.3},children:r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Usuários Online"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:e.activeUsers})]}),r.jsxs("div",{className:"relative",children:[r.jsx(E,{className:"w-6 h-6 text-green-400"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse"})]})]})})})},e.activeUsers),r.jsx(n.div,{initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.3},children:r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Sessões Ativas"}),r.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.currentSessions})]}),r.jsx(Le,{className:"w-6 h-6 text-blue-400"})]})})})},e.currentSessions),r.jsx(n.div,{initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.3},children:r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Agentes Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-purple-400",children:e.activeAgents})]}),r.jsx(x,{className:"w-6 h-6 text-purple-400"})]})})})},e.activeAgents),r.jsx(n.div,{initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.3},children:r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Resposta Média"}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:[e.responseTime,"ms"]})]}),r.jsx(v,{className:"w-6 h-6 text-yellow-400"})]})})})},e.responseTime),r.jsx(n.div,{initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.3},children:r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Requisições"}),r.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:e.requests})]}),r.jsx(P,{className:"w-6 h-6 text-cyan-400"})]})})})},e.requests),r.jsx(n.div,{initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.3},children:r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Erros"}),r.jsx("p",{className:"text-2xl font-bold text-red-400",children:e.errors})]}),r.jsx(b,{className:"w-6 h-6 text-red-400"})]})})})},e.errors)]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(b,{className:"w-5 h-5"}),"Atividade em Tempo Real",r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse ml-2"})]})}),r.jsx(Ai,{children:r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:a.map(e=>r.jsxs(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 rounded-full "+("error"===e.type?"bg-red-400":"bg-green-400")}),r.jsx("span",{className:"text-gray-300",children:e.message})]}),r.jsx("span",{className:"text-xs text-gray-500",children:e.timestamp.toLocaleTimeString()})]},e.id))})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Status dos Serviços"})}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"API Principal"}),r.jsx(Wi,{className:"bg-green-500",children:"Operacional"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Base de Dados"}),r.jsx(Wi,{className:"bg-green-500",children:"Operacional"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Sistema de Pagamentos"}),r.jsx(Wi,{className:"bg-green-500",children:"Operacional"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Integrações"}),r.jsx(Wi,{className:"bg-yellow-500",children:"Parcial"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"CDN"}),r.jsx(Wi,{className:"bg-green-500",children:"Operacional"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Sistema de Email"}),r.jsx(Wi,{className:"bg-green-500",children:"Operacional"})]})]})})]})]})]})}function vG(){const{data:e}=QV(),[t,a]=at.useState("overview"),[s,i]=at.useState("7d"),[o,l]=at.useState([]),[c,d]=at.useState(!0),u=at.useCallback(async()=>{d(!0);try{const e=h();l(e)}catch(e){}d(!1)},[]);at.useEffect(()=>{u()},[u]);const h=()=>{const e=["user_login","agent_usage","routine_execution","payment"],t=[];for(let r=0;r<100;r++)t.push({id:`analytics_${r}`,event_type:e[Math.floor(Math.random()*e.length)],user_email:`user${Math.floor(50*Math.random())}@example.com`,created_date:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),value:Math.floor(1e3*Math.random()),success:Math.random()>.1,response_time:Math.floor(2e3*Math.random())+100});return t},m=(()=>{var t,r,n;if(!e||!o)return{};const a=(null==(t=e.users)?void 0:t.length)||0,s=o.filter(e=>"user_login"===e.event_type&&new Date(e.created_date)>new Date(Date.now()-864e5)).length,i=o.filter(e=>"agent_usage"===e.event_type).length,l=o.filter(e=>e.response_time).reduce((e,t)=>e+t.response_time,0)/(o.filter(e=>e.response_time).length||1),c=o.filter(e=>e.success).length/(o.length||1)*100,d=(null==(r=e.users)?void 0:r.reduce((t,r)=>{var n;const a=null==(n=e.plans)?void 0:n.find(e=>e.id===r.plan_id);return t+((null==a?void 0:a.price)||0)},0))||0;return{totalUsers:a,activeUsers:s,totalAgentUsage:i,avgResponseTime:Math.round(l),successRate:Math.round(c),totalRevenue:d,conversionRate:(((null==(n=e.users)?void 0:n.length)||0)/Math.max(3*a,1)*100).toFixed(1)}})(),p=[{title:"Usuários Totais",value:m.totalUsers,icon:E,color:"text-blue-400",bgColor:"bg-blue-500/10",change:"+12.5%"},{title:"Usuários Ativos (24h)",value:m.activeUsers,icon:b,color:"text-green-400",bgColor:"bg-green-500/10",change:"+8.2%"},{title:"Uso de Agentes",value:m.totalAgentUsage,icon:x,color:"text-purple-400",bgColor:"bg-purple-500/10",change:"+24.1%"},{title:"Tempo Médio Resposta",value:`${m.avgResponseTime}ms`,icon:v,color:"text-yellow-400",bgColor:"bg-yellow-500/10",change:"-5.3%"},{title:"Taxa de Sucesso",value:`${m.successRate}%`,icon:Ae,color:"text-emerald-400",bgColor:"bg-emerald-500/10",change:"+2.1%"},{title:"Receita Total",value:`R$ ${m.totalRevenue.toFixed(2)}`,icon:$,color:"text-green-400",bgColor:"bg-green-500/10",change:"+18.7%"},{title:"Taxa Conversão",value:`${m.conversionRate}%`,icon:T,color:"text-cyan-400",bgColor:"bg-cyan-500/10",change:"+6.4%"},{title:"Score Performance",value:"94/100",icon:Re,color:"text-indigo-400",bgColor:"bg-indigo-500/10",change:"+1.2%"}];return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(L,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando analytics..."})]})}):r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:r.jsx(me,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Central de Analytics"}),r.jsx("p",{className:"text-gray-400",children:"Métricas avançadas e insights estratégicos da plataforma"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(RF,{value:s,onValueChange:i,children:[r.jsxs(LF,{className:"w-32 bg-gray-800 border-gray-600 text-white",children:[r.jsx(Oe,{className:"w-4 h-4 mr-2"}),r.jsx(DF,{})]}),r.jsxs(UF,{className:"bg-gray-800 text-white",children:[r.jsx(BF,{value:"1d",children:"Hoje"}),r.jsx(BF,{value:"7d",children:"7 dias"}),r.jsx(BF,{value:"30d",children:"30 dias"}),r.jsx(BF,{value:"90d",children:"90 dias"})]})]}),r.jsxs(Vi,{onClick:u,variant:"outline",className:"border-gray-600 text-white hover:bg-gray-700",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Atualizar"]}),r.jsxs(Vi,{className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[r.jsx(ze,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4",children:p.map((e,t)=>r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05*t},children:r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 hover:bg-gray-800/70 transition-all duration-300",children:r.jsxs(Ai,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:`w-10 h-10 ${e.bgColor} rounded-lg flex items-center justify-center`,children:r.jsx(e.icon,{className:`w-5 h-5 ${e.color}`})}),r.jsx(Wi,{className:"bg-green-500/20 text-green-400 text-xs",children:e.change})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:e.value}),r.jsx("p",{className:"text-xs text-gray-400",children:e.title})]})]})})},e.title))}),r.jsxs(OV,{value:t,onValueChange:a,className:"space-y-6",children:[r.jsxs(AV,{className:"bg-gray-800/50 border border-gray-700",children:[r.jsxs(CV,{value:"overview",className:"data-[state=active]:bg-blue-600",children:[r.jsx(_,{className:"w-4 h-4 mr-2"}),"Visão Geral"]}),r.jsxs(CV,{value:"users",className:"data-[state=active]:bg-blue-600",children:[r.jsx(E,{className:"w-4 h-4 mr-2"}),"Usuários"]}),r.jsxs(CV,{value:"performance",className:"data-[state=active]:bg-blue-600",children:[r.jsx(Re,{className:"w-4 h-4 mr-2"}),"Performance"]}),r.jsxs(CV,{value:"revenue",className:"data-[state=active]:bg-blue-600",children:[r.jsx($,{className:"w-4 h-4 mr-2"}),"Receita"]}),r.jsxs(CV,{value:"realtime",className:"data-[state=active]:bg-blue-600",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),"Tempo Real"]})]}),r.jsx(PV,{value:"overview",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Atividade dos Usuários"})}),r.jsx(Ai,{children:r.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:r.jsxs("div",{className:"text-center",children:[r.jsx(me,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Gráfico de atividade será implementado"})]})})})]}),r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Performance dos Agentes"})}),r.jsx(Ai,{children:r.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:r.jsxs("div",{className:"text-center",children:[r.jsx(x,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Métricas de agentes serão implementadas"})]})})})]})]})}),r.jsx(PV,{value:"users",children:r.jsx(gG,{analyticsData:o,users:e.users||[]})}),r.jsx(PV,{value:"performance",children:r.jsx(fG,{analyticsData:o})}),r.jsx(PV,{value:"revenue",children:r.jsx(xG,{})}),r.jsx(PV,{value:"realtime",children:r.jsx(yG,{})})]})]})}function bG({routines:e=[],onToggle:t=()=>{}}){const[a,s]=at.useState("all"),o=e=>e.is_active?r.jsx(Wi,{className:"bg-green-500 text-white",children:"Ativa"}):r.jsx(Wi,{className:"bg-gray-500 text-white",children:"Inativa"}),l=e.filter(e=>"active"===a?e.is_active:"inactive"!==a||!e.is_active),c={total:e.length,active:e.filter(e=>e.is_active).length,totalExecutions:e.reduce((e,t)=>e+(t.execution_count||0),0),avgExecution:e.length>0?(e.reduce((e,t)=>e+(t.execution_count||0),0)/e.length).toFixed(1):0};return r.jsxs("div",{className:"admin-full-width space-y-6 w-full max-w-none overflow-hidden",children:[r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl flex items-center justify-center",children:r.jsx(v,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-100",children:"Gerenciamento de Rotinas"}),r.jsx("p",{className:"text-gray-400 text-sm lg:text-base",children:"Configure e monitore automações da plataforma"})]})]}),r.jsx("div",{className:"lg:ml-auto",children:r.jsxs(Vi,{className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white",children:[r.jsx(te,{className:"w-5 h-5 mr-2"}),"Nova Rotina"]})})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-400",children:"Total de Rotinas"}),r.jsx("p",{className:"text-xl lg:text-2xl font-bold text-white",children:c.total})]}),r.jsx(v,{className:"w-6 lg:w-8 h-6 lg:h-8 text-orange-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-400",children:"Rotinas Ativas"}),r.jsx("p",{className:"text-xl lg:text-2xl font-bold text-white",children:c.active})]}),r.jsx(b,{className:"w-6 lg:w-8 h-6 lg:h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-400",children:"Total Execuções"}),r.jsx("p",{className:"text-xl lg:text-2xl font-bold text-white",children:c.totalExecutions})]}),r.jsx(i,{className:"w-6 lg:w-8 h-6 lg:h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-400",children:"Média de Execuções"}),r.jsx("p",{className:"text-xl lg:text-2xl font-bold text-white",children:c.avgExecution})]}),r.jsx(Se,{className:"w-6 lg:w-8 h-6 lg:h-8 text-purple-400"})]})})})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsxs(Vi,{variant:"all"===a?"default":"outline",onClick:()=>s("all"),className:"all"===a?"bg-blue-600":"border-gray-600 text-white hover:bg-gray-700",children:["Todas (",c.total,")"]}),r.jsxs(Vi,{variant:"active"===a?"default":"outline",onClick:()=>s("active"),className:"active"===a?"bg-green-600":"border-gray-600 text-white hover:bg-gray-700",children:["Ativas (",c.active,")"]}),r.jsxs(Vi,{variant:"inactive"===a?"default":"outline",onClick:()=>s("inactive"),className:"inactive"===a?"bg-gray-600":"border-gray-600 text-white hover:bg-gray-700",children:["Inativas (",c.total-c.active,")"]})]}),r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 w-full",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Lista de Rotinas"})}),r.jsx(Ai,{className:"overflow-x-auto",children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-gray-300",children:"Nome"}),r.jsx(_L,{className:"text-gray-300",children:"Criador"}),r.jsx(_L,{className:"text-gray-300",children:"Status"}),r.jsx(_L,{className:"text-gray-300",children:"Execuções"}),r.jsx(_L,{className:"text-gray-300",children:"Última Execução"}),r.jsx(_L,{className:"text-gray-300",children:"Ações"})]})}),r.jsx(wL,{children:l.map(e=>r.jsxs(NL,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(SL,{className:"text-white font-medium",children:e.name}),r.jsx(SL,{className:"text-gray-300",children:e.created_by}),r.jsx(SL,{children:o(e)}),r.jsx(SL,{className:"text-gray-300",children:e.execution_count||0}),r.jsx(SL,{className:"text-gray-400 text-sm",children:e.last_execution?new Date(e.last_execution).toLocaleString("pt-BR"):"Nunca"}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(VV,{checked:e.is_active,onCheckedChange:()=>t(e.id,e.is_active),size:"sm"}),r.jsx(Vi,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-700",children:r.jsx(Z,{className:"w-3 h-3 text-yellow-400"})}),r.jsx(Vi,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-700",children:r.jsx(q,{className:"w-3 h-3 text-red-500"})})]})})]},e.id))})]})})]}),0===l.length&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(v,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Nenhuma rotina encontrada"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"all"===a?"Crie sua primeira rotina para começar.":`Nenhuma rotina ${"active"===a?"ativa":"inativa"} encontrada.`}),r.jsxs(Vi,{className:"bg-gradient-to-r from-orange-500 to-red-500",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Criar Primeira Rotina"]})]})]})}function jG({title:e,value:t,icon:n,color:a,description:s}){const i={blue:"from-blue-500 to-blue-600 text-blue-100 border-blue-400/30",green:"from-green-500 to-green-600 text-green-100 border-green-400/30",teal:"from-teal-500 to-teal-600 text-teal-100 border-teal-400/30",orange:"from-orange-500 to-orange-600 text-orange-100 border-orange-400/30",sky:"from-sky-500 to-sky-600 text-sky-100 border-sky-400/30",cyan:"from-cyan-500 to-cyan-600 text-cyan-100 border-cyan-400/30",purple:"from-purple-500 to-purple-600 text-purple-100 border-purple-400/30",red:"from-red-500 to-red-600 text-red-100 border-red-400/30"};return r.jsxs(_i,{className:`bg-gradient-to-br ${i[a]||i.blue} backdrop-blur-sm border shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105`,children:[r.jsx(Si,{className:"pb-2",children:r.jsxs(ki,{className:"flex items-center gap-2 text-sm font-medium opacity-90",children:[r.jsx(n,{className:"w-4 h-4"}),e]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-2xl font-bold",children:t}),s&&r.jsx("span",{className:"text-xs opacity-75 mt-1",children:s})]})})]})}function wG(){const{globalData:e,syncModule:t}=ko(),{users:n=[]}=e,[a,s]=at.useState([]),[i,o]=at.useState([]),[l,c]=at.useState(null),[d,u]=at.useState(!1),[h,m]=at.useState({title:"",description:"",type:"use_vision",goal:1,xp_reward:100,badge_reward_id:""}),[p,f]=at.useState(null),[g,y]=at.useState(""),[v,b]=at.useState(""),[j,w]=at.useState(!1);at.useEffect(()=>{N()},[]);const N=async()=>{try{await ms.initializeDefaults();const e=await ms.getGlobalStats();e&&c(e),s(us),o(hs)}catch(e){}},_=l||{totalUsers:n.length,activeUsers:n.filter(e=>(e.xp||0)>0).length,averageXp:n.length>0?(n.reduce((e,t)=>e+(t.xp||0),0)/n.length).toFixed(0):0,totalXpDistributed:n.reduce((e,t)=>e+(t.xp||0),0),totalTokensDistributed:n.reduce((e,t)=>e+(t.tokens||0),0),missionCompletions:n.reduce((e,t)=>{var r;return e+((null==(r=t.completed_mission_ids)?void 0:r.length)||0)},0),badgeEarnings:n.reduce((e,t)=>{var r;return e+((null==(r=t.earned_badge_ids)?void 0:r.length)||0)},0)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center",children:r.jsx($e,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Sistema de Gamificação"}),r.jsx("p",{className:"text-gray-400",children:"Gerencie XP, níveis, missões e conquistas dos usuários"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Usuários Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:_.activeUsers})]}),r.jsx(E,{className:"w-8 h-8 text-blue-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"XP Médio"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:_.averageXp})]}),r.jsx(O,{className:"w-8 h-8 text-yellow-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total XP"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:_.totalXpDistributed})]}),r.jsx(T,{className:"w-8 h-8 text-green-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Missões"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:a.length})]}),r.jsx(Ae,{className:"w-8 h-8 text-purple-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Conquistas"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:i.length})]}),r.jsx(ie,{className:"w-8 h-8 text-amber-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completadas"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:_.missionCompletions})]}),r.jsx(me,{className:"w-8 h-8 text-cyan-400"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Tokens Distribuídos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:_.totalTokensDistributed||0})]}),r.jsx(x,{className:"w-8 h-8 text-yellow-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Badges Conquistados"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:_.badgeEarnings||0})]}),r.jsx(ne,{className:"w-8 h-8 text-purple-400"})]})})}),r.jsx(_i,{className:"bg-gray-800/50 backdrop-blur-sm border-gray-700",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Taxa de Engajamento"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[_.totalUsers>0?Math.round(_.activeUsers/_.totalUsers*100):0,"%"]})]}),r.jsx(T,{className:"w-8 h-8 text-green-400"})]})})})]}),r.jsxs(OV,{defaultValue:"users",className:"space-y-6",children:[r.jsxs(AV,{className:"bg-gray-800/50 border border-gray-700",children:[r.jsxs(CV,{value:"users",className:"data-[state=active]:bg-blue-600",children:[r.jsx(E,{className:"w-4 h-4 mr-2"}),"Progresso dos Usuários"]}),r.jsxs(CV,{value:"missions",className:"data-[state=active]:bg-purple-600",children:[r.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Missões"]}),r.jsxs(CV,{value:"badges",className:"data-[state=active]:bg-yellow-600",children:[r.jsx(ie,{className:"w-4 h-4 mr-2"}),"Conquistas"]}),r.jsxs(CV,{value:"tokens",className:"data-[state=active]:bg-green-600",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Controle de Tokens"]})]}),r.jsx(PV,{value:"users",children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Progresso dos Usuários"})}),r.jsx(Ai,{children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-white",children:"Usuário"}),r.jsx(_L,{className:"text-white",children:"Nível"}),r.jsx(_L,{className:"text-white",children:"XP"}),r.jsx(_L,{className:"text-white",children:"Tokens"}),r.jsx(_L,{className:"text-white",children:"Progresso"}),r.jsx(_L,{className:"text-white",children:"Missões"}),r.jsx(_L,{className:"text-white",children:"Conquistas"})]})}),r.jsx(wL,{children:n.map(e=>{var t,n,a;const s=ds.calculateLevel(e.xp||0),i=ds.getProgressToNext(e.xp||0);return r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:(null==(t=e.full_name)?void 0:t.charAt(0))||"U"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:e.full_name}),r.jsx("p",{className:"text-gray-400 text-sm",children:e.email})]})]})}),r.jsx(SL,{children:r.jsxs(Wi,{className:"bg-gradient-to-r from-yellow-500 to-orange-500",children:[r.jsx(ne,{className:"w-3 h-3 mr-1"}),"Nível ",s.level]})}),r.jsxs(SL,{className:"text-white",children:[e.xp||0," XP"]}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{className:"text-yellow-400 font-medium",children:e.tokens||0})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx(yq,{value:i.progress,className:"h-2"}),r.jsx("p",{className:"text-xs text-gray-400",children:i.nextLevel?`${i.needed} XP para nível ${i.nextLevel.level}`:"Nível máximo"})]})}),r.jsx(SL,{children:r.jsx("span",{className:"text-white",children:(null==(n=e.completed_mission_ids)?void 0:n.length)||0})}),r.jsx(SL,{children:r.jsx("span",{className:"text-white",children:(null==(a=e.earned_badge_ids)?void 0:a.length)||0})})]},e.id)})})]})})]})}),r.jsx(PV,{value:"missions",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Gerenciar Missões"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Vi,{onClick:async()=>{try{for(const e of us)await go.create(e);for(const e of hs)await xo.create(e);await N()}catch(e){}},variant:"outline",className:"border-gray-600 text-white",children:"Carregar Padrões"}),r.jsxs(Vi,{onClick:()=>u(!0),className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Nova Missão"]})]})]}),d&&r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Criar Nova Missão"})}),r.jsxs(Ai,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Hi,{placeholder:"Título da missão",value:h.title,onChange:e=>m({...h,title:e.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),r.jsxs("select",{value:h.type,onChange:e=>m({...h,type:e.target.value}),className:"bg-gray-700 border-gray-600 text-white rounded-md px-3 py-2",children:[r.jsx("option",{value:"use_vision",children:"Usar Vision"}),r.jsx("option",{value:"create_routine",children:"Criar Rotina"}),r.jsx("option",{value:"create_agent",children:"Criar Agente"}),r.jsx("option",{value:"complete_profile",children:"Completar Perfil"})]})]}),r.jsx(Hi,{placeholder:"Descrição da missão",value:h.description,onChange:e=>m({...h,description:e.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Hi,{type:"number",placeholder:"Meta (quantidade)",value:h.goal,onChange:e=>m({...h,goal:parseInt(e.target.value)}),className:"bg-gray-700 border-gray-600 text-white"}),r.jsx(Hi,{type:"number",placeholder:"Recompensa XP",value:h.xp_reward,onChange:e=>m({...h,xp_reward:parseInt(e.target.value)}),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Vi,{onClick:async()=>{try{await go.create(h),m({title:"",description:"",type:"use_vision",goal:1,xp_reward:100,badge_reward_id:""}),u(!1),await N()}catch(e){}},className:"bg-green-600 hover:bg-green-700",children:"Criar Missão"}),r.jsx(Vi,{onClick:()=>u(!1),variant:"outline",className:"border-gray-600 text-white",children:"Cancelar"})]})]})]}),r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white",children:["Missões Ativas (",a.length,")"]})}),r.jsx(Ai,{children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-white",children:"Missão"}),r.jsx(_L,{className:"text-white",children:"Tipo"}),r.jsx(_L,{className:"text-white",children:"Meta"}),r.jsx(_L,{className:"text-white",children:"XP"}),r.jsx(_L,{className:"text-white",children:"Completadas"})]})}),r.jsx(wL,{children:a.map(e=>r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(SL,{children:r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:e.title}),r.jsx("p",{className:"text-gray-400 text-sm",children:e.description})]})}),r.jsx(SL,{children:r.jsx(Wi,{variant:"outline",className:"border-gray-500 text-gray-300",children:e.type})}),r.jsx(SL,{className:"text-white",children:e.goal}),r.jsx(SL,{children:r.jsxs("span",{className:"text-yellow-400 font-medium",children:["+",e.xp_reward," XP"]})}),r.jsx(SL,{children:r.jsx("span",{className:"text-white",children:n.filter(t=>{var r;return null==(r=t.completed_mission_ids)?void 0:r.includes(e.id)}).length})})]},e.id))})]})})]})]})}),r.jsx(PV,{value:"badges",children:r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Sistema de Conquistas"})}),r.jsx(Ai,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(e=>r.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg border border-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+("gold"===e.color?"bg-yellow-500":"silver"===e.color?"bg-gray-400":"bg-amber-600"),children:r.jsx(ie,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:e.name}),r.jsx("p",{className:"text-gray-400 text-sm",children:e.description})]})]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[n.filter(t=>{var r;return null==(r=t.earned_badge_ids)?void 0:r.includes(e.id)}).length," usuários conquistaram"]})]},e.id))})})]})}),r.jsx(PV,{value:"tokens",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Controle de Tokens"}),r.jsxs(Vi,{onClick:()=>w(!0),className:"bg-green-600 hover:bg-green-700",children:[r.jsx(se,{className:"w-4 h-4 mr-2"}),"Adicionar Tokens"]})]}),j&&r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Adicionar Tokens para Usuário"})}),r.jsxs(Ai,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Selecionar Usuário"}),r.jsxs("select",{value:(null==p?void 0:p.id)||"",onChange:e=>{const t=n.find(t=>t.id===e.target.value);f(t)},className:"w-full bg-gray-700 border-gray-600 text-white rounded-md px-3 py-2",children:[r.jsx("option",{value:"",children:"Escolha um usuário..."}),n.map(e=>r.jsxs("option",{value:e.id,children:[e.full_name," (",e.tokens||0," tokens)"]},e.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Quantidade de Tokens"}),r.jsx(Hi,{type:"number",placeholder:"Ex: 100",value:g,onChange:e=>y(e.target.value),className:"bg-gray-700 border-gray-600 text-white",min:"1"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Motivo (opcional)"}),r.jsx(Hi,{placeholder:"Ex: Recompensa especial, evento promocional...",value:v,onChange:e=>b(e.target.value),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Vi,{onClick:async()=>{if(!p||!g||g<=0)alert("Por favor, selecione um usuário e insira uma quantidade válida de tokens.");else try{await ms.addXpAndTokens(p.id,0,parseInt(g),v||"Tokens adicionados pelo admin"),await t("users"),await N(),f(null),y(""),b(""),w(!1),alert(`${g} tokens adicionados com sucesso para ${p.full_name}!`)}catch(e){alert("Erro ao adicionar tokens. Tente novamente.")}},className:"bg-green-600 hover:bg-green-700",disabled:!p||!g,children:[r.jsx(se,{className:"w-4 h-4 mr-2"}),"Adicionar Tokens"]}),r.jsx(Vi,{onClick:()=>{w(!1),f(null),y(""),b("")},variant:"outline",className:"border-gray-600 text-white",children:"Cancelar"})]})]})]}),r.jsxs(_i,{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700",children:[r.jsx(Si,{children:r.jsx(ki,{className:"text-white",children:"Gerenciar Tokens dos Usuários"})}),r.jsx(Ai,{children:r.jsxs(bL,{children:[r.jsx(jL,{children:r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(_L,{className:"text-white",children:"Usuário"}),r.jsx(_L,{className:"text-white",children:"Tokens Atuais"}),r.jsx(_L,{className:"text-white",children:"Nível"}),r.jsx(_L,{className:"text-white",children:"Ações"})]})}),r.jsx(wL,{children:n.map(e=>{var n;const a=ds.calculateLevel(e.xp||0);return r.jsxs(NL,{className:"border-gray-700",children:[r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:(null==(n=e.full_name)?void 0:n.charAt(0))||"U"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:e.full_name}),r.jsx("p",{className:"text-gray-400 text-sm",children:e.email})]})]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{className:"text-yellow-400 font-bold text-lg",children:e.tokens||0})]})}),r.jsx(SL,{children:r.jsxs(Wi,{className:"bg-gradient-to-r from-yellow-500 to-orange-500",children:[r.jsx(ne,{className:"w-3 h-3 mr-1"}),"Nível ",a.level]})}),r.jsx(SL,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Vi,{size:"sm",onClick:()=>{f(e),w(!0)},className:"bg-green-600 hover:bg-green-700",children:[r.jsx(te,{className:"w-3 h-3 mr-1"}),"Adicionar"]}),(e.tokens||0)>0&&r.jsxs(Vi,{size:"sm",variant:"destructive",onClick:()=>{const r=prompt("Quantos tokens remover?");if(r&&parseInt(r)>0){const n=prompt("Motivo da remoção (opcional):");(async(e,r,n)=>{try{await ms.spendTokens(e,r,n||"Tokens removidos pelo admin"),await t("users"),await N(),alert(`${r} tokens removidos com sucesso!`)}catch(a){alert("Erro ao remover tokens. Verifique se o usuário tem tokens suficientes.")}})(e.id,parseInt(r),n)}},children:[r.jsx(re,{className:"w-3 h-3 mr-1"}),"Remover"]})]})})]},e.id)})})]})})]})]})})]})]})}function NG(){var e,t,a;const{user:i,profile:o,signOut:l}=fs(),[c,d]=at.useState("dashboard"),[h,m]=at.useState(null),[p,f]=at.useState(!0),[g,x]=at.useState(null),[y,j]=at.useState(new Date),[w,N]=at.useState(!1);at.useEffect(()=>{const e=setInterval(()=>{j(new Date)},1e3);return()=>clearInterval(e)},[]),at.useEffect(()=>{(async()=>{try{f(!0),await new Promise(e=>setTimeout(e,500));m({users:[],agents:[],routines:[],visions:[],plans:[],affiliates:[],integrations:[],llms:[]})}catch(JK){x(JK)}finally{f(!1)}})()},[]);const S=()=>{window.location.reload()},k=e=>{e.toLowerCase().includes("recarregar")&&S()},O=h?{totalUsers:(null==(A=h.users)?void 0:A.length)||0,activeVisions:(null==(C=h.visions)?void 0:C.filter(e=>"active"===e.status).length)||0,totalAgents:(null==(P=h.agents)?void 0:P.length)||0,activeRoutines:(null==(M=h.routines)?void 0:M.filter(e=>e.is_active).length)||0,totalRevenue:(null==(R=h.users)?void 0:R.reduce((e,t)=>{var r;const n=null==(r=h.plans)?void 0:r.find(e=>e.id===t.plan_id);return e+((null==n?void 0:n.price)||0)},0))||0,totalAffiliates:(null==(D=h.affiliates)?void 0:D.length)||0}:{totalUsers:0,totalRevenue:0,totalAgents:0,activeRoutines:0,totalAffiliates:0,activeVisions:0};var A,C,P,M,R,D;const L=[{id:"jarvis",label:"Vision Command",icon:u},{id:"dashboard",label:"Dashboard",icon:Ue},{id:"analytics",label:"Analytics",icon:me},{id:"userManagement",label:"Usuários",icon:E},{id:"systemConfig",label:"Sistema",icon:s},{id:"llmManagement",label:"LLM Config",icon:u},{id:"financial",label:"Financeiro",icon:$},{id:"affiliates",label:"Afiliados",icon:ae},{id:"agents",label:"Agentes",icon:Se},{id:"integrations",label:"Integrações",icon:b},{id:"routines",label:"Rotinas",icon:v},{id:"business",label:"Business",icon:T},{id:"mcp",label:"MCP Monitor",icon:b},{id:"n8n",label:"N8N Manager",icon:b},{id:"gamification",label:"Gamificação",icon:$e}];if(p)return r.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando Central de Comando..."})]})});if(g)return r.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-400 text-xl mb-4",children:"Erro ao carregar dados"}),r.jsx("p",{className:"text-gray-400 mb-4",children:g.message||"Ocorreu um erro desconhecido."}),r.jsx(Vi,{onClick:S,className:"bg-blue-600 hover:bg-blue-700",children:"Tentar Novamente"})]})});return r.jsxs(Wo,{children:[r.jsx(Qo,{}),r.jsxs("div",{className:"min-h-screen bg-gray-950 flex",children:[r.jsx(n.aside,{initial:{x:-280},animate:{x:w?-280:0},transition:{duration:.3,ease:"easeInOut"},className:"fixed left-0 top-0 h-full bg-gray-900/95 backdrop-blur-sm border-r border-gray-800 z-50 overflow-y-auto flex flex-col transition-all duration-300 "+(w?"w-0":"w-72"),children:!w&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 border-b border-gray-800",children:[r.jsxs(ot,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[r.jsx("img",{src:"/assets/images/autvision-logo.png",alt:"AutVision",className:"w-10 h-10"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-white",children:"AutVision Admin"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Central de Comando"})]})]}),r.jsx(ne,{className:"w-6 h-6 text-yellow-400 absolute top-4 right-4"})]}),r.jsx("div",{className:"p-4 border-b border-gray-800",children:r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/50 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-red-500 to-yellow-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-medium",children:(null==(e=null==o?void 0:o.full_name)?void 0:e.charAt(0))||(null==(t=null==i?void 0:i.email)?void 0:t.charAt(0))||"A"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-white truncate",children:(null==o?void 0:o.full_name)||(null==i?void 0:i.email)||"Admin"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:"text-xs bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded",children:"ADMIN"})})]})]})}),r.jsx("nav",{className:"flex-1 p-4",children:r.jsx("div",{className:"space-y-1",children:L.map(e=>{const t=e.icon,n=c===e.id;return r.jsxs("button",{onClick:()=>d(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-all duration-200 "+(n?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[r.jsx(t,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:"font-medium",children:e.label})]},e.id)})})}),r.jsxs("div",{className:"p-4 border-t border-gray-800",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-xs text-gray-400",children:y.toLocaleTimeString("pt-BR")}),r.jsxs(Wi,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse mr-2"}),"Online"]})]}),r.jsxs(Vi,{onClick:async()=>{try{await l()}catch(e){}},variant:"outline",size:"sm",className:"w-full border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white",children:[r.jsx(Be,{className:"w-4 h-4 mr-2"}),"Sair do Admin"]})]})]})}),r.jsxs("div",{className:"flex-1 transition-all duration-300 "+(w?"ml-0":"ml-72"),children:[r.jsx("header",{className:"sticky top-0 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800 p-4 z-40",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Vi,{onClick:()=>N(!w),variant:"ghost",size:"sm",className:"text-gray-300 hover:bg-gray-800 hover:text-white",children:w?r.jsx(Fe,{className:"w-5 h-5"}):r.jsx(I,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:(null==(a=L.find(e=>e.id===c))?void 0:a.label)||"Admin Panel"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Controle total da plataforma AutVision"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Wi,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),y.toLocaleDateString("pt-BR")]}),r.jsx(Vi,{onClick:S,variant:"outline",size:"sm",className:"border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white",children:"Atualizar"})]})]})}),r.jsx("main",{className:"p-6",children:r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:(()=>{switch(c){case"jarvis":return r.jsx(RH,{adminData:h,onVoiceCommand:k});case"dashboard":return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Central de Comando"}),r.jsx("p",{className:"text-xl text-gray-300",children:"Visão completa da plataforma AUTVISION"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(Wi,{className:"bg-green-500/20 text-green-400 border-green-500/30 px-4 py-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse mr-2"}),"Sistema Operacional"]}),r.jsxs(Wi,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30 px-4 py-2",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),y.toLocaleDateString("pt-BR")]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[r.jsx(jG,{title:"Usuários Totais",value:O.totalUsers,icon:E,color:"blue",description:"Usuários cadastrados"}),r.jsx(jG,{title:"Receita Mensal",value:`R$ ${O.totalRevenue.toFixed(2)}`,icon:$,color:"green",description:"Faturamento atual"}),r.jsx(jG,{title:"Agentes Ativos",value:O.totalAgents,icon:Se,color:"teal",description:"IA em funcionamento"}),r.jsx(jG,{title:"Rotinas Ativas",value:O.activeRoutines,icon:v,color:"orange",description:"Automações rodando"}),r.jsx(jG,{title:"Afiliados",value:O.totalAffiliates,icon:ae,color:"sky",description:"Parceiros ativos"}),r.jsx(jG,{title:"Visions Ativos",value:O.activeVisions,icon:_,color:"cyan",description:"Companions online"})]}),r.jsx(vL,{agents:h.agents||[],routines:h.routines||[],users:h.users||[],plans:h.plans||[]})]});case"analytics":return r.jsx(vG,{});case"userManagement":return r.jsx(FF,{});case"systemConfig":return r.jsx(WV,{});case"llmManagement":return r.jsx(pG,{llms:h.llms||[],onUpdate:S});case"financial":return r.jsx(_q,{});case"affiliates":return r.jsx(vq,{});case"agents":return r.jsx(TW,{});case"integrations":return r.jsx(kq,{integrations:h.integrations||[],onUpdate:S});case"routines":return r.jsx(bG,{routines:h.routines||[],onToggle:()=>{}});case"business":return r.jsx(Oq,{});case"mcp":return r.jsx(Aq,{});case"n8n":return r.jsx(EW,{});case"gamification":return r.jsx(wG,{});default:return null}})()},c)})]})]})]})}function _G(){return r.jsx(el,{children:r.jsx(eq,{children:r.jsx(NG,{})})})}mG.displayName=cG.displayName,pG.propTypes={llms:It.array,onUpdate:It.func},bG.propTypes={routines:It.array,onToggle:It.func},jG.propTypes={title:It.string.isRequired,value:It.oneOfType([It.string,It.number]).isRequired,icon:It.elementType.isRequired,color:It.string.isRequired,description:It.string};var SG="horizontal",kG=["horizontal","vertical"],OG=at.forwardRef((e,t)=>{const{decorative:n,orientation:a=SG,...s}=e,i=function(e){return kG.includes(e)}(a)?a:SG,o=n?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return r.jsx(To.div,{"data-orientation":i,...o,...s,ref:t})});OG.displayName="Separator";var AG=OG;const CG=at.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...a},s)=>r.jsx(AG,{ref:s,decorative:n,orientation:t,className:Ni("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));CG.displayName=AG.displayName;const PG=dW,EG=uW,TG=at.forwardRef(({className:e,...t},n)=>r.jsx(hW,{className:Ni("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));TG.displayName=hW.displayName;const IG=Bi("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),MG=at.forwardRef(({side:e="right",className:t,children:n,...a},s)=>r.jsxs(EG,{children:[r.jsx(TG,{}),r.jsxs(mW,{ref:s,className:Ni(IG({side:e}),t),...a,children:[r.jsxs(gW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(I,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));MG.displayName=mW.displayName;at.forwardRef(({className:e,...t},n)=>r.jsx(pW,{ref:n,className:Ni("text-lg font-semibold text-foreground",e),...t})).displayName=pW.displayName;at.forwardRef(({className:e,...t},n)=>r.jsx(fW,{ref:n,className:Ni("text-sm text-muted-foreground",e),...t})).displayName=fW.displayName;var[RG,DG]=AL("Tooltip",[Q$]),LG=Q$(),zG="TooltipProvider",$G=700,UG="tooltip.open",[BG,FG]=RG(zG),VG=e=>{const{__scopeTooltip:t,delayDuration:n=$G,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,o=at.useRef(!0),l=at.useRef(!1),c=at.useRef(0);return at.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),r.jsx(BG,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:at.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:at.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:at.useCallback(e=>{l.current=e},[]),disableHoverableContent:s,children:i})};VG.displayName=zG;var qG="Tooltip",[WG,HG]=RG(qG),GG=e=>{const{__scopeTooltip:t,children:n,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=FG(qG,e.__scopeTooltip),d=LG(t),[u,h]=at.useState(null),m=az(),p=at.useRef(0),f=o??c.disableHoverableContent,g=l??c.delayDuration,x=at.useRef(!1),[y,v]=jU({prop:a,defaultProp:s??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(UG))):c.onClose(),null==i||i(e)},caller:qG}),b=at.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),j=at.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,v(!0)},[v]),w=at.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),N=at.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,v(!0),p.current=0},g)},[g,v]);return at.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),r.jsx(fU,{...d,children:r.jsx(WG,{scope:t,contentId:m,open:y,stateAttribute:b,trigger:u,onTriggerChange:h,onTriggerEnter:at.useCallback(()=>{c.isOpenDelayedRef.current?N():j()},[c.isOpenDelayedRef,N,j]),onTriggerLeave:at.useCallback(()=>{f?w():(window.clearTimeout(p.current),p.current=0)},[w,f]),onOpen:j,onClose:w,disableHoverableContent:f,children:n})})};GG.displayName=qG;var KG="TooltipTrigger",XG=at.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,s=HG(KG,n),i=FG(KG,n),o=LG(n),l=Ti(t,at.useRef(null),s.onTriggerChange),c=at.useRef(!1),d=at.useRef(!1),u=at.useCallback(()=>c.current=!1,[]);return at.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),r.jsx(gU,{asChild:!0,...o,children:r.jsx(To.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:l,onPointerMove:OL(e.onPointerMove,e=>{"touch"!==e.pointerType&&(d.current||i.isPointerInTransitRef.current||(s.onTriggerEnter(),d.current=!0))}),onPointerLeave:OL(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:OL(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:OL(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:OL(e.onBlur,s.onClose),onClick:OL(e.onClick,s.onClose)})})});XG.displayName=KG;var YG="TooltipPortal",[JG,ZG]=RG(YG,{forceMount:void 0}),QG=e=>{const{__scopeTooltip:t,forceMount:n,children:a,container:s}=e,i=HG(YG,t);return r.jsx(JG,{scope:t,forceMount:n,children:r.jsx(oV,{present:n||i.open,children:r.jsx(vU,{asChild:!0,container:s,children:a})})})};QG.displayName=YG;var eK="TooltipContent",tK=at.forwardRef((e,t)=>{const n=ZG(eK,e.__scopeTooltip),{forceMount:a=n.forceMount,side:s="top",...i}=e,o=HG(eK,e.__scopeTooltip);return r.jsx(oV,{present:a||o.open,children:o.disableHoverableContent?r.jsx(iK,{side:s,...i,ref:t}):r.jsx(rK,{side:s,...i,ref:t})})}),rK=at.forwardRef((e,t)=>{const n=HG(eK,e.__scopeTooltip),a=FG(eK,e.__scopeTooltip),s=at.useRef(null),i=Ti(t,s),[o,l]=at.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:h}=a,m=at.useCallback(()=>{l(null),h(!1)},[h]),p=at.useCallback((e,t)=>{const r=e.currentTarget,n={x:e.clientX,y:e.clientY},a=function(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,function(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}(n,r.getBoundingClientRect())),s=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const t=e[n];for(;r.length>=2;){const e=r[r.length-1],n=r[r.length-2];if(!((e.x-n.x)*(t.y-n.y)>=(e.y-n.y)*(t.x-n.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...a,...function(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}(t.getBoundingClientRect())]);l(s),h(!0)},[h]);return at.useEffect(()=>()=>m(),[m]),at.useEffect(()=>{if(c&&u){const e=e=>p(e,u),t=e=>p(e,c);return c.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[c,u,p,m]),at.useEffect(()=>{if(o){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},n=(null==c?void 0:c.contains(t))||(null==u?void 0:u.contains(t)),a=!function(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const e=t[s],o=t[i],l=e.x,c=e.y,d=o.x,u=o.y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(a=!a)}return a}(r,o);n?m():a&&(m(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,u,o,d,m]),r.jsx(iK,{...e,ref:i})}),[nK,aK]=RG(qG,{isInside:!1}),sK=Li("TooltipContent"),iK=at.forwardRef((e,t)=>{const{__scopeTooltip:n,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=HG(eK,n),d=LG(n),{onClose:u}=c;return at.useEffect(()=>(document.addEventListener(UG,u),()=>document.removeEventListener(UG,u)),[u]),at.useEffect(()=>{if(c.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(c.trigger))&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,u]),r.jsx($L,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:r.jsxs(xU,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(sK,{children:a}),r.jsx(nK,{scope:n,isInside:!0,children:r.jsx(SU,{id:c.contentId,role:"tooltip",children:s||a})})]})})});tK.displayName=eK;var oK="TooltipArrow";at.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,s=LG(n);return aK(oK,n).isInside?null:r.jsx(yU,{...s,...a,ref:t})}).displayName=oK;var lK=QG,cK=tK;const dK=VG,uK=GG,hK=XG,mK=at.forwardRef(({className:e,sideOffset:t=4,...n},a)=>r.jsx(lK,{children:r.jsx(cK,{ref:a,sideOffset:t,className:Ni("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));mK.displayName=cK.displayName;const pK=at.createContext(null);function fK(){const e=at.useContext(pK);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const gK=at.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:a,style:s,children:i,...o},l)=>{const c=function(){const[e,t]=at.useState(void 0);return at.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),r=()=>{t(window.innerWidth<768)};return e.addEventListener("change",r),t(window.innerWidth<768),()=>e.removeEventListener("change",r)},[]),!!e}(),[d,u]=at.useState(!1),[h,m]=at.useState(e),p=t??h,f=at.useCallback(e=>{const t="function"==typeof e?e(p):e;n?n(t):m(t),document.cookie=`sidebar_state=${t}; path=/; max-age=604800`},[n,p]),g=at.useCallback(()=>c?u(e=>!e):f(e=>!e),[c,f,u]);at.useEffect(()=>{const e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),g())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[g]);const x=p?"expanded":"collapsed",y=at.useMemo(()=>({state:x,open:p,setOpen:f,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:g}),[x,p,f,c,d,u,g]);return r.jsx(pK.Provider,{value:y,children:r.jsx(dK,{delayDuration:0,children:r.jsx("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...s},className:Ni("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",a),ref:l,...o,children:i})})})});gK.displayName="SidebarProvider";const xK=at.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:a,children:s,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=fK();return"none"===n?r.jsx("div",{className:Ni("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:o,...i,children:s}):l?r.jsx(PG,{open:d,onOpenChange:u,...i,children:r.jsx(MG,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:e,children:r.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):r.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":"collapsed"===c?n:"","data-variant":t,"data-side":e,children:[r.jsx("div",{className:Ni("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===t||"inset"===t?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),r.jsx("div",{className:Ni("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex","left"===e?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===t||"inset"===t?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...i,children:r.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});xK.displayName="Sidebar";const yK=at.forwardRef(({className:e,onClick:t,...n},a)=>{const{toggleSidebar:s}=fK();return r.jsxs(Vi,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ni("h-7 w-7",e),onClick:e=>{null==t||t(e),s()},...n,children:[r.jsx(Ve,{}),r.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});yK.displayName="SidebarTrigger";at.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:a}=fK();return r.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:Ni("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})}).displayName="SidebarRail";at.forwardRef(({className:e,...t},n)=>r.jsx("main",{ref:n,className:Ni("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t})).displayName="SidebarInset";at.forwardRef(({className:e,...t},n)=>r.jsx(Hi,{ref:n,"data-sidebar":"input",className:Ni("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t})).displayName="SidebarInput";const vK=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"header",className:Ni("flex flex-col gap-2 p-2",e),...t}));vK.displayName="SidebarHeader";const bK=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"footer",className:Ni("flex flex-col gap-2 p-2",e),...t}));bK.displayName="SidebarFooter";at.forwardRef(({className:e,...t},n)=>r.jsx(CG,{ref:n,"data-sidebar":"separator",className:Ni("mx-2 w-auto bg-sidebar-border",e),...t})).displayName="SidebarSeparator";const jK=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"content",className:Ni("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));jK.displayName="SidebarContent";const wK=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"group",className:Ni("relative flex w-full min-w-0 flex-col p-2",e),...t}));wK.displayName="SidebarGroup";const NK=at.forwardRef(({className:e,asChild:t=!1,...n},a)=>{const s=t?Mi:"div";return r.jsx(s,{ref:a,"data-sidebar":"group-label",className:Ni("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});NK.displayName="SidebarGroupLabel";at.forwardRef(({className:e,asChild:t=!1,...n},a)=>{const s=t?Mi:"button";return r.jsx(s,{ref:a,"data-sidebar":"group-action",className:Ni("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})}).displayName="SidebarGroupAction";const _K=at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"group-content",className:Ni("w-full text-sm",e),...t}));_K.displayName="SidebarGroupContent";const SK=at.forwardRef(({className:e,...t},n)=>r.jsx("ul",{ref:n,"data-sidebar":"menu",className:Ni("flex w-full min-w-0 flex-col gap-1",e),...t}));SK.displayName="SidebarMenu";const kK=at.forwardRef(({className:e,...t},n)=>r.jsx("li",{ref:n,"data-sidebar":"menu-item",className:Ni("group/menu-item relative",e),...t}));kK.displayName="SidebarMenuItem";const OK=Bi("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),AK=at.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:a="default",tooltip:s,className:i,...o},l)=>{const c=e?Mi:"button",{isMobile:d,state:u}=fK(),h=r.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":a,"data-active":t,className:Ni(OK({variant:n,size:a}),i),...o});return s?("string"==typeof s&&(s={children:s}),r.jsxs(uK,{children:[r.jsx(hK,{asChild:!0,children:h}),r.jsx(mK,{side:"right",align:"center",hidden:"collapsed"!==u||d,...s})]})):h});AK.displayName="SidebarMenuButton";at.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...a},s)=>{const i=t?Mi:"button";return r.jsx(i,{ref:s,"data-sidebar":"menu-action",className:Ni("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...a})}).displayName="SidebarMenuAction";at.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:Ni("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t})).displayName="SidebarMenuBadge";at.forwardRef(({className:e,showIcon:t=!1,...n},a)=>{const s=at.useMemo(()=>`${Math.floor(40*Math.random())+50}%`,[]);return r.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:Ni("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&r.jsx(EH,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),r.jsx(EH,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})}).displayName="SidebarMenuSkeleton";at.forwardRef(({className:e,...t},n)=>r.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:Ni("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t})).displayName="SidebarMenuSub";at.forwardRef(({...e},t)=>r.jsx("li",{ref:t,...e})).displayName="SidebarMenuSubItem";function CK({children:e,currentPageName:t}){var n,a,i;const{signOut:o,profile:l}=fs(),c=[{name:"Dashboard",href:"/client",icon:z,path:"client"},{name:"Agentes",href:"/Agents",icon:p,path:"Agents"},{name:"Rotinas",href:"/Routines",icon:v,path:"Routines"},{name:"Integrações",href:"/Integrations",icon:fe,path:"Integrations"},{name:"Planos",href:"/Plans",icon:ne,path:"Plans"},{name:"Gamificação",href:"/Gamification",icon:$e,path:"Gamification"},{name:"Configurações",href:"/Settings",icon:s,path:"Settings"}],d=async()=>{try{await o()}catch(e){}};return r.jsx(Wo,{children:r.jsx(gK,{children:r.jsxs("div",{className:"flex min-h-screen w-full bg-gray-950",children:[r.jsxs(xK,{className:"border-r border-gray-800 bg-gray-900/50 backdrop-blur-sm",children:[r.jsx(vK,{className:"p-6 border-b border-gray-800",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"V"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Vision AI"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Painel Cliente"})]})]})}),r.jsx(jK,{className:"p-4",children:r.jsxs(wK,{children:[r.jsx(NK,{className:"text-gray-400 text-xs uppercase tracking-wider mb-4",children:"Navegação"}),r.jsx(_K,{children:r.jsx(SK,{children:c.map(e=>r.jsx(kK,{children:r.jsx(AK,{asChild:!0,className:"w-full justify-start gap-3 p-3 rounded-lg transition-all duration-200 "+(t===e.path?"bg-gradient-to-r from-purple-600/30 to-pink-600/30 text-white border border-purple-500/30":"text-gray-300 hover:text-white hover:bg-gray-800/50"),children:r.jsxs(ot,{to:e.href,children:[r.jsx(e.icon,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:e.name})]})})},e.name))})})]})}),r.jsxs(bK,{className:"p-4 border-t border-gray-800",children:[r.jsx("div",{className:"mb-4 p-3 bg-gray-800/50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-bold",children:(null==(n=null==l?void 0:l.full_name)?void 0:n.charAt(0))||(null==(a=null==l?void 0:l.email)?void 0:a.charAt(0))||"U"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-white truncate",children:(null==l?void 0:l.full_name)||"Usuário"}),r.jsx("p",{className:"text-xs text-gray-400 truncate",children:(null==l?void 0:l.email)||"cliente@exemplo.com"})]})]})}),r.jsxs(Vi,{onClick:d,variant:"outline",className:"w-full justify-start gap-2 border-red-500/30 text-red-400 hover:bg-red-500/10 hover:text-red-300",children:[r.jsx(Be,{className:"w-4 h-4"}),"Sair"]})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("header",{className:"h-16 border-b border-gray-800 bg-gray-900/50 backdrop-blur-sm flex items-center justify-between px-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(yK,{className:"text-gray-400 hover:text-white"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-white",children:(null==(i=c.find(e=>e.path===t))?void 0:i.name)||"Dashboard"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Painel do Cliente"})]})]}),r.jsxs(Vi,{onClick:d,variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-gray-800/50 gap-2",children:[r.jsx(Be,{className:"w-4 h-4"}),"Sair"]})]}),r.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})})})}function PK(){const{user:e,updateProfile:t}=fs(),[a,i]=at.useState({name:(null==e?void 0:e.name)||"",email:(null==e?void 0:e.email)||"",bio:(null==e?void 0:e.bio)||"",emailNotifications:!0,pushNotifications:!0,soundEnabled:!0,missionAlerts:!0,weeklyReport:!0,theme:"dark",language:"pt-BR",animations:!0,compactMode:!1,profilePublic:!1,shareStats:!0,dataCollection:!0,autoSave:!0,smartSuggestions:!0,voiceCommands:!1,betaFeatures:!1}),[o,u]=at.useState(!1),[m,p]=at.useState(!1),f=(e,t)=>{i(r=>({...r,[e]:t}))};return r.jsx("div",{className:"min-h-screen bg-gray-950 text-white p-3 sm:p-4 md:p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(s,{className:"w-6 h-6 sm:w-8 sm:h-8 text-cyan-400"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Configurações"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Personalize sua experiência AUTVISION"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 justify-end",children:[m&&r.jsxs(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center gap-2 text-green-400",children:[r.jsx(G,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Salvo!"})]}),r.jsxs(Vi,{onClick:()=>{i({name:(null==e?void 0:e.name)||"",email:(null==e?void 0:e.email)||"",bio:(null==e?void 0:e.bio)||"",emailNotifications:!0,pushNotifications:!0,soundEnabled:!0,missionAlerts:!0,weeklyReport:!0,theme:"dark",language:"pt-BR",animations:!0,compactMode:!1,profilePublic:!1,shareStats:!0,dataCollection:!0,autoSave:!0,smartSuggestions:!0,voiceCommands:!1,betaFeatures:!1})},variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-800 text-xs sm:text-sm px-2 sm:px-4 h-8 sm:h-10",children:[r.jsx(L,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Resetar"}),r.jsx("span",{className:"sm:hidden",children:"Reset"})]}),r.jsx(Vi,{onClick:async()=>{u(!0);try{await new Promise(e=>setTimeout(e,1e3)),a.name===(null==e?void 0:e.name)&&a.email===(null==e?void 0:e.email)||await t({name:a.name,email:a.email,bio:a.bio}),p(!0),setTimeout(()=>p(!1),3e3)}catch(r){}finally{u(!1)}},disabled:o,size:"sm",className:"bg-cyan-600 hover:bg-cyan-700 text-xs sm:text-sm px-2 sm:px-4 h-8 sm:h-10",children:o?r.jsxs(r.Fragment,{children:[r.jsx(L,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 animate-spin"}),r.jsx("span",{className:"hidden sm:inline",children:"Salvando..."}),r.jsx("span",{className:"sm:hidden",children:"..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(G,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Salvar"}),r.jsx("span",{className:"sm:hidden",children:"OK"})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs(_i,{className:"bg-gray-900 border-gray-700",children:[r.jsx(Si,{className:"pb-3 sm:pb-6",children:r.jsxs(ki,{className:"flex items-center gap-2 text-white text-base sm:text-lg",children:[r.jsx(l,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"}),"Perfil"]})}),r.jsxs(Ai,{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1 sm:mb-2",children:"Nome Completo"}),r.jsx(Hi,{value:a.name,onChange:e=>f("name",e.target.value),className:"bg-gray-800 border-gray-600 text-white text-sm h-9 sm:h-10",placeholder:"Seu nome completo"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1 sm:mb-2",children:"Email"}),r.jsx(Hi,{value:a.email,onChange:e=>f("email",e.target.value),className:"bg-gray-800 border-gray-600 text-white text-sm h-9 sm:h-10",placeholder:"seu@email.com",type:"email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1 sm:mb-2",children:"Bio"}),r.jsx(Hi,{value:a.bio,onChange:e=>f("bio",e.target.value),className:"bg-gray-800 border-gray-600 text-white text-sm h-9 sm:h-10",placeholder:"Conte um pouco sobre você..."})]})]})]}),r.jsxs(_i,{className:"bg-gray-900 border-gray-700",children:[r.jsx(Si,{className:"pb-3 sm:pb-6",children:r.jsxs(ki,{className:"flex items-center gap-2 text-white text-base sm:text-lg",children:[r.jsx(qe,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400"}),"Notificações"]})}),r.jsxs(Ai,{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(j,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Email"})]}),r.jsx(VV,{checked:a.emailNotifications,onCheckedChange:e=>f("emailNotifications",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(We,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Push"})]}),r.jsx(VV,{checked:a.pushNotifications,onCheckedChange:e=>f("pushNotifications",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a.soundEnabled?r.jsx(c,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}):r.jsx(h,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Som"})]}),r.jsx(VV,{checked:a.soundEnabled,onCheckedChange:e=>f("soundEnabled",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Alertas de Missão"}),r.jsx(VV,{checked:a.missionAlerts,onCheckedChange:e=>f("missionAlerts",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Relatório Semanal"}),r.jsx(VV,{checked:a.weeklyReport,onCheckedChange:e=>f("weeklyReport",e),className:"scale-90 sm:scale-100"})]})]})]}),r.jsxs(_i,{className:"bg-gray-900 border-gray-700",children:[r.jsx(Si,{className:"pb-3 sm:pb-6",children:r.jsxs(ki,{className:"flex items-center gap-2 text-white text-base sm:text-lg",children:[r.jsx(d,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-400"}),"Aparência"]})}),r.jsxs(Ai,{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:["dark"===a.theme?r.jsx(He,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}):r.jsx(Ge,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Tema"})]}),r.jsx(Wi,{className:"bg-purple-500/20 text-purple-400 border-purple-500/30 text-xs px-2 py-1",children:"dark"===a.theme?"Escuro":"Claro"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(P,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Idioma"})]}),r.jsx(Wi,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30 text-xs px-2 py-1",children:"pt-BR"===a.language?"Português":"English"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Animações"}),r.jsx(VV,{checked:a.animations,onCheckedChange:e=>f("animations",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Modo Compacto"})]}),r.jsx(VV,{checked:a.compactMode,onCheckedChange:e=>f("compactMode",e),className:"scale-90 sm:scale-100"})]})]})]}),r.jsxs(_i,{className:"bg-gray-900 border-gray-700",children:[r.jsx(Si,{className:"pb-3 sm:pb-6",children:r.jsxs(ki,{className:"flex items-center gap-2 text-white text-base sm:text-lg",children:[r.jsx(y,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400"}),"Privacidade & Segurança"]})}),r.jsxs(Ai,{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Perfil Público"}),r.jsx(VV,{checked:a.profilePublic,onCheckedChange:e=>f("profilePublic",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Compartilhar Estatísticas"}),r.jsx(VV,{checked:a.shareStats,onCheckedChange:e=>f("shareStats",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Coleta de Dados"}),r.jsx(VV,{checked:a.dataCollection,onCheckedChange:e=>f("dataCollection",e),className:"scale-90 sm:scale-100"})]}),r.jsxs(Vi,{variant:"outline",className:"w-full border-green-600 text-green-400 hover:bg-green-600/10 text-xs sm:text-sm h-8 sm:h-10",children:[r.jsx(Q,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Alterar Senha"]}),r.jsxs(Vi,{variant:"outline",className:"w-full border-blue-600 text-blue-400 hover:bg-blue-600/10 text-xs sm:text-sm h-8 sm:h-10",children:[r.jsx(ze,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Exportar Dados"]})]})]}),r.jsxs(_i,{className:"bg-gray-900 border-gray-700 lg:col-span-2",children:[r.jsx(Si,{className:"pb-3 sm:pb-6",children:r.jsxs(ki,{className:"flex items-center gap-2 text-white text-base sm:text-lg",children:[r.jsx(x,{className:"w-4 h-4 sm:w-5 sm:h-5 text-cyan-400"}),"Automação & Recursos"]})}),r.jsx(Ai,{children:r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Salvamento Automático"}),r.jsx(VV,{checked:a.autoSave,onCheckedChange:e=>f("autoSave",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Sugestões Inteligentes"}),r.jsx(VV,{checked:a.smartSuggestions,onCheckedChange:e=>f("smartSuggestions",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Comandos de Voz"}),r.jsx(Wi,{className:"bg-orange-500/20 text-orange-400 border-orange-500/30 text-xs px-1.5 py-0.5",children:"BETA"})]}),r.jsx(VV,{checked:a.voiceCommands,onCheckedChange:e=>f("voiceCommands",e),className:"scale-90 sm:scale-100"})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white text-sm sm:text-base",children:"Recursos Beta"}),r.jsx(Wi,{className:"bg-red-500/20 text-red-400 border-red-500/30 text-xs px-1.5 py-0.5",children:"EXPERIMENTAL"})]}),r.jsx(VV,{checked:a.betaFeatures,onCheckedChange:e=>f("betaFeatures",e),className:"scale-90 sm:scale-100"})]})]})})})]}),r.jsxs(_i,{className:"bg-red-900/20 border-red-500/30 lg:col-span-2",children:[r.jsx(Si,{className:"pb-3 sm:pb-6",children:r.jsxs(ki,{className:"flex items-center gap-2 text-red-400 text-base sm:text-lg",children:[r.jsx(q,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Zona de Perigo"]})}),r.jsxs(Ai,{className:"space-y-3 sm:space-y-4",children:[r.jsx("p",{className:"text-gray-300 text-xs sm:text-sm",children:"Estas ações são irreversíveis. Proceda com cuidado."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[r.jsxs(Vi,{variant:"outline",className:"border-red-600 text-red-400 hover:bg-red-600/10 text-xs sm:text-sm h-8 sm:h-10",children:[r.jsx(q,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Limpar Histórico"]}),r.jsxs(Vi,{variant:"outline",className:"border-red-600 text-red-400 hover:bg-red-600/10 text-xs sm:text-sm h-8 sm:h-10",children:[r.jsx(q,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Deletar Conta"]})]})]})]})]})]})})}at.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:a,...s},i)=>{const o=e?Mi:"a";return r.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:Ni("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===t&&"text-xs","md"===t&&"text-sm","group-data-[collapsible=icon]:hidden",a),...s})}).displayName="SidebarMenuSubButton",CK.propTypes={children:It.node.isRequired,currentPageName:It.string};const EK={communication:"from-blue-500 to-cyan-500",coordination:"from-purple-500 to-pink-500",security:"from-red-500 to-orange-500",creative:"from-green-500 to-teal-500",integration:"from-indigo-500 to-blue-500",analytics:"from-yellow-500 to-orange-500",vision:"from-pink-500 to-purple-500",development:"from-blue-500 to-green-500",business:"from-purple-500 to-blue-500",general:"from-gray-500 to-gray-600"};function TK(){const{globalData:e,isLoading:t,syncModule:a}=ko(),[i,o]=at.useState(""),[l,c]=at.useState({}),d=at.useMemo(()=>{const t=e.agents||[];if(0===t.length)return[];return t.map(e=>{return{...e,function:e.description||e.function||`Agente ${e.name}`,description:e.description||`Agente especializado: ${e.name}`,type:e.type||"general",image:e.image_url||e.image||`/assets/images/agents/agent-${e.name.toLowerCase()}.png`,fallbackIcon:(t=e.type||"general",{communication:m,coordination:ne,security:y,creative:Xe,integration:ae,analytics:x,vision:_,development:ge,business:Ke,general:x}[t]||x),is_active:e.is_active||"active"===e.status,plan_required:e.plan_required||"free"};var t})},[e.agents]),u=d.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase()));return t?r.jsx("div",{className:"p-8 text-gray-400",children:"Carregando agentes..."}):r.jsx("div",{className:"min-h-screen p-4 md:p-8 bg-gray-950",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[r.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center",children:r.jsx(x,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Agentes Especializados"}),r.jsx("p",{className:"text-gray-300",children:"Conheça sua equipe de IA especializada em diferentes áreas."})]})]})}),r.jsxs("div",{className:"relative",children:[r.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(Hi,{placeholder:"Buscar agentes...",value:i,onChange:e=>o(e.target.value),className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-400"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((e,t)=>{const i=e.fallbackIcon||x,o=EK[e.type]||EK.general;return r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:r.jsxs(_i,{className:"h-full bg-gray-800 border-gray-700 overflow-hidden "+(e.is_active?"ring-2 ring-blue-500/30":""),children:[r.jsx(Si,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${o} rounded-lg flex items-center justify-center`,children:r.jsx(i,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx(ki,{className:"text-lg font-bold text-white",children:e.name}),r.jsx("p",{className:"text-sm text-gray-400",children:e.function})]})]}),r.jsx(VV,{checked:e.is_active,onCheckedChange:()=>(async e=>{try{const t=!e.is_active;await ho.update(e.id,{is_active:t}),await a("agents")}catch(t){}})(e),className:"data-[state=checked]:bg-blue-500"})]})}),r.jsxs(Ai,{className:"space-y-4",children:[e.image&&!l[e.id]&&r.jsx("div",{className:"relative h-32 bg-gray-900 rounded-lg overflow-hidden",children:r.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover",onError:t=>{return r=e.id,void c(e=>({...e,[r]:!0}));var r}})}),r.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Wi,{variant:e.is_active?"default":"secondary",className:e.is_active?"bg-green-500/20 text-green-400 border-green-500/30":"",children:e.is_active?"Ativo":"Inativo"}),r.jsx(Wi,{variant:"outline",className:"free"===e.plan_required?"text-green-400 border-green-500/30":"pro"===e.plan_required?"text-blue-400 border-blue-500/30":"text-purple-400 border-purple-500/30",children:"free"===e.plan_required?"Gratuito":"pro"===e.plan_required?"Pro":"Enterprise"})]}),r.jsxs(Vi,{variant:"outline",className:"w-full bg-gray-700/50 hover:bg-gray-700 border-gray-600",disabled:!e.is_active,children:[r.jsx(s,{className:"w-4 h-4 mr-2"}),"Configurar"]})]})]})},e.id)})}),0===u.length&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:0===d.length?r.jsx(Se,{className:"w-8 h-8 text-gray-600"}):r.jsx(X,{className:"w-8 h-8 text-gray-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:0===d.length?"Nenhum agente disponível":"Nenhum agente encontrado"}),r.jsx("p",{className:"text-gray-400",children:0===d.length?"Os agentes serão criados pelo administrador e aparecerão aqui automaticamente.":"Tente ajustar os filtros de busca ou explore outros agentes disponíveis."})]})]})})})}const IK=[{icon:Ye,name:"Rotina Matinal",description:"Prepara seu dia com notícias, agenda e música.",config:{trigger_type:"time",trigger_value:"07:00",actions:[{agent_type:"news",action:"get_headlines"},{agent_type:"calendar",action:"get_today_events"}]}},{icon:Ke,name:"Modo Foco",description:"Bloqueia distrações e toca uma playlist para concentrar.",config:{trigger_type:"voice",trigger_value:"Ativar modo foco",actions:[{agent_type:"notifications",action:"set_dnd"},{agent_type:"music",action:"play_focus_playlist"}]}},{icon:x,name:"Fim de Expediente",description:"Resume seu dia de trabalho e prepara para o descanso.",config:{trigger_type:"time",trigger_value:"18:00",actions:[{agent_type:"email",action:"summarize_unread"},{agent_type:"home",action:"set_evening_scene"}]}}];function MK({onTemplateUsed:e}){const{toast:t}=(()=>{const e=at.useContext(qo);if(!e)throw new Error("useToast must be used within a ToastProvider");return e})();return r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Comece com um Template"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:IK.map((a,s)=>r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:r.jsxs(_i,{className:"h-full flex flex-col",children:[r.jsxs(Ai,{className:"p-6 flex-grow",children:[r.jsx(a.icon,{className:"w-8 h-8 text-blue-500 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:a.description})]}),r.jsx("div",{className:"p-6 pt-0",children:r.jsxs(Vi,{className:"w-full",onClick:()=>(async r=>{try{await mo.create({name:r.name,description:r.description,...r.config}),t({title:"Sucesso!",description:`Rotina "${r.name}" criada com sucesso!`}),e()}catch(n){t({title:"Erro",description:"Erro ao criar rotina a partir do template.",variant:"destructive"})}})(a),children:[r.jsx(te,{className:"w-4 h-4 mr-2"}),"Usar Template"]})})]})},s))})]})}const RK={"Bom dia":Je,"Boa noite":He,"Café da manhã":Ye,"Chegada em casa":z};function DK(){const[e,t]=at.useState([]),[i,o]=at.useState(!0),[l,c]=at.useState(!1),[d,u]=at.useState({name:"",description:"",trigger_type:"manual",trigger_value:"",actions:[]}),h=at.useCallback(async()=>{o(!0);try{const e=await mo.list();Array.isArray(e)?t(e):t([])}catch(e){t([])}o(!1)},[]);at.useEffect(()=>{h()},[h]);return r.jsx("div",{className:"min-h-screen p-4 md:p-8 bg-gray-950",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-amber-500 rounded-xl flex items-center justify-center",children:r.jsx(v,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"OPERAÇÃO RESTAURAR E AVANÇAR"}),r.jsx("p",{className:"text-gray-300",children:"Tutorial e Templates de Rotina"})]})]}),r.jsxs(Vi,{onClick:()=>c(!0),className:"bg-gradient-to-r from-orange-500 to-amber-500 hover:opacity-90",children:[r.jsx(te,{className:"w-5 h-5 mr-2"}),"Criar Nova Rotina"]})]}),r.jsx(a,{children:l&&r.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:r.jsxs(_i,{className:"bg-gray-800 border-gray-700 shadow-lg",children:[r.jsx(Si,{children:r.jsx(ki,{children:"Criar Nova Rotina"})}),r.jsxs(Ai,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"routine-name",children:"Nome da Rotina"}),r.jsx(Hi,{id:"routine-name",value:d.name,onChange:e=>u({...d,name:e.target.value}),placeholder:"Ex: Bom dia"})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"routine-description",children:"Descrição"}),r.jsx(Hi,{id:"routine-description",value:d.description,onChange:e=>u({...d,description:e.target.value}),placeholder:"Descreva o que esta rotina faz"})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"trigger-type",children:"Tipo de Ativação"}),r.jsxs(RF,{value:d.trigger_type,onValueChange:e=>u({...d,trigger_type:e}),children:[r.jsx(LF,{children:r.jsx(DF,{placeholder:"Selecione o tipo de ativação"})}),r.jsxs(UF,{children:[r.jsx(BF,{value:"time",children:"Horário"}),r.jsx(BF,{value:"voice",children:"Comando de Voz"}),r.jsx(BF,{value:"event",children:"Evento"}),r.jsx(BF,{value:"manual",children:"Manual"})]})]})]}),"manual"!==d.trigger_type&&r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"trigger-value",children:"Valor do Trigger"}),r.jsx(Hi,{id:"trigger-value",value:d.trigger_value,onChange:e=>u({...d,trigger_value:e.target.value}),placeholder:"time"===d.trigger_type?"Ex: 07:00":"voice"===d.trigger_type?"Ex: Bom dia Vision":"Ex: Chegada em casa"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(Vi,{onClick:async()=>{try{await mo.create({...d,is_active:!0,execution_count:0,created_at:(new Date).toISOString()}),c(!1),u({name:"",description:"",trigger_type:"manual",trigger_value:"",actions:[]}),await h()}catch(e){}},className:"bg-orange-600 hover:bg-orange-700",children:"Criar Rotina"}),r.jsx(Vi,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"})]})]})]})})}),r.jsx(MK,{onTemplateUsed:h}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Suas Rotinas Criadas"}),i?r.jsx("p",{className:"p-8 text-gray-400",children:"Carregando rotinas..."}):Array.isArray(e)&&0===e.length?r.jsx("p",{className:"text-gray-400 text-center py-8",children:"Você ainda não tem nenhuma rotina. Use um template para começar!"}):Array.isArray(e)?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.jsx(a,{children:e.map((e,t)=>{var a;const i=RK[e.name]||x,o=(e=>{switch(e){case"time":return v;case"voice":return x;case"event":return je;default:return s}})(e.trigger_type);return r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:r.jsxs(_i,{className:"overflow-hidden transition-all duration-300 h-full flex flex-col "+(e.is_active?"bg-gray-800 border-orange-500 shadow-lg":"bg-gray-900 border-gray-700"),children:[r.jsx(Si,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+(e.is_active?"bg-gradient-to-r from-orange-500 to-amber-500 text-white":"bg-gray-700 text-gray-400"),children:r.jsx(i,{className:"w-5 h-5"})}),r.jsx(ki,{className:"text-lg font-bold text-white",children:e.name})]}),r.jsx(VV,{checked:e.is_active,onCheckedChange:()=>(async e=>{await mo.update(e.id,{is_active:!e.is_active}),await h()})(e),className:"data-[state=checked]:bg-orange-500"})]})}),r.jsxs(Ai,{className:"flex-grow",children:[r.jsx("p",{className:"text-gray-300 text-sm mb-4",children:e.description}),r.jsxs(Wi,{variant:"outline",className:"flex items-center gap-1 w-fit",children:[r.jsx(o,{className:"w-3 h-3"}),e.trigger_type,": ",e.trigger_value]})]}),r.jsxs(Ci,{className:"flex justify-between items-center bg-gray-800/50 border-t border-gray-600 pt-4",children:[r.jsxs("span",{className:"text-xs text-gray-400",children:[(null==(a=e.actions)?void 0:a.length)||0," ações"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Vi,{variant:"outline",size:"sm",children:r.jsx(Z,{className:"w-4 h-4"})}),r.jsx(Vi,{variant:"outline",size:"sm",children:r.jsx(q,{className:"w-4 h-4"})}),r.jsxs(Vi,{variant:"outline",size:"sm",onClick:()=>(async e=>{await mo.update(e.id,{execution_count:(e.execution_count||0)+1,last_executed:(new Date).toISOString()}),await h()})(e),disabled:!e.is_active,children:[r.jsx(C,{className:"w-4 h-4 mr-2"}),"Executar"]})]})]})]})},e.id)})})}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"Erro ao carregar rotinas."})]})]})})})}const LK={google:j,microsoft:Oe,whatsapp:et,instagram:Qe,spotify:Ze,home_assistant:z,custom:fe},zK={connected:{text:"Conectado",color:"bg-green-900/50 text-green-300 border-green-500/30",icon:i,iconColor:"text-green-400"},disconnected:{text:"Desconectado",color:"bg-gray-800/50 text-gray-300 border-gray-600",icon:I,iconColor:"text-gray-400"},pending:{text:"Pendente",color:"bg-yellow-900/50 text-yellow-300 border-yellow-500/30",icon:v,iconColor:"text-yellow-400"},error:{text:"Erro",color:"bg-red-900/50 text-red-300 border-red-500/30",icon:o,iconColor:"text-red-400"}};function $K(){const[e,t]=at.useState([]),[s,i]=at.useState(!0),[o,l]=at.useState(!1),[c,d]=at.useState({name:"",type:"custom",description:""});at.useEffect(()=>{u()},[]);const u=async()=>{i(!0);try{const e=await po.list();t(e)}catch(e){}i(!1)};return s?r.jsx("div",{className:"p-8",children:"Carregando integrações..."}):r.jsx("div",{className:"min-h-screen p-4 md:p-8 bg-gray-950",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-cyan-500 rounded-xl flex items-center justify-center",children:r.jsx(fe,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Integrações"}),r.jsx("p",{className:"text-gray-300",children:"Conecte seus apps e serviços para turbinar o Vision."})]})]}),r.jsxs(Vi,{onClick:()=>l(!0),className:"bg-gradient-to-r from-green-500 to-cyan-500 hover:opacity-90",children:[r.jsx(J,{className:"w-5 h-5 mr-2"}),"Adicionar Integração"]})]}),r.jsx(a,{children:o&&r.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:r.jsxs(_i,{className:"bg-gray-800 border-gray-700 shadow-lg",children:[r.jsx(Si,{children:r.jsx(ki,{children:"Nova Integração"})}),r.jsxs(Ai,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"name",children:"Nome da Integração"}),r.jsx(Hi,{id:"name",value:c.name,onChange:e=>d({...c,name:e.target.value}),placeholder:"Ex: Meu Home Assistant"})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"type",children:"Tipo"}),r.jsxs(RF,{value:c.type,onValueChange:e=>d({...c,type:e}),children:[r.jsx(LF,{children:r.jsx(DF,{placeholder:"Selecione um tipo"})}),r.jsxs(UF,{children:[r.jsx(BF,{value:"google",children:"Google"}),r.jsx(BF,{value:"microsoft",children:"Microsoft"}),r.jsx(BF,{value:"whatsapp",children:"WhatsApp"}),r.jsx(BF,{value:"instagram",children:"Instagram"}),r.jsx(BF,{value:"spotify",children:"Spotify"}),r.jsx(BF,{value:"home_assistant",children:"Home Assistant"}),r.jsx(BF,{value:"custom",children:"Personalizada"})]})]})]}),r.jsxs("div",{children:[r.jsx(Do,{htmlFor:"description",children:"Descrição"}),r.jsx(Hi,{id:"description",value:c.description,onChange:e=>d({...c,description:e.target.value}),placeholder:"Descreva o que esta integração faz"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(Vi,{onClick:async()=>{try{await po.create({...c,status:"disconnected",created_at:(new Date).toISOString()}),l(!1),d({name:"",type:"custom",description:""}),await u()}catch(e){}},className:"bg-green-600 hover:bg-green-700",children:"Adicionar"}),r.jsx(Vi,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"})]})]})]})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((e,t)=>{const a=LK[e.type]||fe,s=zK[e.status];return r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:r.jsxs(_i,{className:"overflow-hidden transition-all duration-300 h-full flex flex-col "+("connected"===e.status?"bg-gray-800 border-green-500 shadow-lg":"bg-gray-900 border-gray-700"),children:[r.jsx(Si,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center "+("connected"===e.status?"bg-gradient-to-r from-green-500 to-cyan-500 text-white":"bg-gray-700 text-gray-400"),children:r.jsx(a,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx(ki,{className:"text-lg font-bold text-white",children:e.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(s.icon,{className:`w-4 h-4 ${s.iconColor}`}),r.jsx("span",{className:"text-sm font-medium",children:s.text})]})]})]})}),r.jsx(Ai,{className:"flex-grow",children:r.jsx("p",{className:"text-gray-300 text-sm mb-4",children:e.description})}),r.jsx("div",{className:"p-4 bg-gray-800/50 border-t border-gray-600 mt-4",children:"connected"===e.status?r.jsx(Vi,{variant:"destructive",className:"w-full",onClick:()=>(async e=>{await po.update(e.id,{status:"disconnected",connected_at:null}),await u()})(e),children:"Desconectar"}):r.jsx(Vi,{variant:"default",className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>(async e=>{await po.update(e.id,{status:"connected",connected_at:(new Date).toISOString()}),await u()})(e),children:"Conectar"})})]})},e.id)})})]})})})}function UK(){const{globalData:e,isLoading:t}=ko(),[a,s]=at.useState(null),o=at.useMemo(()=>{var t;return(null==(t=e.plans)?void 0:t.filter(e=>e.is_active))||[]},[e.plans]);at.useEffect(()=>{o.length>0&&s(o.find(e=>"Starter"===e.name)||o[0])},[o]);const l=e=>{switch(e.toLowerCase()){case"starter":case"básico":default:return O;case"pro":case"professional":return x;case"enterprise":case"empresarial":return ne}},c=e=>{switch(e.toLowerCase()){case"starter":case"básico":return"from-green-500 to-emerald-600";case"pro":case"professional":return"from-blue-500 to-indigo-600";case"enterprise":case"empresarial":return"from-purple-500 to-pink-600";default:return"from-gray-500 to-gray-600"}};return t?r.jsx("div",{className:"min-h-screen p-4 md:p-8 bg-gray-950",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx("div",{className:"text-gray-400",children:"Carregando planos..."})})})}):r.jsx("div",{className:"min-h-screen p-4 md:p-8 bg-gray-950",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[r.jsx("div",{className:"text-center space-y-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:r.jsx(ne,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Planos Vision AI"}),r.jsx("p",{className:"text-gray-300",children:"Escolha o plano ideal para sua jornada de automação"})]})]})}),a&&r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(_i,{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 border-blue-500/30",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"flex items-center gap-2 text-white",children:[r.jsx(i,{className:"w-5 h-5 text-green-400"}),"Seu Plano Atual"]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${c(a.name)} rounded-lg flex items-center justify-center`,children:(()=>{const e=l(a.name);return r.jsx(e,{className:"w-5 h-5 text-white"})})()}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:a.name}),r.jsxs("p",{className:"text-gray-300",children:["R$ ",a.price,"/mês"]})]})]}),r.jsx(Wi,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Ativo"})]})})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((e,t)=>{const s=l(e.name),o=(null==a?void 0:a.id)===e.id;return r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:r.jsxs(_i,{className:`h-full flex flex-col relative overflow-hidden ${e.is_popular?"bg-gradient-to-br from-purple-900/50 to-pink-900/50 border-purple-500/50":"bg-gray-800/50 border-gray-700"} backdrop-blur-sm`,children:[e.is_popular&&r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx(Wi,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:"Mais Popular"})}),r.jsx(Si,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${c(e.name)} rounded-xl flex items-center justify-center`,children:r.jsx(s,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx(ki,{className:"text-xl font-bold text-white",children:e.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-2xl font-bold text-white",children:["R$ ",e.price]}),r.jsx("span",{className:"text-gray-400",children:"/mês"})]})]})]})}),r.jsxs(Ai,{className:"flex-grow space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(E,{className:"w-4 h-4 text-blue-400"}),r.jsxs("span",{className:"text-gray-300",children:[e.max_agents," Agentes IA"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(v,{className:"w-4 h-4 text-green-400"}),r.jsxs("span",{className:"text-gray-300",children:[e.max_routines," Rotinas"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(fe,{className:"w-4 h-4 text-purple-400"}),r.jsxs("span",{className:"text-gray-300",children:[e.max_integrations," Integrações"]})]})]}),e.features&&e.features.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-semibold text-white",children:"Recursos inclusos:"}),r.jsx("div",{className:"space-y-1",children:e.features.slice(0,4).map((e,t)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(i,{className:"w-3 h-3 text-green-400"}),r.jsx("span",{className:"text-sm text-gray-300",children:e})]},t))})]}),r.jsx("div",{className:"pt-4 border-t border-gray-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Suporte:"}),r.jsx(Wi,{variant:"outline",className:"text-xs",children:"basic"===e.support_level?"Básico":"priority"===e.support_level?"Prioritário":"Premium"})]})})]}),r.jsx("div",{className:"p-6 pt-0",children:r.jsx(Vi,{className:"w-full "+(o?"bg-gray-600 hover:bg-gray-700 cursor-not-allowed":e.is_popular?"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700"),disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx(i,{className:"w-4 h-4 mr-2"}),"Plano Atual"]}):r.jsxs(r.Fragment,{children:[r.jsx($,{className:"w-4 h-4 mr-2"}),"Assinar Plano"]})})})]})},e.id)})}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center space-y-4",children:r.jsx(_i,{className:"bg-gray-800/30 border-gray-700/50 backdrop-blur-sm",children:r.jsx(Ai,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"💡 Não encontrou o plano ideal?"}),r.jsx("p",{className:"text-gray-300",children:"Entre em contato conosco para criar um plano personalizado para suas necessidades específicas."}),r.jsx(Vi,{variant:"outline",className:"border-purple-500/50 text-purple-400 hover:bg-purple-500/10",children:"Falar com Especialista"})]})})})})]})})})}const BK=at.createContext(),FK=({children:e})=>{const{user:t}=fs(),[n,a]=at.useState({level:1,xp:0,xpToNextLevel:100,totalXp:0,tokens:0,achievements:[],completedMissions:[],earnedBadges:[],streak:0,lastActivity:null,currentLevel:null,progressToNext:null,weeklyProgress:0,weeklyGoal:50}),[s,i]=at.useState(!0);at.useEffect(()=>{(async()=>{var e,r;if(null==t?void 0:t.id)try{const n=await ms.getUserProgress(t.id);n&&a({level:(null==(e=n.currentLevel)?void 0:e.level)||1,xp:n.xp||0,xpToNextLevel:(null==(r=n.progressToNext)?void 0:r.needed)||100,totalXp:n.xp||0,tokens:n.tokens||0,achievements:n.earnedBadges||[],completedMissions:n.completedMissions||[],earnedBadges:n.earnedBadges||[],streak:n.streak||0,lastActivity:n.lastActivity,currentLevel:n.currentLevel,progressToNext:n.progressToNext,weeklyProgress:n.weeklyProgress||0,weeklyGoal:n.weeklyGoal||50})}catch(n){}finally{i(!1)}else i(!1)})()},[null==t?void 0:t.id]);const[o]=at.useState([{id:"first_vision",name:"Primeira Visão",description:"Ativou sua primeira Vision",icon:"👁️",xpReward:50,unlocked:!1},{id:"agent_master",name:"Mestre dos Agentes",description:"Criou 5 agentes diferentes",icon:"🤖",xpReward:100,unlocked:!1},{id:"streak_week",name:"Semana Consistente",description:"Usou o sistema por 7 dias seguidos",icon:"🔥",xpReward:200,unlocked:!1},{id:"power_user",name:"Usuário Avançado",description:"Alcançou o nível 10",icon:"⭐",xpReward:500,unlocked:!1}]),l=at.useCallback(async(e,r=0,n="")=>{var s,i;if(null==t?void 0:t.id)try{const o=await ms.addXpAndTokens(t.id,e,r,n);if(o){const e=await ms.getUserProgress(t.id);e&&a({level:(null==(s=e.currentLevel)?void 0:s.level)||1,xp:e.xp||0,xpToNextLevel:(null==(i=e.progressToNext)?void 0:i.needed)||100,totalXp:e.xp||0,tokens:e.tokens||0,achievements:e.earnedBadges||[],completedMissions:e.completedMissions||[],earnedBadges:e.earnedBadges||[],streak:e.streak||0,lastActivity:e.lastActivity,currentLevel:e.currentLevel,progressToNext:e.progressToNext}),o.levelUp}}catch(o){}},[null==t?void 0:t.id]),c=at.useCallback(async e=>{var r,n;if(null==t?void 0:t.id)try{const s=await ms.completeMission(t.id,e);if(s.success){const e=await ms.getUserProgress(t.id);return e&&a({level:(null==(r=e.currentLevel)?void 0:r.level)||1,xp:e.xp||0,xpToNextLevel:(null==(n=e.progressToNext)?void 0:n.needed)||100,totalXp:e.xp||0,tokens:e.tokens||0,achievements:e.earnedBadges||[],completedMissions:e.completedMissions||[],earnedBadges:e.earnedBadges||[],streak:e.streak||0,lastActivity:e.lastActivity,currentLevel:e.currentLevel,progressToNext:e.progressToNext}),s}}catch(s){}},[null==t?void 0:t.id]),d=at.useCallback(async(e,r="")=>{if(null==t?void 0:t.id)try{const n=await ms.spendTokens(t.id,e,r);if(n.success)return a(e=>({...e,tokens:n.newTokens})),n}catch(n){}},[null==t?void 0:t.id]),u=at.useCallback(e=>{const t=o.find(t=>t.id===e);t&&a(r=>r.achievements.includes(e)?r:(l(t.xpReward,`Conquista: ${t.name}`),{...r,achievements:[...r.achievements,e]}))},[o,l]),h=at.useCallback(()=>{a(e=>{const t=new Date,r=e.lastActivity?new Date(e.lastActivity):null;if(!r)return{...e,streak:1,lastActivity:t.toISOString()};const n=Math.floor((t-r)/864e5);if(1===n){const r=e.streak+1;return 7===r&&u("streak_week"),{...e,streak:r,lastActivity:t.toISOString()}}return n>1?{...e,streak:1,lastActivity:t.toISOString()}:e})},[u]),m={activateVision:()=>{l(25,"Vision ativada"),u("first_vision")},createAgent:()=>{l(15,"Agente criado")},completeTask:()=>{l(10,"Tarefa completada")},dailyLogin:()=>{h(),l(5,"Login diário")},chatInteraction:()=>{l(2,"Interação no chat")}};at.useEffect(()=>{n.level>=10&&!n.achievements.includes("power_user")&&u("power_user")},[n.level,n.achievements,u]);const p={userStats:n,achievements:o,loading:s,addXp:l,completeMission:c,spendTokens:d,unlockAchievement:u,updateStreak:h,actions:m};return r.jsx(BK.Provider,{value:p,children:e})};function VK(){var e;const{userStats:t,loading:a,addXp:s,completeMission:o,spendTokens:l}=(()=>{const e=at.useContext(BK);if(!e)throw new Error("useGamification deve ser usado dentro de GamificationProvider");return e})(),[c,d]=at.useState(!0),[u,h]=at.useState(null),[m,p]=at.useState(!1),f={background:c?"bg-gradient-to-br from-gray-950 via-purple-950/20 to-black":"bg-gradient-to-br from-purple-50 via-white to-purple-100",cardBg:c?"bg-gray-900/60 backdrop-blur-md border-gray-800/60":"bg-white/80 backdrop-blur-md border-gray-200",text:c?"text-white":"text-gray-900",textSecondary:c?"text-gray-300":"text-gray-600",accent:"text-purple-400",button:c?"bg-purple-600 hover:bg-purple-700":"bg-purple-500 hover:bg-purple-600"};if(a)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-500"})});const g=ds.calculateLevel(t.xp),y=ds.getProgressToNext(t.xp),b=[{id:1,title:"Primeiro Contato",description:"Primeira interação com Vision",icon:O,unlocked:!0,rarity:"common",xpReward:100,unlockedAt:"2024-01-15"},{id:2,title:"Conversador",description:"100 interações com Vision",icon:E,unlocked:!0,rarity:"uncommon",xpReward:250,unlockedAt:"2024-01-20"},{id:3,title:"Visionário Dedicado",description:"7 dias consecutivos",icon:tt,unlocked:!0,rarity:"rare",xpReward:500,unlockedAt:"2024-01-25"},{id:4,title:"Mestre dos Agentes",description:"Gerencie 10 agentes simultaneamente",icon:ne,unlocked:!0,rarity:"epic",xpReward:1e3,unlockedAt:"2024-02-01"},{id:5,title:"Workflow Master",description:"Crie 50 workflows automatizados",icon:$e,unlocked:!1,rarity:"legendary",xpReward:2500,progress:32,total:50},{id:6,title:"Vision Supremo",description:"Alcance o nível 25",icon:rt,unlocked:!1,rarity:"legendary",xpReward:5e3,progress:15,total:25}],j=[{id:1,title:"Avatar Exclusivo",description:"Avatar dourado para Vision",cost:1e3,type:"cosmetic",icon:ne,available:!0},{id:2,title:"Boost XP 2x",description:"24h de XP duplo",cost:500,type:"boost",icon:x,available:!0},{id:3,title:"Tema Premium",description:"Tema exclusivo do dashboard",cost:750,type:"cosmetic",icon:O,available:!1}],w=e=>{switch(e){case"common":default:return"text-gray-400 border-gray-400";case"uncommon":return"text-green-400 border-green-400";case"rare":return"text-blue-400 border-blue-400";case"epic":return"text-purple-400 border-purple-400";case"legendary":return"text-yellow-400 border-yellow-400"}},N=y.nextLevelXP>0?t.xp/y.nextLevelXP*100:0,_=(t.weeklyGoal||50)>0?(t.weeklyProgress||0)/(t.weeklyGoal||50)*100:0;return r.jsx("div",{className:`min-h-screen transition-all duration-1000 ${f.background}`,children:r.jsxs("div",{className:"p-6 space-y-8",children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-center space-x-3",children:[r.jsx($e,{className:"h-8 w-8 text-yellow-400"}),r.jsx("h1",{className:`text-3xl font-bold ${f.text}`,children:"Gamificação"}),r.jsx($e,{className:"h-8 w-8 text-yellow-400"})]}),r.jsx("p",{className:`text-lg ${f.textSecondary}`,children:"Acompanhe seu progresso e conquiste recompensas incríveis!"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(_i,{className:f.cardBg,children:r.jsxs(Ai,{className:"p-6 text-center",children:[r.jsx(ne,{className:`h-8 w-8 ${f.accent} mx-auto mb-2`}),r.jsx("p",{className:"text-2xl font-bold",children:g.level}),r.jsx("p",{className:`text-sm ${f.textSecondary}`,children:"Nível Atual"}),r.jsx("p",{className:`text-xs ${f.accent} mt-1`,children:g.title})]})}),r.jsx(_i,{className:f.cardBg,children:r.jsxs(Ai,{className:"p-6 text-center",children:[r.jsx(x,{className:"h-8 w-8 text-yellow-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:t.xp.toLocaleString()}),r.jsx("p",{className:`text-sm ${f.textSecondary}`,children:"XP Atual"}),r.jsx(yq,{value:N,className:"mt-2 h-2"})]})}),r.jsx(_i,{className:f.cardBg,children:r.jsxs(Ai,{className:"p-6 text-center",children:[r.jsx(tt,{className:"h-8 w-8 text-orange-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:t.streak||0}),r.jsx("p",{className:`text-sm ${f.textSecondary}`,children:"Dias Consecutivos"}),r.jsx("p",{className:"text-xs text-orange-400 mt-1",children:"🔥 Em chamas!"})]})}),r.jsx(_i,{className:f.cardBg,children:r.jsxs(Ai,{className:"p-6 text-center",children:[r.jsx(ie,{className:"h-8 w-8 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:(null==(e=t.earnedBadges)?void 0:e.length)||0}),r.jsx("p",{className:`text-sm ${f.textSecondary}`,children:"Conquistas"}),r.jsx("p",{className:"text-xs text-green-400 mt-1",children:"Desbloqueadas"})]})})]}),r.jsxs(_i,{className:f.cardBg,children:[r.jsx(Si,{children:r.jsxs(ki,{className:`flex items-center space-x-2 ${f.text}`,children:[r.jsx(Oe,{className:"h-5 w-5"}),r.jsx("span",{children:"Meta Semanal"})]})}),r.jsx(Ai,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:f.textSecondary,children:"Interações esta semana"}),r.jsxs("span",{className:`font-bold ${f.text}`,children:[t.weeklyProgress||0,"/",t.weeklyGoal||50]})]}),r.jsx(yq,{value:_,className:"h-3"}),r.jsxs("p",{className:`text-sm ${f.textSecondary}`,children:["Faltam ",(t.weeklyGoal||50)-(t.weeklyProgress||0)," interações para completar a meta semanal"]})]})})]}),r.jsxs(_i,{className:f.cardBg,children:[r.jsx(Si,{children:r.jsxs(ki,{className:`flex items-center space-x-2 ${f.text}`,children:[r.jsx(Ae,{className:"h-5 w-5"}),r.jsx("span",{children:"Missões Diárias"})]})}),r.jsx(Ai,{children:r.jsx("div",{className:"space-y-4",children:[{id:1,title:"Conversar com Vision",description:"Tenha 5 conversas hoje",progress:3,total:5,xpReward:100,completed:!1},{id:2,title:"Criar Workflow",description:"Crie 1 novo workflow",progress:1,total:1,xpReward:200,completed:!0},{id:3,title:"Gerenciar Agentes",description:"Interaja com 3 agentes diferentes",progress:2,total:3,xpReward:150,completed:!1}].map(e=>r.jsx(n.div,{className:"p-4 rounded-lg border "+(e.completed?"bg-green-500/10 border-green-500/30":"bg-gray-500/10 border-gray-500/30"),whileHover:{scale:1.02},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[e.completed?r.jsx(i,{className:"h-6 w-6 text-green-400"}):r.jsx(v,{className:"h-6 w-6 text-gray-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:`font-semibold ${f.text}`,children:e.title}),r.jsx("p",{className:`text-sm ${f.textSecondary}`,children:e.description})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs(Wi,{variant:e.completed?"default":"secondary",children:["+",e.xpReward," XP"]}),r.jsx("div",{className:"mt-1",children:r.jsx(yq,{value:e.progress/e.total*100,className:"w-20 h-2"})})]})]})},e.id))})})]}),r.jsxs(_i,{className:f.cardBg,children:[r.jsx(Si,{children:r.jsxs(ki,{className:`flex items-center space-x-2 ${f.text}`,children:[r.jsx($e,{className:"h-5 w-5"}),r.jsx("span",{children:"Conquistas"})]})}),r.jsx(Ai,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(e=>{const t=e.icon;return r.jsx(n.div,{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${e.unlocked?w(e.rarity):"border-gray-600 opacity-50"}`,whileHover:{scale:e.unlocked?1.05:1},onClick:()=>e.unlocked&&h(e),children:r.jsxs("div",{className:"text-center space-y-2",children:[e.unlocked?r.jsx(t,{className:`h-8 w-8 mx-auto ${w(e.rarity).split(" ")[0]}`}):r.jsx(S,{className:"h-8 w-8 mx-auto text-gray-500"}),r.jsx("h4",{className:`font-semibold ${f.text}`,children:e.title}),r.jsx("p",{className:`text-xs ${f.textSecondary}`,children:e.description}),e.unlocked?r.jsxs(Wi,{className:w(e.rarity),children:["+",e.xpReward," XP"]}):void 0!==e.progress&&r.jsxs("div",{className:"space-y-1",children:[r.jsx(yq,{value:e.progress/e.total*100,className:"h-2"}),r.jsxs("p",{className:"text-xs text-gray-400",children:[e.progress,"/",e.total]})]})]})},e.id)})})})]}),r.jsxs(_i,{className:f.cardBg,children:[r.jsx(Si,{children:r.jsxs(ki,{className:`flex items-center space-x-2 ${f.text}`,children:[r.jsx(se,{className:"h-5 w-5"}),r.jsx("span",{children:"Loja de Recompensas"})]})}),r.jsx(Ai,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(e=>{const a=e.icon;return r.jsx(n.div,{className:"p-4 rounded-lg border "+(e.available?"border-blue-500/30 bg-blue-500/10":"border-gray-500/30 bg-gray-500/10 opacity-50"),whileHover:{scale:e.available?1.05:1},children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx(a,{className:"h-8 w-8 mx-auto "+(e.available?"text-blue-400":"text-gray-500")}),r.jsx("h4",{className:`font-semibold ${f.text}`,children:e.title}),r.jsx("p",{className:`text-xs ${f.textSecondary}`,children:e.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Wi,{variant:e.available?"default":"secondary",children:[e.cost," XP"]}),r.jsx(Vi,{size:"sm",disabled:!e.available||t.xp<e.cost,className:f.button,children:e.available?"Resgatar":"Indisponível"})]})]})},e.id)})})})]})]})})}function qK(){const e=st(),{profile:t,isAuthenticated:n,initializing:a}=fs();return at.useEffect(()=>{if(a)return;if(!n)return void e("/LandingPage");const r="admin"===(null==t?void 0:t.role)||"digitalinfluenceradm@gmail.com"===(null==t?void 0:t.email);e(r?"/admin":"/client",{replace:!0})},[e,t,n,a]),r.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center mx-auto animate-pulse",children:r.jsx("span",{className:"text-white font-bold",children:"V"})}),r.jsx("div",{className:"text-gray-300",children:"Redirecionando..."})]})})}FK.propTypes={children:It.node.isRequired};const WK=()=>{const[e,t]=at.useState([{id:1,name:"API Connection Test",description:"Testa a conexão com a API backend",status:"idle",result:null,duration:null},{id:2,name:"Database Connection",description:"Verifica a conectividade com o banco de dados",status:"idle",result:null,duration:null},{id:3,name:"Authentication Test",description:"Testa o sistema de autenticação",status:"idle",result:null,duration:null},{id:4,name:"Component Rendering",description:"Verifica se os componentes estão renderizando corretamente",status:"idle",result:null,duration:null}]),[a,s]=at.useState(!1),o=async e=>{t(t=>t.map(t=>t.id===e?{...t,status:"running",result:null,duration:null}:t));const r=Date.now();await new Promise(e=>setTimeout(e,2e3*Math.random()+1e3));const n=Date.now()-r,a=Math.random()>.3;t(t=>t.map(t=>t.id===e?{...t,status:"completed",result:a?"success":"error",duration:n}:t))},l=(e,t)=>"running"===e?r.jsx(Wi,{variant:"secondary",children:"Executando..."}):"completed"===e?"success"===t?r.jsx(Wi,{variant:"default",className:"bg-green-500",children:"Sucesso"}):r.jsx(Wi,{variant:"destructive",children:"Falhou"}):r.jsx(Wi,{variant:"outline",children:"Aguardando"}),c=e.filter(e=>"completed"===e.status),d=e.filter(e=>"success"===e.result),u=e.filter(e=>"error"===e.result);return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx(nt,{className:"h-8 w-8 text-blue-400"}),r.jsx("h1",{className:"text-4xl font-bold text-white",children:"Página de Testes"})]}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Execute testes para verificar o funcionamento dos componentes e serviços"})]}),r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(b,{className:"h-5 w-5 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total de Testes"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(i,{className:"h-5 w-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Sucessos"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:d.length})]})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xe,{className:"h-5 w-5 text-red-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Falhas"}),r.jsx("p",{className:"text-2xl font-bold text-red-400",children:u.length})]})]})})}),r.jsx(_i,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Ai,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(v,{className:"h-5 w-5 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Completados"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:c.length})]})]})})})]}),r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-4 justify-center",children:[r.jsxs(Vi,{onClick:async()=>{s(!0);for(const t of e)await o(t.id),await new Promise(e=>setTimeout(e,500));s(!1)},disabled:a,className:"bg-blue-600 hover:bg-blue-700",children:[a?r.jsx(L,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(C,{className:"h-4 w-4 mr-2"}),a?"Executando...":"Executar Todos"]}),r.jsxs(Vi,{onClick:()=>{t(e=>e.map(e=>({...e,status:"idle",result:null,duration:null})))},variant:"outline",disabled:a,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(L,{className:"h-4 w-4 mr-2"}),"Resetar"]})]}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid gap-4",children:e.map((e,t)=>{return r.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70 transition-colors",children:[r.jsx(Si,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[(s=e.status,c=e.result,"running"===s?r.jsx(L,{className:"h-4 w-4 animate-spin"}):"completed"===s?"success"===c?r.jsx(i,{className:"h-4 w-4 text-green-500"}):r.jsx(xe,{className:"h-4 w-4 text-red-500"}):r.jsx(v,{className:"h-4 w-4 text-gray-400"})),r.jsxs("div",{children:[r.jsx(ki,{className:"text-white text-lg",children:e.name}),r.jsx(Oi,{className:"text-gray-400",children:e.description})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[e.duration&&r.jsxs("span",{className:"text-sm text-gray-400",children:[e.duration,"ms"]}),l(e.status,e.result)]})]})}),r.jsx(Ai,{className:"pt-0",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",e.id]}),r.jsxs(Vi,{size:"sm",onClick:()=>o(e.id),disabled:"running"===e.status||a,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:["running"===e.status?r.jsx(L,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(C,{className:"h-3 w-3 mr-1"}),"running"===e.status?"Executando":"Executar"]})]})})]})},e.id);var s,c})}),r.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:r.jsxs(_i,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Si,{children:r.jsxs(ki,{className:"text-white flex items-center gap-2",children:[r.jsx(H,{className:"h-5 w-5"}),"Informações do Sistema"]})}),r.jsx(Ai,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(W,{className:"h-4 w-4 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Ambiente"}),r.jsx("p",{className:"text-white font-medium",children:"Desenvolvimento"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Le,{className:"h-4 w-4 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Status da API"}),r.jsx("p",{className:"text-green-400 font-medium",children:"Online"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(b,{className:"h-4 w-4 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Última Atualização"}),r.jsx("p",{className:"text-white font-medium",children:(new Date).toLocaleTimeString()})]})]})]})})]})})]})})};function HK({children:e}){const{isAuthenticated:t,initializing:n}=fs();return n?r.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:r.jsx("div",{className:"text-white",children:"Carregando..."})}):t?e:r.jsx(pt,{to:"/login",replace:!0})}function GK(){return r.jsx(ut,{children:r.jsxs(ht,{children:[r.jsx(mt,{path:"/",element:r.jsx(Vo,{})}),r.jsx(mt,{path:"/dashboard",element:r.jsx(qK,{})}),r.jsx(mt,{path:"/client",element:r.jsx(HK,{children:r.jsx(CK,{currentPageName:"client",children:r.jsx(Eo,{})})})}),r.jsx(mt,{path:"/admin",element:r.jsx(HK,{children:r.jsx(_G,{})})}),r.jsx(mt,{path:"/settings",element:r.jsx(HK,{children:r.jsx(CK,{currentPageName:"Settings",children:r.jsx(PK,{})})})}),r.jsx(mt,{path:"/agents",element:r.jsx(HK,{children:r.jsx(CK,{currentPageName:"Agents",children:r.jsx(TK,{})})})}),r.jsx(mt,{path:"/Routines",element:r.jsx(HK,{children:r.jsx(CK,{currentPageName:"Routines",children:r.jsx(DK,{})})})}),r.jsx(mt,{path:"/Integrations",element:r.jsx(HK,{children:r.jsx(CK,{currentPageName:"Integrations",children:r.jsx($K,{})})})}),r.jsx(mt,{path:"/Plans",element:r.jsx(HK,{children:r.jsx(CK,{currentPageName:"Plans",children:r.jsx(UK,{})})})}),r.jsx(mt,{path:"/Gamification",element:r.jsx(HK,{children:r.jsx(CK,{currentPageName:"Gamification",children:r.jsx(VK,{})})})}),r.jsx(mt,{path:"/LandingPage",element:r.jsx(Vo,{})}),r.jsx(mt,{path:"/login",element:r.jsx(Uo,{})}),r.jsx(mt,{path:"/SignUp",element:r.jsx(Fo,{})}),r.jsx(mt,{path:"/test",element:r.jsx(WK,{})}),r.jsx(mt,{path:"*",element:r.jsx(pt,{to:"/",replace:!0})})]})})}function KK(){const{toasts:e}=PH();return r.jsxs(Wo,{children:[e.map(function({id:e,title:t,description:n,action:a,...s}){return r.jsxs(Ko,{...s,children:[r.jsxs("div",{className:"grid gap-1",children:[t&&r.jsx(Jo,{children:t}),n&&r.jsx(Yo,{children:n})]}),a,r.jsx(Xo,{})]},e)}),r.jsx(Zo,{})]})}function XK(){return r.jsx(gs,{children:r.jsx(Co,{children:r.jsxs(FK,{children:[r.jsx(GK,{}),r.jsx(KK,{})]})})})}HK.propTypes={children:It.node.isRequired};const YK=window.fetch;window.fetch=function(e,t={}){if("string"==typeof e&&e.includes("supabase.co")){let t=e;t=t.replace(/([&?]order=[^&]*\.desc):1/g,"$1").replace(/([&?]order=[^&]*\.asc):1/g,"$1").replace(/([&?][^=]+=eq\.[^&]*):1/g,"$1").replace(/([&?][^=]+=gte\.[^&]*):1/g,"$1").replace(/([&?][^=]+=lte\.[^&]*):1/g,"$1").replace(/([&?][^=]+=like\.[^&]*):1/g,"$1").replace(/([&?][^=]+=ilike\.[^&]*):1/g,"$1").replace(/([&?]limit=[0-9]+):1/g,"$1").replace(/:1(&|$)/g,"$1"),e!==t&&(t.includes("?")?t+="&_fixed=1":t+="?_fixed=1"),e=t}return YK.call(this,e,t)},Nt.createRoot(document.getElementById("root")).render(r.jsx(lt.StrictMode,{children:r.jsx(XK,{})}));
